import{u as c,a}from"./useMutation-Chvc8RUs.js";import{s as m,t as n,h as t}from"./index-FKmzij_1.js";function g(){const r=m(),s=c({queryKey:["customers"],queryFn:n.getCustomers}),o=a({mutationFn:e=>n.createCustomer(e),onSuccess:()=>{r.invalidateQueries({queryKey:["customers"]}),t.success("Customer added successfully!")},onError:e=>{t.error(`Error adding customer: ${e.message}`)}}),u=a({mutationFn:({id:e,updates:d})=>n.updateCustomer(e,d),onSuccess:()=>{r.invalidateQueries({queryKey:["customers"]}),t.success("Customer updated successfully!")},onError:e=>{t.error(`Error updating customer: ${e.message}`)}}),i=a({mutationFn:e=>n.deleteCustomer(e),onSuccess:()=>{r.invalidateQueries({queryKey:["customers"]}),t.success("Customer deleted successfully!")},onError:e=>{t.error(`Error deleting customer: ${e.message}`)}});return{customers:s.data||[],isLoading:s.isLoading,isError:s.isError,error:s.error,createCustomer:o.mutate,updateCustomer:u.mutate,deleteCustomer:i.mutate,isCreating:o.isPending,isUpdating:u.isPending,isDeleting:i.isPending}}function C(r){return c({queryKey:["customers",r],queryFn:()=>n.getCustomerById(r),enabled:!!r})}function q(r){const s=m(),o=c({queryKey:["customer_interactions",r],queryFn:()=>n.getCustomerInteractions(r),enabled:!0}),u=a({mutationFn:e=>n.createInteraction(e),onSuccess:()=>{s.invalidateQueries({queryKey:["customer_interactions"]}),r&&s.invalidateQueries({queryKey:["customer_interactions",r]}),t.success("Interaction added successfully!")},onError:e=>{t.error(`Error adding interaction: ${e.message}`)}}),i=a({mutationFn:e=>n.deleteInteraction(e),onSuccess:()=>{s.invalidateQueries({queryKey:["customer_interactions"]}),r&&s.invalidateQueries({queryKey:["customer_interactions",r]}),t.success("Interaction deleted successfully!")},onError:e=>{t.error(`Error deleting interaction: ${e.message}`)}});return{interactions:o.data||[],isLoading:o.isLoading,isError:o.isError,error:o.error,createInteraction:u.mutate,deleteInteraction:i.mutate,isCreating:u.isPending,isDeleting:i.isPending}}export{C as a,q as b,g as u};
