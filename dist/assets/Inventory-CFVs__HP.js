import{c as E,r as l,j as e,f as Y,F as ee,S as te,B as se,E as re,m as R,h as o}from"./index-FKmzij_1.js";import{a as ae,b as ne,u as le,c as oe}from"./useInventory-ClbVrNoR.js";import{B as ce}from"./Breadcrumbs-CCWRCGTu.js";import{T as ie}from"./tag-BH-xb0w9.js";import{P as S}from"./plus-KKCTwYn-.js";import{P as de}from"./package-D-b4TRM-.js";import{A as xe}from"./alert-triangle-BP7YKB9s.js";import{P as me}from"./pen-line-BqlyzjWd.js";import{M as ue}from"./more-vertical-BLMGgQLM.js";import{S as he}from"./square-pen-_Hdyo78T.js";import"./useMutation-Chvc8RUs.js";import"./validation-Bq8tbDJB.js";import"./types-D9u2zvev.js";import"./chevron-right-uU2N22sE.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=E("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=E("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),pe=()=>null,je=()=>null,fe=()=>null,be=({item:s,onView:x,onEdit:n,onDelete:d,onQuickStock:r})=>{const g=()=>!s.currentStock||s.currentStock===0?"out":s.currentStock<=s.minStockLevel?"low":s.currentStock>=s.maxStockLevel?"high":"normal",c=b=>{switch(b){case"out":return"text-red-600 bg-red-50 border-red-200";case"low":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"high":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-green-600 bg-green-50 border-green-200"}},y=g();return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.sku})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:x,className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:e.jsx(re,{className:"w-4 h-4"})}),e.jsx("button",{onClick:n,className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:e.jsx(me,{className:"w-4 h-4"})}),e.jsx("button",{onClick:d,className:"p-1 text-gray-400 hover:text-red-600 rounded",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded",children:e.jsx(ue,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Current Stock"}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${c(y)}`,children:[s.currentStock||0," ",s.unit||"units"]})]}),s.costPrice&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Cost Price"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",s.costPrice]})]}),s.sellPrice&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Sell Price"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",s.sellPrice]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Reorder Level"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.reorderPoint||0})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:r,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Quick Stock Update"}),e.jsxs("span",{className:"text-xs text-gray-400",children:["Last updated: ",new Date(s.updatedAt||"").toLocaleDateString()]})]})})]})})},ve=({analytics:s,items:x})=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Inventory Overview"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalItems}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Items"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",s.totalValue.toLocaleString()]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Total Value"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.lowStockItems}),e.jsx("div",{className:"text-sm text-gray-500",children:"Low Stock"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.outOfStockItems}),e.jsx("div",{className:"text-sm text-gray-500",children:"Out of Stock"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Stock Status Distribution"}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Normal Stock"}),e.jsx("span",{className:"text-sm font-medium",children:x.filter(n=>{const d=n.currentStock||0;return d>n.minStockLevel&&d<n.maxStockLevel}).length})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Activity"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Turnover Rate: ",s.turnoverRate,"%"]}),e.jsxs("p",{children:["Warehouse Utilization: ",s.warehouseUtilization,"%"]})]})]})]})]})}),Ne=()=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("button",{className:"flex items-center justify-center p-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),"Add Item"]}),e.jsxs("button",{className:"flex items-center justify-center p-3 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(te,{className:"w-5 h-5 mr-2"}),"Stock In"]}),e.jsxs("button",{className:"flex items-center justify-center p-3 bg-yellow-50 text-yellow-700 rounded-lg hover:bg-yellow-100 transition-colors",children:[e.jsx(xe,{className:"w-5 h-5 mr-2"}),"Low Stock"]}),e.jsxs("button",{className:"flex items-center justify-center p-3 bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(se,{className:"w-5 h-5 mr-2"}),"Reports"]})]})]})}),we=({items:s,onEdit:x,onDelete:n,onQuickStock:d})=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(r=>{const c=!r.currentStock||r.currentStock===0?"out":r.currentStock<=r.minStockLevel?"low":"normal";return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.name}),e.jsx("div",{className:"text-sm text-gray-500",children:r.description})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.sku}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[r.currentStock||0," ",r.unit||"units"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",r.costPrice||0]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c==="out"?"bg-red-100 text-red-800":c==="low"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:c==="out"?"Out of Stock":c==="low"?"Low Stock":"In Stock"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>d(r),className:"text-blue-600 hover:text-blue-900",children:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>x(r),className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>n(r),className:"text-red-600 hover:text-red-900",children:e.jsx(R,{className:"w-4 h-4"})})]})})]},r.id)})})]})})}),$e=()=>{const[s,x]=l.useState(""),[n,d]=l.useState(null),[r,g]=l.useState("all"),[c,y]=l.useState("grid"),[b,h]=l.useState(!1),[D,v]=l.useState(!1),[V,N]=l.useState(!1),[p,j]=l.useState(null),[$,z]=l.useState(null),w=ae(),k=ne(),B=le(),F=oe(),i=w.items||[],u=k.categories||[];B.data;const Q=w.isLoading||!1,U=k.isLoading||!1,C=w.createItem,I=k.createCategory,A=F.createTransaction,Z=[{label:"Dashboard",path:"/"},{label:"Inventory",path:"/inventory"}],f=l.useMemo(()=>Array.isArray(i)?i.filter(t=>{if(s&&!t.name.toLowerCase().includes(s.toLowerCase())&&!t.sku.toLowerCase().includes(s.toLowerCase())||n&&t.categoryId!==n)return!1;if(r!=="all"){const a=t.currentStock||0;switch(r){case"low":return a<=t.minStockLevel&&a>0;case"out":return a===0;case"normal":return a>t.minStockLevel&&a<t.maxStockLevel;case"overstock":return a>=t.maxStockLevel;default:return!0}}return!0}):[],[i,s,n,r]),q=l.useMemo(()=>{const t=Array.isArray(i)?i:[],a=Array.isArray(u)?u:[],H=t.length,W=t.reduce((m,O)=>m+(O.costPrice||0)*(O.currentStock||0),0),P=t.filter(m=>(m.currentStock||0)<=m.minStockLevel&&(m.currentStock||0)>0).length,J=t.filter(m=>(m.currentStock||0)===0).length,X=a.length;return{totalItems:H,totalValue:W,lowStockItems:P,outOfStockItems:J,totalCategories:X,reorderPending:P,turnoverRate:75,warehouseUtilization:82}},[i,u]),K=async t=>{try{C?(await C(t),h(!1),o.success("Item added successfully!")):o.error("Add item function not available")}catch(a){console.error("Error adding item:",a),o.error("Error adding item")}},_=async t=>{try{I?(await I(t),v(!1),o.success("Category added successfully!")):o.error("Add category function not available")}catch(a){console.error("Error adding category:",a),o.error("Error adding category")}},L=t=>{j(t),h(!0)},M=async t=>{if(window.confirm("Are you sure you want to delete this item?"))try{console.log("Deleting item:",t.id),o.success("Item deleted successfully!")}catch(a){console.error("Error deleting item:",a),o.error("Error deleting item")}},T=t=>{j(t),N(!0)},G=async t=>{try{A?(await A(t),N(!1),o.success("Transaction recorded successfully!")):o.error("Add transaction function not available")}catch(a){console.error("Error recording transaction:",a),o.error("Error recording transaction")}};return Q||U?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(ce,{items:Z}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your venue's inventory, track stock levels, and monitor supplies"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:[e.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Add Category"]}),e.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Add Item"]})]})]}),e.jsx(ve,{analytics:q,items:i}),e.jsx(Ne,{}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[e.jsx("div",{className:"flex-1 max-w-lg",children:e.jsxs("div",{className:"relative",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search items or SKU...",value:s,onChange:t=>x(t.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:n||"",onChange:t=>d(t.target.value||null),className:"block w-40 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Categories"}),Array.isArray(u)&&u.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsxs("select",{value:r,onChange:t=>g(t.target.value),className:"block w-32 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"low",children:"Low Stock"}),e.jsx("option",{value:"out",children:"Out of Stock"}),e.jsx("option",{value:"overstock",children:"Overstock"})]}),e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[e.jsx("button",{onClick:()=>y("grid"),className:`px-3 py-2 text-sm font-medium ${c==="grid"?"bg-blue-50 text-blue-700 border-r border-gray-300":"text-gray-500 hover:text-gray-700 border-r border-gray-300"}`,children:e.jsx(ge,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>y("table"),className:`px-3 py-2 text-sm font-medium ${c==="table"?"bg-blue-50 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:e.jsx(ee,{className:"w-4 h-4"})})]})]})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:f.length})," of"," ",e.jsx("span",{className:"font-medium",children:Array.isArray(i)?i.length:0})," items"]})}),c==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:f.map(t=>e.jsx(be,{item:t,onView:()=>{},onEdit:()=>L(t),onDelete:()=>M(t),onQuickStock:()=>T(t)},t.id))}):e.jsx(we,{items:f,onEdit:L,onDelete:M,onQuickStock:T}),f.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(de,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No items found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s?"Try adjusting your search criteria":"Get started by adding your first inventory item"}),!s&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Add Item"]})})]})]})]}),e.jsx(pe,{isOpen:b,onClose:()=>{h(!1),j(null)},onSave:K,initialItem:p,categories:u,isSubmitting:!1}),e.jsx(je,{isOpen:D,onClose:()=>{v(!1),z(null)},onSave:_,initialCategory:$,isSubmitting:!1}),e.jsx(fe,{isOpen:V,onClose:()=>{N(!1),j(null)},onSave:G,inventoryItems:i,itemId:p==null?void 0:p.id,isSubmitting:!1})]})};export{$e as default};
