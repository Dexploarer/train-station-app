import{c as z,j as e,y as T,z as b,a as k,r as h,C as v,T as y,D as C,e as E,B as P,f as L,U as D,E as R}from"./index-FKmzij_1.js";import A from"./CreateEvent-DS-gte9A.js";import $ from"./EventDetail-Dcds3GGk.js";import U from"./CalendarView-CYeUKtGt.js";import{u as Q}from"./useEvents-DWrrskT-.js";import{u as B,B as F}from"./Breadcrumbs-CCWRCGTu.js";import{P as w}from"./plus-KKCTwYn-.js";import{F as G}from"./filter-BVXJFoyp.js";import{R as I,X as V,Y as O,T as q}from"./generateCategoricalChart-0wePnBsV.js";import{A as K,a as X}from"./AreaChart-ClnvrHD_.js";import{C as Y}from"./CartesianGrid-D4OVZEyk.js";import{A as H}from"./activity-DvwXEBdY.js";import{M as W}from"./map-pin-mg8b7J78.js";import{T as _}from"./target-Dt_5S-9C.js";import{P as J}from"./pen-line-BqlyzjWd.js";import{f as S}from"./format-CWC1h8aK.js";import{d as Z}from"./differenceInDays-BziPV3-M.js";import{i as ee,a as se}from"./isTomorrow-ygOMKFac.js";import"./save-DrKIf50q.js";import"./useFinances-B6gYctPw.js";import"./useMutation-Chvc8RUs.js";import"./validation-Bq8tbDJB.js";import"./types-D9u2zvev.js";import"./chevron-left-BZb8Pfj0.js";import"./star-BWMOOjAP.js";import"./square-pen-_Hdyo78T.js";import"./trash-CZRs4jB8.js";import"./clock-C-ss61e7.js";import"./music-BiQh54rL.js";import"./message-square-Df_PiQnb.js";import"./plus-circle-C1hazwXv.js";import"./external-link-4A924pnq.js";import"./objectSpread2-CAdgjOmD.js";import"./findIndex-OXyp7iFu.js";import"./chevron-right-uU2N22sE.js";import"./addDays-qvy4TDQs.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=z("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),te=({id:t,title:n,date:o,image:c,ticketsSold:a,totalCapacity:x,averagePrice:r,status:j,venue:l,genre:d,onClick:g})=>{const p=k(),m=new Date(o),u=Z(m,new Date),s=a/x*100,i=()=>ee(m)?"Today":se(m)?"Tomorrow":u>0?`In ${u} days`:S(m,"MMM d, yyyy"),f=M=>{switch(M){case"upcoming":return e.jsx("span",{className:"rounded-full bg-blue-500/20 border border-blue-500/30 px-2 py-0.5 text-xs font-medium text-blue-400",children:"Upcoming"});case"ongoing":return e.jsx("span",{className:"rounded-full bg-green-500/20 border border-green-500/30 px-2 py-0.5 text-xs font-medium text-green-400",children:"Live"});case"completed":return e.jsx("span",{className:"rounded-full bg-gray-500/20 border border-gray-500/30 px-2 py-0.5 text-xs font-medium text-gray-400",children:"Completed"});default:return null}};return e.jsxs("div",{className:"group overflow-hidden rounded-xl bg-gradient-to-br from-zinc-900 to-zinc-800 shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-[1.02] border border-zinc-700/50",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:c,alt:n,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsx("div",{className:"absolute top-3 left-3",children:f(j)}),e.jsxs("div",{className:"absolute top-3 right-3 rounded-full bg-amber-500 px-2 py-0.5 text-xs font-bold text-black",children:[Math.round(s),"%"]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-amber-400",children:i()}),d&&e.jsx("span",{className:"rounded-full bg-purple-500/20 border border-purple-500/30 px-2 py-0.5 text-xs text-purple-300",children:d})]}),e.jsx("h3",{className:"font-playfair text-xl font-semibold text-white mb-1 group-hover:text-amber-300 transition-colors",children:n}),l&&e.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[e.jsx(W,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:l})]})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4 grid grid-cols-3 gap-3 text-center",children:[e.jsxs("div",{className:"rounded-lg bg-zinc-800/50 p-2",children:[e.jsxs("div",{className:"flex items-center justify-center mb-1",children:[e.jsx(D,{className:"h-3 w-3 text-blue-400 mr-1"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Sold"})]}),e.jsx("p",{className:"text-sm font-medium text-white",children:a})]}),e.jsxs("div",{className:"rounded-lg bg-zinc-800/50 p-2",children:[e.jsxs("div",{className:"flex items-center justify-center mb-1",children:[e.jsx(_,{className:"h-3 w-3 text-green-400 mr-1"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Capacity"})]}),e.jsx("p",{className:"text-sm font-medium text-white",children:x})]}),e.jsxs("div",{className:"rounded-lg bg-zinc-800/50 p-2",children:[e.jsxs("div",{className:"flex items-center justify-center mb-1",children:[e.jsx(C,{className:"h-3 w-3 text-amber-400 mr-1"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Price"})]}),e.jsxs("p",{className:"text-sm font-medium text-white",children:["$",r]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Sales Progress"}),e.jsxs("span",{className:"text-xs text-gray-400",children:[a,"/",x]})]}),e.jsx("div",{className:"h-2 w-full rounded-full bg-zinc-700 overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-amber-500 to-orange-500 transition-all duration-500",style:{width:`${Math.min(s,100)}%`}})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>p(`/ticketing/${t}`),className:"flex-1 flex items-center justify-center rounded-lg bg-zinc-700 px-3 py-2 text-xs font-medium text-white hover:bg-zinc-600 transition-colors",children:[e.jsx(R,{className:"h-3 w-3 mr-1"}),"View"]}),e.jsxs("button",{onClick:g,className:"flex-1 flex items-center justify-center rounded-lg bg-amber-600 px-3 py-2 text-xs font-medium text-white hover:bg-amber-700 transition-colors",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),"Manage"]})]})]})]})},ae=()=>{const[t,n]=h.useState(!1);return e.jsxs("div",{className:"rounded-xl bg-gradient-to-br from-amber-900/20 to-orange-900/20 border border-amber-500/30 p-6 shadow-xl",children:[e.jsxs("div",{className:"mb-4 flex items-center space-x-3",children:[e.jsx("div",{className:"rounded-full bg-amber-500/20 p-2",children:e.jsx(N,{className:"h-5 w-5 text-amber-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Ticket Scanner"})]}),e.jsxs("div",{className:"mb-6 flex flex-col items-center justify-center rounded-lg bg-black/20 border border-amber-500/20 p-8",children:[e.jsx("div",{className:`rounded-full p-4 mb-4 transition-all duration-300 ${t?"bg-green-500/20 animate-pulse":"bg-amber-500/20"}`,children:e.jsx(N,{size:48,className:`${t?"text-green-400":"text-amber-400"}`})}),e.jsx("p",{className:"text-center text-sm text-gray-300 mb-4",children:t?"Scanning... Point camera at QR code":"Scan ticket QR codes for instant validation"}),e.jsx("button",{onClick:()=>n(!t),className:`rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ${t?"bg-red-600 hover:bg-red-700 text-white":"bg-amber-600 hover:bg-amber-700 text-white"}`,children:t?"Stop Scanning":"Start Scanning"})]}),e.jsxs("div",{className:"rounded-lg bg-black/20 border border-amber-500/20 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium text-white",children:"Recent Scans"}),e.jsx("span",{className:"text-xs text-amber-400",children:"Live"})]}),e.jsx("div",{className:"space-y-2",children:t?e.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-green-500/10 border border-green-500/20 p-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 mr-2 animate-pulse"}),e.jsx("span",{className:"text-sm text-white",children:"Ready to scan..."})]}),e.jsx(H,{className:"h-4 w-4 text-green-400"})]}):e.jsx("div",{className:"flex items-center justify-center rounded-lg bg-zinc-800/50 p-6 text-center",children:e.jsxs("div",{children:[e.jsx(N,{className:"h-8 w-8 text-gray-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-400",children:"No recent scans"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Start scanning to see activity"})]})})})]})]})},re=({events:t})=>{const n=h.useMemo(()=>{const o=[];for(let c=6;c>=0;c--){const a=new Date;a.setDate(a.getDate()-c),o.push({day:S(a,"MMM dd"),sales:Math.floor(Math.random()*100)+20,revenue:Math.floor(Math.random()*5e3)+1e3})}return o},[t]);return e.jsx("div",{className:"h-64",children:e.jsx(I,{width:"100%",height:"100%",children:e.jsxs(K,{data:n,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"salesGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:0})]})}),e.jsx(Y,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(V,{dataKey:"day",stroke:"#9ca3af",fontSize:12}),e.jsx(O,{stroke:"#9ca3af",fontSize:12}),e.jsx(q,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#fff"}}),e.jsx(X,{type:"monotone",dataKey:"sales",stroke:"#f59e0b",fillOpacity:1,fill:"url(#salesGradient)",strokeWidth:2})]})})})},le=()=>{const t=k(),{events:n,loading:o}=Q(),c=B(),[a,x]=h.useState(""),[r,j]=h.useState("all"),l=n.map(s=>({id:s.id,title:s.title,date:s.date,image:s.image||"https://images.pexels.com/photos/1540406/pexels-photo-1540406.jpeg?auto=compress&cs=tinysrgb&w=800",ticketsSold:s.ticketsSold||0,totalCapacity:s.totalCapacity,averagePrice:typeof s.ticketPrice=="number"?s.ticketPrice:0,status:s.status,venue:"Main Stage",genre:s.genre})),d=h.useMemo(()=>l.filter(s=>{const i=s.title.toLowerCase().includes(a.toLowerCase())||s.venue.toLowerCase().includes(a.toLowerCase())||s.genre&&s.genre.toLowerCase().includes(a.toLowerCase()),f=r==="all"||s.status===r;return i&&f}),[l,a,r]),g=l.reduce((s,i)=>s+i.ticketsSold,0),p=l.reduce((s,i)=>s+i.ticketsSold*i.averagePrice,0),m=l.filter(s=>s.status==="upcoming").length,u=o.isLoading;return e.jsxs("div",{className:"space-y-6",children:[e.jsx(F,{items:c}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-playfair text-4xl font-bold bg-gradient-to-r from-amber-400 to-orange-500 bg-clip-text text-transparent",children:"Ticketing"}),e.jsx("p",{className:"text-gray-400 mt-1",children:"Manage events, track sales, and scan tickets"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>t("/ticketing/calendar"),className:"flex items-center bg-zinc-800 hover:bg-zinc-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Calendar View"]}),e.jsxs("button",{onClick:()=>t("/ticketing/create"),className:"flex items-center bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 shadow-lg hover:shadow-xl",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Create Event"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-blue-900/30 to-indigo-900/30 border border-blue-500/30 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-400",children:"Upcoming Events"}),e.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:m}),e.jsx("p",{className:"text-xs text-blue-300 mt-1",children:"Ready to go live"})]}),e.jsx("div",{className:"rounded-full bg-blue-500/20 p-3",children:e.jsx(v,{className:"h-6 w-6 text-blue-400"})})]})}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-green-900/30 to-emerald-900/30 border border-green-500/30 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-400",children:"Tickets Sold"}),e.jsx("p",{className:"text-3xl font-bold text-white mt-1",children:g}),e.jsx("p",{className:"text-xs text-green-300 mt-1",children:"Total across all events"})]}),e.jsx("div",{className:"rounded-full bg-green-500/20 p-3",children:e.jsx(y,{className:"h-6 w-6 text-green-400"})})]})}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-amber-900/30 to-orange-900/30 border border-amber-500/30 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-amber-400",children:"Total Revenue"}),e.jsxs("p",{className:"text-3xl font-bold text-white mt-1",children:["$",p.toLocaleString()]}),e.jsx("p",{className:"text-xs text-amber-300 mt-1",children:"From ticket sales"})]}),e.jsx("div",{className:"rounded-full bg-amber-500/20 p-3",children:e.jsx(C,{className:"h-6 w-6 text-amber-400"})})]})}),e.jsx("div",{className:"rounded-xl bg-gradient-to-br from-purple-900/30 to-indigo-900/30 border border-purple-500/30 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-400",children:"Avg. Price"}),e.jsxs("p",{className:"text-3xl font-bold text-white mt-1",children:["$",l.length?Math.round(p/g||0):0]}),e.jsx("p",{className:"text-xs text-purple-300 mt-1",children:"Per ticket"})]}),e.jsx("div",{className:"rounded-full bg-purple-500/20 p-3",children:e.jsx(E,{className:"h-6 w-6 text-purple-400"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"rounded-xl bg-zinc-900/50 backdrop-blur-sm border border-zinc-700/50 p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"rounded-full bg-amber-500/20 p-2 mr-3",children:e.jsx(P,{className:"h-5 w-5 text-amber-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Ticket Sales Trend"})]}),e.jsx("button",{className:"text-sm text-amber-400 hover:text-amber-300 transition-colors",children:"View Details"})]}),e.jsx(re,{events:l})]})}),e.jsx(ae,{})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0 space-x-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search events, venues, or genres...",value:a,onChange:s=>x(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{value:r,onChange:s=>j(s.target.value),className:"bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-amber-500",children:[e.jsx("option",{value:"all",children:"All Events"}),e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"ongoing",children:"Live"}),e.jsx("option",{value:"completed",children:"Completed"})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 flex items-center justify-between",children:e.jsxs("h2",{className:"text-xl font-semibold text-white",children:[r==="all"?"All Events":r==="upcoming"?"Upcoming Events":r==="ongoing"?"Live Events":"Completed Events",e.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["(",d.length,")"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u?[...Array(6)].map((s,i)=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"bg-zinc-800 rounded-xl h-72"})},i)):d.length>0?d.map(s=>e.jsx(te,{id:s.id,title:s.title,date:s.date,image:s.image,ticketsSold:s.ticketsSold,totalCapacity:s.totalCapacity,averagePrice:s.averagePrice,status:s.status,venue:s.venue,genre:s.genre,onClick:()=>t(`/ticketing/${s.id}`)},s.id)):e.jsx("div",{className:"col-span-full",children:e.jsxs("div",{className:"text-center py-12 bg-zinc-900/50 rounded-xl border-2 border-dashed border-zinc-700",children:[e.jsx(y,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:a||r!=="all"?"No events found":"No events yet"}),e.jsx("p",{className:"text-gray-400 mb-4",children:a||r!=="all"?"Try adjusting your search or filter criteria":"Create your first event to get started!"}),!a&&r==="all"&&e.jsxs("button",{onClick:()=>t("/ticketing/create"),className:"inline-flex items-center bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Create Event"]})]})})})]})]})},Ie=()=>e.jsxs(T,{children:[e.jsx(b,{path:"/",element:e.jsx(le,{})}),e.jsx(b,{path:"/create",element:e.jsx(A,{})}),e.jsx(b,{path:"/:id",element:e.jsx($,{})}),e.jsx(b,{path:"/calendar",element:e.jsx(U,{})})]});export{Ie as default};
