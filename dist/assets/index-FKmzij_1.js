const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-BDoyTeN2.js","assets/useEvents-DWrrskT-.js","assets/validation-Bq8tbDJB.js","assets/types-D9u2zvev.js","assets/useFinances-B6gYctPw.js","assets/useMutation-Chvc8RUs.js","assets/useInventory-ClbVrNoR.js","assets/useLoyaltyProgram-BJKawQSX.js","assets/isTomorrow-ygOMKFac.js","assets/addDays-qvy4TDQs.js","assets/format-CWC1h8aK.js","assets/activity-DvwXEBdY.js","assets/plus-KKCTwYn-.js","assets/generateCategoricalChart-0wePnBsV.js","assets/findIndex-OXyp7iFu.js","assets/AreaChart-ClnvrHD_.js","assets/CartesianGrid-D4OVZEyk.js","assets/chevron-right-uU2N22sE.js","assets/trending-down-DZjeOSeS.js","assets/PieChart-DTw36C4A.js","assets/alert-triangle-BP7YKB9s.js","assets/LineChart-Cz7qX8Sv.js","assets/differenceInDays-BziPV3-M.js","assets/clock-C-ss61e7.js","assets/map-pin-mg8b7J78.js","assets/Artists--UHPmizb.js","assets/useArtists-CeFYKpaD.js","assets/image-C5leEKVv.js","assets/trash-CZRs4jB8.js","assets/plus-circle-C1hazwXv.js","assets/save-DrKIf50q.js","assets/Breadcrumbs-CCWRCGTu.js","assets/filter-BVXJFoyp.js","assets/music-BiQh54rL.js","assets/check-circle-Xa0EljTB.js","assets/alert-circle-CsAWtVep.js","assets/more-vertical-BLMGgQLM.js","assets/target-Dt_5S-9C.js","assets/phone-DyeO1QEd.js","assets/globe-BrKZukvz.js","assets/star-BWMOOjAP.js","assets/ArtistDetail-BjbCbOO8.js","assets/chevron-left-BZb8Pfj0.js","assets/square-pen-_Hdyo78T.js","assets/user-plus-CfM5jUa9.js","assets/twitter-YpPPgJIH.js","assets/Customers-DmV5PJ5a.js","assets/useCRM-D8N1rZSr.js","assets/CustomerFormModal-BIvNoG4j.js","assets/tag-BH-xb0w9.js","assets/pen-line-BqlyzjWd.js","assets/heart-BPrF2GN_.js","assets/message-square-Df_PiQnb.js","assets/gift-CdYB-dbO.js","assets/CustomerDetail-Wdw3SYiA.js","assets/CustomerLoyalty-C9nAHZZj.js","assets/credit-card-DFedzW3U.js","assets/Inventory-CFVs__HP.js","assets/package-D-b4TRM-.js","assets/InventoryDetail-BPtKgfQu.js","assets/BarChart-BJ7HrRmh.js","assets/bar-chart-C0SHvXzr.js","assets/Marketing-BRSZqADO.js","assets/useMarketing-CW3LH1CZ.js","assets/video-CAJQwvhT.js","assets/external-link-4A924pnq.js","assets/CreateCampaign-CCnWbVF9.js","assets/Ticketing-BuNiV28l.js","assets/CreateEvent-DS-gte9A.js","assets/EventDetail-Dcds3GGk.js","assets/CalendarView-CYeUKtGt.js","assets/objectSpread2-CAdgjOmD.js","assets/CalendarView-DLuFtnqB.css","assets/EventReviews-D5oxTZGP.js","assets/tabs-CcZ13cWJ.js","assets/Finances-DRlTOmtx.js","assets/subDays-Digyx-Dc.js","assets/Documents-DasKZnA6.js","assets/grid-3x3-Dq16tZBu.js","assets/file-DVfuET1Q.js","assets/archive-BsNRy2iz.js","assets/Projects-TsrMiKyV.js","assets/Settings-DP6G_MXM.js","assets/AITools-ehpcizXk.js","assets/StaffManagement-CCxAmULV.js","assets/ArtistRoyalties-C_6pAgJv.js"])))=>i.map(i=>d[i]);
var sh=t=>{throw TypeError(t)};var Zl=(t,e,r)=>e.has(t)||sh("Cannot "+r);var C=(t,e,r)=>(Zl(t,e,"read from private field"),r?r.call(t):e.get(t)),te=(t,e,r)=>e.has(t)?sh("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Q=(t,e,r,n)=>(Zl(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Fe=(t,e,r)=>(Zl(t,e,"access private method"),r);var Ca=(t,e,r,n)=>({set _(s){Q(t,e,s,r)},get _(){return C(t,e,n)}});function gw(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Tp={exports:{}},cl={},Np={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=Symbol.for("react.element"),vw=Symbol.for("react.portal"),ww=Symbol.for("react.fragment"),_w=Symbol.for("react.strict_mode"),xw=Symbol.for("react.profiler"),bw=Symbol.for("react.provider"),kw=Symbol.for("react.context"),Sw=Symbol.for("react.forward_ref"),Ew=Symbol.for("react.suspense"),Cw=Symbol.for("react.memo"),jw=Symbol.for("react.lazy"),ih=Symbol.iterator;function Pw(t){return t===null||typeof t!="object"?null:(t=ih&&t[ih]||t["@@iterator"],typeof t=="function"?t:null)}var Ap={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rp=Object.assign,Op={};function Vs(t,e,r){this.props=t,this.context=e,this.refs=Op,this.updater=r||Ap}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ip(){}Ip.prototype=Vs.prototype;function gd(t,e,r){this.props=t,this.context=e,this.refs=Op,this.updater=r||Ap}var yd=gd.prototype=new Ip;yd.constructor=gd;Rp(yd,Vs.prototype);yd.isPureReactComponent=!0;var ah=Array.isArray,$p=Object.prototype.hasOwnProperty,vd={current:null},Lp={key:!0,ref:!0,__self:!0,__source:!0};function Mp(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)$p.call(e,n)&&!Lp.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ca,type:t,key:i,ref:a,props:s,_owner:vd.current}}function Tw(t,e){return{$$typeof:ca,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wd(t){return typeof t=="object"&&t!==null&&t.$$typeof===ca}function Nw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var oh=/\/+/g;function eu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nw(""+t.key):e.toString(36)}function io(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ca:case vw:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+eu(a,0):n,ah(s)?(r="",t!=null&&(r=t.replace(oh,"$&/")+"/"),io(s,e,r,"",function(c){return c})):s!=null&&(wd(s)&&(s=Tw(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(oh,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",ah(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+eu(i,o);a+=io(i,e,r,l,s)}else if(l=Pw(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+eu(i,o++),a+=io(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ja(t,e,r){if(t==null)return t;var n=[],s=0;return io(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Aw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ye={current:null},ao={transition:null},Rw={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:ao,ReactCurrentOwner:vd};function Dp(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:ja,forEach:function(t,e,r){ja(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ja(t,function(){e++}),e},toArray:function(t){return ja(t,function(e){return e})||[]},only:function(t){if(!wd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=Vs;X.Fragment=ww;X.Profiler=xw;X.PureComponent=gd;X.StrictMode=_w;X.Suspense=Ew;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rw;X.act=Dp;X.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Rp({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=vd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)$p.call(e,l)&&!Lp.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:ca,type:t.type,key:s,ref:i,props:n,_owner:a}};X.createContext=function(t){return t={$$typeof:kw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bw,_context:t},t.Consumer=t};X.createElement=Mp;X.createFactory=function(t){var e=Mp.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:Sw,render:t}};X.isValidElement=wd;X.lazy=function(t){return{$$typeof:jw,_payload:{_status:-1,_result:t},_init:Aw}};X.memo=function(t,e){return{$$typeof:Cw,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=ao.transition;ao.transition={};try{t()}finally{ao.transition=e}};X.unstable_act=Dp;X.useCallback=function(t,e){return Ye.current.useCallback(t,e)};X.useContext=function(t){return Ye.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return Ye.current.useDeferredValue(t)};X.useEffect=function(t,e){return Ye.current.useEffect(t,e)};X.useId=function(){return Ye.current.useId()};X.useImperativeHandle=function(t,e,r){return Ye.current.useImperativeHandle(t,e,r)};X.useInsertionEffect=function(t,e){return Ye.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return Ye.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return Ye.current.useMemo(t,e)};X.useReducer=function(t,e,r){return Ye.current.useReducer(t,e,r)};X.useRef=function(t){return Ye.current.useRef(t)};X.useState=function(t){return Ye.current.useState(t)};X.useSyncExternalStore=function(t,e,r){return Ye.current.useSyncExternalStore(t,e,r)};X.useTransition=function(){return Ye.current.useTransition()};X.version="18.3.1";Np.exports=X;var _=Np.exports;const da=Pp(_),Ow=gw({__proto__:null,default:da},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw=_,$w=Symbol.for("react.element"),Lw=Symbol.for("react.fragment"),Mw=Object.prototype.hasOwnProperty,Dw=Iw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zw={key:!0,ref:!0,__self:!0,__source:!0};function zp(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Mw.call(e,n)&&!zw.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:$w,type:t,key:i,ref:a,props:s,_owner:Dw.current}}cl.Fragment=Lw;cl.jsx=zp;cl.jsxs=zp;Tp.exports=cl;var u=Tp.exports,Fp={exports:{}},yt={},Up={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,U){var W=I.length;I.push(U);e:for(;0<W;){var ae=W-1>>>1,ye=I[ae];if(0<s(ye,U))I[ae]=U,I[W]=ye,W=ae;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var U=I[0],W=I.pop();if(W!==U){I[0]=W;e:for(var ae=0,ye=I.length,Sr=ye>>>1;ae<Sr;){var sr=2*(ae+1)-1,ti=I[sr],ir=sr+1,qn=I[ir];if(0>s(ti,W))ir<ye&&0>s(qn,ti)?(I[ae]=qn,I[ir]=W,ae=ir):(I[ae]=ti,I[sr]=W,ae=sr);else if(ir<ye&&0>s(qn,W))I[ae]=qn,I[ir]=W,ae=ir;else break e}}return U}function s(I,U){var W=I.sortIndex-U.sortIndex;return W!==0?W:I.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,h=3,p=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var U=r(c);U!==null;){if(U.callback===null)n(c);else if(U.startTime<=I)n(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=r(c)}}function x(I){if(v=!1,y(I),!w)if(r(l)!==null)w=!0,ke(k);else{var U=r(c);U!==null&&lt(x,U.startTime-I)}}function k(I,U){w=!1,v&&(v=!1,g(R),R=-1),p=!0;var W=h;try{for(y(U),f=r(l);f!==null&&(!(f.expirationTime>U)||I&&!A());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,h=f.priorityLevel;var ye=ae(f.expirationTime<=U);U=t.unstable_now(),typeof ye=="function"?f.callback=ye:f===r(l)&&n(l),y(U)}else n(l);f=r(l)}if(f!==null)var Sr=!0;else{var sr=r(c);sr!==null&&lt(x,sr.startTime-U),Sr=!1}return Sr}finally{f=null,h=W,p=!1}}var S=!1,P=null,R=-1,T=5,E=-1;function A(){return!(t.unstable_now()-E<T)}function $(){if(P!==null){var I=t.unstable_now();E=I;var U=!0;try{U=P(!0,I)}finally{U?O():(S=!1,P=null)}}else S=!1}var O;if(typeof m=="function")O=function(){m($)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Z=M.port2;M.port1.onmessage=$,O=function(){Z.postMessage(null)}}else O=function(){b($,0)};function ke(I){P=I,S||(S=!0,O())}function lt(I,U){R=b(function(){I(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,ke(k))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var W=h;h=U;try{return I()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=h;h=I;try{return U()}finally{h=W}},t.unstable_scheduleCallback=function(I,U,W){var ae=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,I){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=W+ye,I={id:d++,callback:U,priorityLevel:I,startTime:W,expirationTime:ye,sortIndex:-1},W>ae?(I.sortIndex=W,e(c,I),r(l)===null&&I===r(c)&&(v?(g(R),R=-1):v=!0,lt(x,W-ae))):(I.sortIndex=ye,e(l,I),w||p||(w=!0,ke(k))),I},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(I){var U=h;return function(){var W=h;h=U;try{return I.apply(this,arguments)}finally{h=W}}}})(Bp);Up.exports=Bp;var Fw=Up.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw=_,gt=Fw;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wp=new Set,Di={};function Fn(t,e){Is(t,e),Is(t+"Capture",e)}function Is(t,e){for(Di[t]=e,t=0;t<e.length;t++)Wp.add(e[t])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hu=Object.prototype.hasOwnProperty,Bw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lh={},uh={};function Ww(t){return Hu.call(uh,t)?!0:Hu.call(lh,t)?!1:Bw.test(t)?uh[t]=!0:(lh[t]=!0,!1)}function qw(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vw(t,e,r,n){if(e===null||typeof e>"u"||qw(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ze(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Me[t]=new Ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Me[e]=new Ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Me[t]=new Ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Me[t]=new Ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Me[t]=new Ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Me[t]=new Ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Me[t]=new Ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Me[t]=new Ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Me[t]=new Ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var _d=/[\-:]([a-z])/g;function xd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_d,xd);Me[e]=new Ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_d,xd);Me[e]=new Ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_d,xd);Me[e]=new Ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Me[t]=new Ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Me[t]=new Ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function bd(t,e,r,n){var s=Me.hasOwnProperty(e)?Me[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vw(e,r,s,n)&&(r=null),n||s===null?Ww(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var br=Uw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pa=Symbol.for("react.element"),rs=Symbol.for("react.portal"),ns=Symbol.for("react.fragment"),kd=Symbol.for("react.strict_mode"),Ku=Symbol.for("react.profiler"),qp=Symbol.for("react.provider"),Vp=Symbol.for("react.context"),Sd=Symbol.for("react.forward_ref"),Qu=Symbol.for("react.suspense"),Ju=Symbol.for("react.suspense_list"),Ed=Symbol.for("react.memo"),Or=Symbol.for("react.lazy"),Hp=Symbol.for("react.offscreen"),ch=Symbol.iterator;function ni(t){return t===null||typeof t!="object"?null:(t=ch&&t[ch]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,tu;function fi(t){if(tu===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);tu=e&&e[1]||""}return`
`+tu+t}var ru=!1;function nu(t,e){if(!t||ru)return"";ru=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{ru=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?fi(t):""}function Hw(t){switch(t.tag){case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 2:case 15:return t=nu(t.type,!1),t;case 11:return t=nu(t.type.render,!1),t;case 1:return t=nu(t.type,!0),t;default:return""}}function Gu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ns:return"Fragment";case rs:return"Portal";case Ku:return"Profiler";case kd:return"StrictMode";case Qu:return"Suspense";case Ju:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vp:return(t.displayName||"Context")+".Consumer";case qp:return(t._context.displayName||"Context")+".Provider";case Sd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ed:return e=t.displayName||null,e!==null?e:Gu(t.type)||"Memo";case Or:e=t._payload,t=t._init;try{return Gu(t(e))}catch{}}return null}function Kw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gu(e);case 8:return e===kd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qw(t){var e=Kp(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ta(t){t._valueTracker||(t._valueTracker=Qw(t))}function Qp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Kp(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Co(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xu(t,e){var r=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function dh(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=sn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jp(t,e){e=e.checked,e!=null&&bd(t,"checked",e,!1)}function Yu(t,e){Jp(t,e);var r=sn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zu(t,e.type,r):e.hasOwnProperty("defaultValue")&&Zu(t,e.type,sn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fh(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Zu(t,e,r){(e!=="number"||Co(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var hi=Array.isArray;function ps(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+sn(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ec(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hh(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(N(92));if(hi(r)){if(1<r.length)throw Error(N(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:sn(r)}}function Gp(t,e){var r=sn(e.value),n=sn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function mh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Na,Yp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Na.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zi(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jw=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(t){Jw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ki[e]=ki[t]})});function Zp(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ki.hasOwnProperty(t)&&ki[t]?(""+e).trim():e+"px"}function eg(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Zp(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Gw=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rc(t,e){if(e){if(Gw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function nc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sc=null;function Cd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ic=null,gs=null,ys=null;function ph(t){if(t=ma(t)){if(typeof ic!="function")throw Error(N(280));var e=t.stateNode;e&&(e=pl(e),ic(t.stateNode,t.type,e))}}function tg(t){gs?ys?ys.push(t):ys=[t]:gs=t}function rg(){if(gs){var t=gs,e=ys;if(ys=gs=null,ph(t),e)for(t=0;t<e.length;t++)ph(e[t])}}function ng(t,e){return t(e)}function sg(){}var su=!1;function ig(t,e,r){if(su)return t(e,r);su=!0;try{return ng(t,e,r)}finally{su=!1,(gs!==null||ys!==null)&&(sg(),rg())}}function Fi(t,e){var r=t.stateNode;if(r===null)return null;var n=pl(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(N(231,e,typeof r));return r}var ac=!1;if(yr)try{var si={};Object.defineProperty(si,"passive",{get:function(){ac=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{ac=!1}function Xw(t,e,r,n,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Si=!1,jo=null,Po=!1,oc=null,Yw={onError:function(t){Si=!0,jo=t}};function Zw(t,e,r,n,s,i,a,o,l){Si=!1,jo=null,Xw.apply(Yw,arguments)}function e_(t,e,r,n,s,i,a,o,l){if(Zw.apply(this,arguments),Si){if(Si){var c=jo;Si=!1,jo=null}else throw Error(N(198));Po||(Po=!0,oc=c)}}function Un(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ag(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gh(t){if(Un(t)!==t)throw Error(N(188))}function t_(t){var e=t.alternate;if(!e){if(e=Un(t),e===null)throw Error(N(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return gh(s),t;if(i===n)return gh(s),e;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?t:e}function og(t){return t=t_(t),t!==null?lg(t):null}function lg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lg(t);if(e!==null)return e;t=t.sibling}return null}var ug=gt.unstable_scheduleCallback,yh=gt.unstable_cancelCallback,r_=gt.unstable_shouldYield,n_=gt.unstable_requestPaint,Se=gt.unstable_now,s_=gt.unstable_getCurrentPriorityLevel,jd=gt.unstable_ImmediatePriority,cg=gt.unstable_UserBlockingPriority,To=gt.unstable_NormalPriority,i_=gt.unstable_LowPriority,dg=gt.unstable_IdlePriority,dl=null,tr=null;function a_(t){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(dl,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:u_,o_=Math.log,l_=Math.LN2;function u_(t){return t>>>=0,t===0?32:31-(o_(t)/l_|0)|0}var Aa=64,Ra=4194304;function mi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function No(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=mi(o):(i&=a,i!==0&&(n=mi(i)))}else a=r&~s,a!==0?n=mi(a):i!==0&&(n=mi(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ut(e),s=1<<r,n|=t[r],e&=~s;return n}function c_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d_(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Ut(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=c_(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function lc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fg(){var t=Aa;return Aa<<=1,!(Aa&4194240)&&(Aa=64),t}function iu(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function fa(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ut(e),t[e]=r}function f_(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ut(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Pd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ut(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var re=0;function hg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mg,Td,pg,gg,yg,uc=!1,Oa=[],Qr=null,Jr=null,Gr=null,Ui=new Map,Bi=new Map,Lr=[],h_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vh(t,e){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Ui.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(e.pointerId)}}function ii(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ma(e),e!==null&&Td(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function m_(t,e,r,n,s){switch(e){case"focusin":return Qr=ii(Qr,t,e,r,n,s),!0;case"dragenter":return Jr=ii(Jr,t,e,r,n,s),!0;case"mouseover":return Gr=ii(Gr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ui.set(i,ii(Ui.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Bi.set(i,ii(Bi.get(i)||null,t,e,r,n,s)),!0}return!1}function vg(t){var e=bn(t.target);if(e!==null){var r=Un(e);if(r!==null){if(e=r.tag,e===13){if(e=ag(r),e!==null){t.blockedOn=e,yg(t.priority,function(){pg(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=cc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);sc=n,r.target.dispatchEvent(n),sc=null}else return e=ma(r),e!==null&&Td(e),t.blockedOn=r,!1;e.shift()}return!0}function wh(t,e,r){oo(t)&&r.delete(e)}function p_(){uc=!1,Qr!==null&&oo(Qr)&&(Qr=null),Jr!==null&&oo(Jr)&&(Jr=null),Gr!==null&&oo(Gr)&&(Gr=null),Ui.forEach(wh),Bi.forEach(wh)}function ai(t,e){t.blockedOn===e&&(t.blockedOn=null,uc||(uc=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,p_)))}function Wi(t){function e(s){return ai(s,t)}if(0<Oa.length){ai(Oa[0],t);for(var r=1;r<Oa.length;r++){var n=Oa[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Qr!==null&&ai(Qr,t),Jr!==null&&ai(Jr,t),Gr!==null&&ai(Gr,t),Ui.forEach(e),Bi.forEach(e),r=0;r<Lr.length;r++)n=Lr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Lr.length&&(r=Lr[0],r.blockedOn===null);)vg(r),r.blockedOn===null&&Lr.shift()}var vs=br.ReactCurrentBatchConfig,Ao=!0;function g_(t,e,r,n){var s=re,i=vs.transition;vs.transition=null;try{re=1,Nd(t,e,r,n)}finally{re=s,vs.transition=i}}function y_(t,e,r,n){var s=re,i=vs.transition;vs.transition=null;try{re=4,Nd(t,e,r,n)}finally{re=s,vs.transition=i}}function Nd(t,e,r,n){if(Ao){var s=cc(t,e,r,n);if(s===null)pu(t,e,n,Ro,r),vh(t,n);else if(m_(s,t,e,r,n))n.stopPropagation();else if(vh(t,n),e&4&&-1<h_.indexOf(t)){for(;s!==null;){var i=ma(s);if(i!==null&&mg(i),i=cc(t,e,r,n),i===null&&pu(t,e,n,Ro,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else pu(t,e,n,null,r)}}var Ro=null;function cc(t,e,r,n){if(Ro=null,t=Cd(n),t=bn(t),t!==null)if(e=Un(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ag(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ro=t,null}function wg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s_()){case jd:return 1;case cg:return 4;case To:case i_:return 16;case dg:return 536870912;default:return 16}default:return 16}}var Vr=null,Ad=null,lo=null;function _g(){if(lo)return lo;var t,e=Ad,r=e.length,n,s="value"in Vr?Vr.value:Vr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return lo=s.slice(t,1<n?1-n:void 0)}function uo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ia(){return!0}function _h(){return!1}function vt(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ia:_h,this.isPropagationStopped=_h,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ia)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ia)},persist:function(){},isPersistent:Ia}),e}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rd=vt(Hs),ha=ge({},Hs,{view:0,detail:0}),v_=vt(ha),au,ou,oi,fl=ge({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Od,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(au=t.screenX-oi.screenX,ou=t.screenY-oi.screenY):ou=au=0,oi=t),au)},movementY:function(t){return"movementY"in t?t.movementY:ou}}),xh=vt(fl),w_=ge({},fl,{dataTransfer:0}),__=vt(w_),x_=ge({},ha,{relatedTarget:0}),lu=vt(x_),b_=ge({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),k_=vt(b_),S_=ge({},Hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),E_=vt(S_),C_=ge({},Hs,{data:0}),bh=vt(C_),j_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=T_[t])?!!e[t]:!1}function Od(){return N_}var A_=ge({},ha,{key:function(t){if(t.key){var e=j_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?P_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Od,charCode:function(t){return t.type==="keypress"?uo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),R_=vt(A_),O_=ge({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kh=vt(O_),I_=ge({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Od}),$_=vt(I_),L_=ge({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),M_=vt(L_),D_=ge({},fl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z_=vt(D_),F_=[9,13,27,32],Id=yr&&"CompositionEvent"in window,Ei=null;yr&&"documentMode"in document&&(Ei=document.documentMode);var U_=yr&&"TextEvent"in window&&!Ei,xg=yr&&(!Id||Ei&&8<Ei&&11>=Ei),Sh=" ",Eh=!1;function bg(t,e){switch(t){case"keyup":return F_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function B_(t,e){switch(t){case"compositionend":return kg(e);case"keypress":return e.which!==32?null:(Eh=!0,Sh);case"textInput":return t=e.data,t===Sh&&Eh?null:t;default:return null}}function W_(t,e){if(ss)return t==="compositionend"||!Id&&bg(t,e)?(t=_g(),lo=Ad=Vr=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xg&&e.locale!=="ko"?null:e.data;default:return null}}var q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ch(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q_[t.type]:e==="textarea"}function Sg(t,e,r,n){tg(n),e=Oo(e,"onChange"),0<e.length&&(r=new Rd("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ci=null,qi=null;function V_(t){$g(t,0)}function hl(t){var e=os(t);if(Qp(e))return t}function H_(t,e){if(t==="change")return e}var Eg=!1;if(yr){var uu;if(yr){var cu="oninput"in document;if(!cu){var jh=document.createElement("div");jh.setAttribute("oninput","return;"),cu=typeof jh.oninput=="function"}uu=cu}else uu=!1;Eg=uu&&(!document.documentMode||9<document.documentMode)}function Ph(){Ci&&(Ci.detachEvent("onpropertychange",Cg),qi=Ci=null)}function Cg(t){if(t.propertyName==="value"&&hl(qi)){var e=[];Sg(e,qi,t,Cd(t)),ig(V_,e)}}function K_(t,e,r){t==="focusin"?(Ph(),Ci=e,qi=r,Ci.attachEvent("onpropertychange",Cg)):t==="focusout"&&Ph()}function Q_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hl(qi)}function J_(t,e){if(t==="click")return hl(e)}function G_(t,e){if(t==="input"||t==="change")return hl(e)}function X_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wt=typeof Object.is=="function"?Object.is:X_;function Vi(t,e){if(Wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Hu.call(e,s)||!Wt(t[s],e[s]))return!1}return!0}function Th(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nh(t,e){var r=Th(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Th(r)}}function jg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Pg(){for(var t=window,e=Co();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Co(t.document)}return e}function $d(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Y_(t){var e=Pg(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&jg(r.ownerDocument.documentElement,r)){if(n!==null&&$d(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Nh(r,i);var a=Nh(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Z_=yr&&"documentMode"in document&&11>=document.documentMode,is=null,dc=null,ji=null,fc=!1;function Ah(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fc||is==null||is!==Co(n)||(n=is,"selectionStart"in n&&$d(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ji&&Vi(ji,n)||(ji=n,n=Oo(dc,"onSelect"),0<n.length&&(e=new Rd("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=is)))}function $a(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var as={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},du={},Tg={};yr&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function ml(t){if(du[t])return du[t];if(!as[t])return t;var e=as[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Tg)return du[t]=e[r];return t}var Ng=ml("animationend"),Ag=ml("animationiteration"),Rg=ml("animationstart"),Og=ml("transitionend"),Ig=new Map,Rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function on(t,e){Ig.set(t,e),Fn(e,[t])}for(var fu=0;fu<Rh.length;fu++){var hu=Rh[fu],ex=hu.toLowerCase(),tx=hu[0].toUpperCase()+hu.slice(1);on(ex,"on"+tx)}on(Ng,"onAnimationEnd");on(Ag,"onAnimationIteration");on(Rg,"onAnimationStart");on("dblclick","onDoubleClick");on("focusin","onFocus");on("focusout","onBlur");on(Og,"onTransitionEnd");Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rx=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function Oh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,e_(n,e,void 0,t),t.currentTarget=null}function $g(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Oh(s,o,c),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Oh(s,o,c),i=l}}}if(Po)throw t=oc,Po=!1,oc=null,t}function ue(t,e){var r=e[yc];r===void 0&&(r=e[yc]=new Set);var n=t+"__bubble";r.has(n)||(Lg(e,t,2,!1),r.add(n))}function mu(t,e,r){var n=0;e&&(n|=4),Lg(r,t,n,e)}var La="_reactListening"+Math.random().toString(36).slice(2);function Hi(t){if(!t[La]){t[La]=!0,Wp.forEach(function(r){r!=="selectionchange"&&(rx.has(r)||mu(r,!1,t),mu(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[La]||(e[La]=!0,mu("selectionchange",!1,e))}}function Lg(t,e,r,n){switch(wg(e)){case 1:var s=g_;break;case 4:s=y_;break;default:s=Nd}r=s.bind(null,e,r,t),s=void 0,!ac||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function pu(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=bn(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}ig(function(){var c=i,d=Cd(r),f=[];e:{var h=Ig.get(t);if(h!==void 0){var p=Rd,w=t;switch(t){case"keypress":if(uo(r)===0)break e;case"keydown":case"keyup":p=R_;break;case"focusin":w="focus",p=lu;break;case"focusout":w="blur",p=lu;break;case"beforeblur":case"afterblur":p=lu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=__;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$_;break;case Ng:case Ag:case Rg:p=k_;break;case Og:p=M_;break;case"scroll":p=v_;break;case"wheel":p=z_;break;case"copy":case"cut":case"paste":p=E_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kh}var v=(e&4)!==0,b=!v&&t==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var m=c,y;m!==null;){y=m;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,g!==null&&(x=Fi(m,g),x!=null&&v.push(Ki(m,x,y)))),b)break;m=m.return}0<v.length&&(h=new p(h,w,null,r,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==sc&&(w=r.relatedTarget||r.fromElement)&&(bn(w)||w[vr]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=c,w=w?bn(w):null,w!==null&&(b=Un(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(v=xh,x="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=kh,x="onPointerLeave",g="onPointerEnter",m="pointer"),b=p==null?h:os(p),y=w==null?h:os(w),h=new v(x,m+"leave",p,r,d),h.target=b,h.relatedTarget=y,x=null,bn(d)===c&&(v=new v(g,m+"enter",w,r,d),v.target=y,v.relatedTarget=b,x=v),b=x,p&&w)t:{for(v=p,g=w,m=0,y=v;y;y=Vn(y))m++;for(y=0,x=g;x;x=Vn(x))y++;for(;0<m-y;)v=Vn(v),m--;for(;0<y-m;)g=Vn(g),y--;for(;m--;){if(v===g||g!==null&&v===g.alternate)break t;v=Vn(v),g=Vn(g)}v=null}else v=null;p!==null&&Ih(f,h,p,v,!1),w!==null&&b!==null&&Ih(f,b,w,v,!0)}}e:{if(h=c?os(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=H_;else if(Ch(h))if(Eg)k=G_;else{k=Q_;var S=K_}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=J_);if(k&&(k=k(t,c))){Sg(f,k,r,d);break e}S&&S(t,h,c),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Zu(h,"number",h.value)}switch(S=c?os(c):window,t){case"focusin":(Ch(S)||S.contentEditable==="true")&&(is=S,dc=c,ji=null);break;case"focusout":ji=dc=is=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,Ah(f,r,d);break;case"selectionchange":if(Z_)break;case"keydown":case"keyup":Ah(f,r,d)}var P;if(Id)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ss?bg(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(xg&&r.locale!=="ko"&&(ss||R!=="onCompositionStart"?R==="onCompositionEnd"&&ss&&(P=_g()):(Vr=d,Ad="value"in Vr?Vr.value:Vr.textContent,ss=!0)),S=Oo(c,R),0<S.length&&(R=new bh(R,t,null,r,d),f.push({event:R,listeners:S}),P?R.data=P:(P=kg(r),P!==null&&(R.data=P)))),(P=U_?B_(t,r):W_(t,r))&&(c=Oo(c,"onBeforeInput"),0<c.length&&(d=new bh("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=P))}$g(f,e)})}function Ki(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Oo(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fi(t,r),i!=null&&n.unshift(Ki(t,i,s)),i=Fi(t,e),i!=null&&n.push(Ki(t,i,s))),t=t.return}return n}function Vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ih(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=Fi(r,i),l!=null&&a.unshift(Ki(r,l,o))):s||(l=Fi(r,i),l!=null&&a.push(Ki(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var nx=/\r\n?/g,sx=/\u0000|\uFFFD/g;function $h(t){return(typeof t=="string"?t:""+t).replace(nx,`
`).replace(sx,"")}function Ma(t,e,r){if(e=$h(e),$h(t)!==e&&r)throw Error(N(425))}function Io(){}var hc=null,mc=null;function pc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gc=typeof setTimeout=="function"?setTimeout:void 0,ix=typeof clearTimeout=="function"?clearTimeout:void 0,Lh=typeof Promise=="function"?Promise:void 0,ax=typeof queueMicrotask=="function"?queueMicrotask:typeof Lh<"u"?function(t){return Lh.resolve(null).then(t).catch(ox)}:gc;function ox(t){setTimeout(function(){throw t})}function gu(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Wi(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Wi(e)}function Xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Ks,Qi="__reactProps$"+Ks,vr="__reactContainer$"+Ks,yc="__reactEvents$"+Ks,lx="__reactListeners$"+Ks,ux="__reactHandles$"+Ks;function bn(t){var e=t[Zt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[vr]||r[Zt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Mh(t);t!==null;){if(r=t[Zt])return r;t=Mh(t)}return e}t=r,r=t.parentNode}return null}function ma(t){return t=t[Zt]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function os(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function pl(t){return t[Qi]||null}var vc=[],ls=-1;function ln(t){return{current:t}}function ce(t){0>ls||(t.current=vc[ls],vc[ls]=null,ls--)}function le(t,e){ls++,vc[ls]=t.current,t.current=e}var an={},He=ln(an),it=ln(!1),$n=an;function $s(t,e){var r=t.type.contextTypes;if(!r)return an;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function at(t){return t=t.childContextTypes,t!=null}function $o(){ce(it),ce(He)}function Dh(t,e,r){if(He.current!==an)throw Error(N(168));le(He,e),le(it,r)}function Mg(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(N(108,Kw(t)||"Unknown",s));return ge({},r,n)}function Lo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||an,$n=He.current,le(He,t),le(it,it.current),!0}function zh(t,e,r){var n=t.stateNode;if(!n)throw Error(N(169));r?(t=Mg(t,e,$n),n.__reactInternalMemoizedMergedChildContext=t,ce(it),ce(He),le(He,t)):ce(it),le(it,r)}var fr=null,gl=!1,yu=!1;function Dg(t){fr===null?fr=[t]:fr.push(t)}function cx(t){gl=!0,Dg(t)}function un(){if(!yu&&fr!==null){yu=!0;var t=0,e=re;try{var r=fr;for(re=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}fr=null,gl=!1}catch(s){throw fr!==null&&(fr=fr.slice(t+1)),ug(jd,un),s}finally{re=e,yu=!1}}return null}var us=[],cs=0,Mo=null,Do=0,xt=[],bt=0,Ln=null,mr=1,pr="";function yn(t,e){us[cs++]=Do,us[cs++]=Mo,Mo=t,Do=e}function zg(t,e,r){xt[bt++]=mr,xt[bt++]=pr,xt[bt++]=Ln,Ln=t;var n=mr;t=pr;var s=32-Ut(n)-1;n&=~(1<<s),r+=1;var i=32-Ut(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,mr=1<<32-Ut(e)+s|r<<s|n,pr=i+t}else mr=1<<i|r<<s|n,pr=t}function Ld(t){t.return!==null&&(yn(t,1),zg(t,1,0))}function Md(t){for(;t===Mo;)Mo=us[--cs],us[cs]=null,Do=us[--cs],us[cs]=null;for(;t===Ln;)Ln=xt[--bt],xt[bt]=null,pr=xt[--bt],xt[bt]=null,mr=xt[--bt],xt[bt]=null}var pt=null,mt=null,de=!1,Dt=null;function Fg(t,e){var r=kt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Fh(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pt=t,mt=Xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pt=t,mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ln!==null?{id:mr,overflow:pr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=kt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,pt=t,mt=null,!0):!1;default:return!1}}function wc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _c(t){if(de){var e=mt;if(e){var r=e;if(!Fh(t,e)){if(wc(t))throw Error(N(418));e=Xr(r.nextSibling);var n=pt;e&&Fh(t,e)?Fg(n,r):(t.flags=t.flags&-4097|2,de=!1,pt=t)}}else{if(wc(t))throw Error(N(418));t.flags=t.flags&-4097|2,de=!1,pt=t}}}function Uh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pt=t}function Da(t){if(t!==pt)return!1;if(!de)return Uh(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pc(t.type,t.memoizedProps)),e&&(e=mt)){if(wc(t))throw Ug(),Error(N(418));for(;e;)Fg(t,e),e=Xr(e.nextSibling)}if(Uh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){mt=Xr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}mt=null}}else mt=pt?Xr(t.stateNode.nextSibling):null;return!0}function Ug(){for(var t=mt;t;)t=Xr(t.nextSibling)}function Ls(){mt=pt=null,de=!1}function Dd(t){Dt===null?Dt=[t]:Dt.push(t)}var dx=br.ReactCurrentBatchConfig;function li(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,t))}return t}function za(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bh(t){var e=t._init;return e(t._payload)}function Bg(t){function e(g,m){if(t){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=tn(g,m),g.index=0,g.sibling=null,g}function i(g,m,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,m,y,x){return m===null||m.tag!==6?(m=Su(y,g.mode,x),m.return=g,m):(m=s(m,y),m.return=g,m)}function l(g,m,y,x){var k=y.type;return k===ns?d(g,m,y.props.children,x,y.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Or&&Bh(k)===m.type)?(x=s(m,y.props),x.ref=li(g,m,y),x.return=g,x):(x=yo(y.type,y.key,y.props,null,g.mode,x),x.ref=li(g,m,y),x.return=g,x)}function c(g,m,y,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Eu(y,g.mode,x),m.return=g,m):(m=s(m,y.children||[]),m.return=g,m)}function d(g,m,y,x,k){return m===null||m.tag!==7?(m=In(y,g.mode,x,k),m.return=g,m):(m=s(m,y),m.return=g,m)}function f(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Su(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Pa:return y=yo(m.type,m.key,m.props,null,g.mode,y),y.ref=li(g,null,m),y.return=g,y;case rs:return m=Eu(m,g.mode,y),m.return=g,m;case Or:var x=m._init;return f(g,x(m._payload),y)}if(hi(m)||ni(m))return m=In(m,g.mode,y,null),m.return=g,m;za(g,m)}return null}function h(g,m,y,x){var k=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:o(g,m,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pa:return y.key===k?l(g,m,y,x):null;case rs:return y.key===k?c(g,m,y,x):null;case Or:return k=y._init,h(g,m,k(y._payload),x)}if(hi(y)||ni(y))return k!==null?null:d(g,m,y,x,null);za(g,y)}return null}function p(g,m,y,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(y)||null,o(m,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Pa:return g=g.get(x.key===null?y:x.key)||null,l(m,g,x,k);case rs:return g=g.get(x.key===null?y:x.key)||null,c(m,g,x,k);case Or:var S=x._init;return p(g,m,y,S(x._payload),k)}if(hi(x)||ni(x))return g=g.get(y)||null,d(m,g,x,k,null);za(m,x)}return null}function w(g,m,y,x){for(var k=null,S=null,P=m,R=m=0,T=null;P!==null&&R<y.length;R++){P.index>R?(T=P,P=null):T=P.sibling;var E=h(g,P,y[R],x);if(E===null){P===null&&(P=T);break}t&&P&&E.alternate===null&&e(g,P),m=i(E,m,R),S===null?k=E:S.sibling=E,S=E,P=T}if(R===y.length)return r(g,P),de&&yn(g,R),k;if(P===null){for(;R<y.length;R++)P=f(g,y[R],x),P!==null&&(m=i(P,m,R),S===null?k=P:S.sibling=P,S=P);return de&&yn(g,R),k}for(P=n(g,P);R<y.length;R++)T=p(P,g,R,y[R],x),T!==null&&(t&&T.alternate!==null&&P.delete(T.key===null?R:T.key),m=i(T,m,R),S===null?k=T:S.sibling=T,S=T);return t&&P.forEach(function(A){return e(g,A)}),de&&yn(g,R),k}function v(g,m,y,x){var k=ni(y);if(typeof k!="function")throw Error(N(150));if(y=k.call(y),y==null)throw Error(N(151));for(var S=k=null,P=m,R=m=0,T=null,E=y.next();P!==null&&!E.done;R++,E=y.next()){P.index>R?(T=P,P=null):T=P.sibling;var A=h(g,P,E.value,x);if(A===null){P===null&&(P=T);break}t&&P&&A.alternate===null&&e(g,P),m=i(A,m,R),S===null?k=A:S.sibling=A,S=A,P=T}if(E.done)return r(g,P),de&&yn(g,R),k;if(P===null){for(;!E.done;R++,E=y.next())E=f(g,E.value,x),E!==null&&(m=i(E,m,R),S===null?k=E:S.sibling=E,S=E);return de&&yn(g,R),k}for(P=n(g,P);!E.done;R++,E=y.next())E=p(P,g,R,E.value,x),E!==null&&(t&&E.alternate!==null&&P.delete(E.key===null?R:E.key),m=i(E,m,R),S===null?k=E:S.sibling=E,S=E);return t&&P.forEach(function($){return e(g,$)}),de&&yn(g,R),k}function b(g,m,y,x){if(typeof y=="object"&&y!==null&&y.type===ns&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Pa:e:{for(var k=y.key,S=m;S!==null;){if(S.key===k){if(k=y.type,k===ns){if(S.tag===7){r(g,S.sibling),m=s(S,y.props.children),m.return=g,g=m;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Or&&Bh(k)===S.type){r(g,S.sibling),m=s(S,y.props),m.ref=li(g,S,y),m.return=g,g=m;break e}r(g,S);break}else e(g,S);S=S.sibling}y.type===ns?(m=In(y.props.children,g.mode,x,y.key),m.return=g,g=m):(x=yo(y.type,y.key,y.props,null,g.mode,x),x.ref=li(g,m,y),x.return=g,g=x)}return a(g);case rs:e:{for(S=y.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(g,m.sibling),m=s(m,y.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=Eu(y,g.mode,x),m.return=g,g=m}return a(g);case Or:return S=y._init,b(g,m,S(y._payload),x)}if(hi(y))return w(g,m,y,x);if(ni(y))return v(g,m,y,x);za(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,y),m.return=g,g=m):(r(g,m),m=Su(y,g.mode,x),m.return=g,g=m),a(g)):r(g,m)}return b}var Ms=Bg(!0),Wg=Bg(!1),zo=ln(null),Fo=null,ds=null,zd=null;function Fd(){zd=ds=Fo=null}function Ud(t){var e=zo.current;ce(zo),t._currentValue=e}function xc(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ws(t,e){Fo=t,zd=ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function jt(t){var e=t._currentValue;if(zd!==t)if(t={context:t,memoizedValue:e,next:null},ds===null){if(Fo===null)throw Error(N(308));ds=t,Fo.dependencies={lanes:0,firstContext:t}}else ds=ds.next=t;return e}var kn=null;function Bd(t){kn===null?kn=[t]:kn.push(t)}function qg(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Bd(e)):(r.next=s.next,s.next=r),e.interleaved=r,wr(t,n)}function wr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ir=!1;function Wd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ee&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,wr(t,r)}return s=n.interleaved,s===null?(e.next=e,Bd(n)):(e.next=s.next,s.next=e),n.interleaved=e,wr(t,r)}function co(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Pd(t,r)}}function Wh(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Uo(t,e,r,n){var s=t.updateQueue;Ir=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,d=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=t,v=o;switch(h=e,p=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(p,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(p,f,h):w,h==null)break e;f=ge({},f,h);break e;case 2:Ir=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Dn|=a,t.lanes=a,t.memoizedState=f}}function qh(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var pa={},rr=ln(pa),Ji=ln(pa),Gi=ln(pa);function Sn(t){if(t===pa)throw Error(N(174));return t}function qd(t,e){switch(le(Gi,e),le(Ji,t),le(rr,pa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tc(e,t)}ce(rr),le(rr,e)}function Ds(){ce(rr),ce(Ji),ce(Gi)}function Hg(t){Sn(Gi.current);var e=Sn(rr.current),r=tc(e,t.type);e!==r&&(le(Ji,t),le(rr,r))}function Vd(t){Ji.current===t&&(ce(rr),ce(Ji))}var he=ln(0);function Bo(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vu=[];function Hd(){for(var t=0;t<vu.length;t++)vu[t]._workInProgressVersionPrimary=null;vu.length=0}var fo=br.ReactCurrentDispatcher,wu=br.ReactCurrentBatchConfig,Mn=0,me=null,Pe=null,Re=null,Wo=!1,Pi=!1,Xi=0,fx=0;function Ue(){throw Error(N(321))}function Kd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Wt(t[r],e[r]))return!1;return!0}function Qd(t,e,r,n,s,i){if(Mn=i,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fo.current=t===null||t.memoizedState===null?gx:yx,t=r(n,s),Pi){i=0;do{if(Pi=!1,Xi=0,25<=i)throw Error(N(301));i+=1,Re=Pe=null,e.updateQueue=null,fo.current=vx,t=r(n,s)}while(Pi)}if(fo.current=qo,e=Pe!==null&&Pe.next!==null,Mn=0,Re=Pe=me=null,Wo=!1,e)throw Error(N(300));return t}function Jd(){var t=Xi!==0;return Xi=0,t}function Kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?me.memoizedState=Re=t:Re=Re.next=t,Re}function Pt(){if(Pe===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Re===null?me.memoizedState:Re.next;if(e!==null)Re=e,Pe=t;else{if(t===null)throw Error(N(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Re===null?me.memoizedState=Re=t:Re=Re.next=t}return Re}function Yi(t,e){return typeof e=="function"?e(t):e}function _u(t){var e=Pt(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=Pe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,c=i;do{var d=c.lane;if((Mn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,me.lanes|=d,Dn|=d}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=o,Wt(n,e.memoizedState)||(st=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,me.lanes|=i,Dn|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function xu(t){var e=Pt(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Wt(i,e.memoizedState)||(st=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Kg(){}function Qg(t,e){var r=me,n=Pt(),s=e(),i=!Wt(n.memoizedState,s);if(i&&(n.memoizedState=s,st=!0),n=n.queue,Gd(Xg.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Re!==null&&Re.memoizedState.tag&1){if(r.flags|=2048,Zi(9,Gg.bind(null,r,n,s,e),void 0,null),Oe===null)throw Error(N(349));Mn&30||Jg(r,e,s)}return s}function Jg(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Gg(t,e,r,n){e.value=r,e.getSnapshot=n,Yg(e)&&Zg(t)}function Xg(t,e,r){return r(function(){Yg(e)&&Zg(t)})}function Yg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Wt(t,r)}catch{return!0}}function Zg(t){var e=wr(t,1);e!==null&&Bt(e,t,1,-1)}function Vh(t){var e=Kt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},e.queue=t,t=t.dispatch=px.bind(null,me,t),[e.memoizedState,t]}function Zi(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ey(){return Pt().memoizedState}function ho(t,e,r,n){var s=Kt();me.flags|=t,s.memoizedState=Zi(1|e,r,void 0,n===void 0?null:n)}function yl(t,e,r,n){var s=Pt();n=n===void 0?null:n;var i=void 0;if(Pe!==null){var a=Pe.memoizedState;if(i=a.destroy,n!==null&&Kd(n,a.deps)){s.memoizedState=Zi(e,r,i,n);return}}me.flags|=t,s.memoizedState=Zi(1|e,r,i,n)}function Hh(t,e){return ho(8390656,8,t,e)}function Gd(t,e){return yl(2048,8,t,e)}function ty(t,e){return yl(4,2,t,e)}function ry(t,e){return yl(4,4,t,e)}function ny(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sy(t,e,r){return r=r!=null?r.concat([t]):null,yl(4,4,ny.bind(null,e,t),r)}function Xd(){}function iy(t,e){var r=Pt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Kd(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ay(t,e){var r=Pt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Kd(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function oy(t,e,r){return Mn&21?(Wt(r,e)||(r=fg(),me.lanes|=r,Dn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=r)}function hx(t,e){var r=re;re=r!==0&&4>r?r:4,t(!0);var n=wu.transition;wu.transition={};try{t(!1),e()}finally{re=r,wu.transition=n}}function ly(){return Pt().memoizedState}function mx(t,e,r){var n=en(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uy(t))cy(e,r);else if(r=qg(t,e,r,n),r!==null){var s=Xe();Bt(r,t,n,s),dy(r,e,n)}}function px(t,e,r){var n=en(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uy(t))cy(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Wt(o,a)){var l=e.interleaved;l===null?(s.next=s,Bd(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=qg(t,e,s,n),r!==null&&(s=Xe(),Bt(r,t,n,s),dy(r,e,n))}}function uy(t){var e=t.alternate;return t===me||e!==null&&e===me}function cy(t,e){Pi=Wo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function dy(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Pd(t,r)}}var qo={readContext:jt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},gx={readContext:jt,useCallback:function(t,e){return Kt().memoizedState=[t,e===void 0?null:e],t},useContext:jt,useEffect:Hh,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ho(4194308,4,ny.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ho(4194308,4,t,e)},useInsertionEffect:function(t,e){return ho(4,2,t,e)},useMemo:function(t,e){var r=Kt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Kt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=mx.bind(null,me,t),[n.memoizedState,t]},useRef:function(t){var e=Kt();return t={current:t},e.memoizedState=t},useState:Vh,useDebugValue:Xd,useDeferredValue:function(t){return Kt().memoizedState=t},useTransition:function(){var t=Vh(!1),e=t[0];return t=hx.bind(null,t[1]),Kt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=me,s=Kt();if(de){if(r===void 0)throw Error(N(407));r=r()}else{if(r=e(),Oe===null)throw Error(N(349));Mn&30||Jg(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Hh(Xg.bind(null,n,i,t),[t]),n.flags|=2048,Zi(9,Gg.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Kt(),e=Oe.identifierPrefix;if(de){var r=pr,n=mr;r=(n&~(1<<32-Ut(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Xi++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=fx++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yx={readContext:jt,useCallback:iy,useContext:jt,useEffect:Gd,useImperativeHandle:sy,useInsertionEffect:ty,useLayoutEffect:ry,useMemo:ay,useReducer:_u,useRef:ey,useState:function(){return _u(Yi)},useDebugValue:Xd,useDeferredValue:function(t){var e=Pt();return oy(e,Pe.memoizedState,t)},useTransition:function(){var t=_u(Yi)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:Kg,useSyncExternalStore:Qg,useId:ly,unstable_isNewReconciler:!1},vx={readContext:jt,useCallback:iy,useContext:jt,useEffect:Gd,useImperativeHandle:sy,useInsertionEffect:ty,useLayoutEffect:ry,useMemo:ay,useReducer:xu,useRef:ey,useState:function(){return xu(Yi)},useDebugValue:Xd,useDeferredValue:function(t){var e=Pt();return Pe===null?e.memoizedState=t:oy(e,Pe.memoizedState,t)},useTransition:function(){var t=xu(Yi)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:Kg,useSyncExternalStore:Qg,useId:ly,unstable_isNewReconciler:!1};function At(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function bc(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ge({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vl={isMounted:function(t){return(t=t._reactInternals)?Un(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Xe(),s=en(t),i=gr(n,s);i.payload=e,r!=null&&(i.callback=r),e=Yr(t,i,s),e!==null&&(Bt(e,t,s,n),co(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Xe(),s=en(t),i=gr(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Yr(t,i,s),e!==null&&(Bt(e,t,s,n),co(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Xe(),n=en(t),s=gr(r,n);s.tag=2,e!=null&&(s.callback=e),e=Yr(t,s,n),e!==null&&(Bt(e,t,n,r),co(e,t,n))}};function Kh(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!Vi(r,n)||!Vi(s,i):!0}function fy(t,e,r){var n=!1,s=an,i=e.contextType;return typeof i=="object"&&i!==null?i=jt(i):(s=at(e)?$n:He.current,n=e.contextTypes,i=(n=n!=null)?$s(t,s):an),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Qh(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&vl.enqueueReplaceState(e,e.state,null)}function kc(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Wd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jt(i):(i=at(e)?$n:He.current,s.context=$s(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(bc(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&vl.enqueueReplaceState(s,s.state,null),Uo(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zs(t,e){try{var r="",n=e;do r+=Hw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bu(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Sc(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var wx=typeof WeakMap=="function"?WeakMap:Map;function hy(t,e,r){r=gr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ho||(Ho=!0,Ic=n),Sc(t,e)},r}function my(t,e,r){r=gr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Sc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Sc(t,e),typeof n!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Jh(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new wx;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Ox.bind(null,t,e,r),e.then(t,t))}function Gh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xh(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=gr(-1,1),e.tag=2,Yr(r,e,1))),r.lanes|=1),t)}var _x=br.ReactCurrentOwner,st=!1;function Je(t,e,r,n){e.child=t===null?Wg(e,null,r,n):Ms(e,t.child,r,n)}function Yh(t,e,r,n,s){r=r.render;var i=e.ref;return ws(e,s),n=Qd(t,e,r,n,i,s),r=Jd(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_r(t,e,s)):(de&&r&&Ld(e),e.flags|=1,Je(t,e,n,s),e.child)}function Zh(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!af(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,py(t,e,i,n,s)):(t=yo(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Vi,r(a,n)&&t.ref===e.ref)return _r(t,e,s)}return e.flags|=1,t=tn(i,n),t.ref=e.ref,t.return=e,e.child=t}function py(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Vi(i,n)&&t.ref===e.ref)if(st=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,_r(t,e,s)}return Ec(t,e,r,n,s)}function gy(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(hs,ht),ht|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(hs,ht),ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,le(hs,ht),ht|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,le(hs,ht),ht|=n;return Je(t,e,s,r),e.child}function yy(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ec(t,e,r,n,s){var i=at(r)?$n:He.current;return i=$s(e,i),ws(e,s),r=Qd(t,e,r,n,i,s),n=Jd(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_r(t,e,s)):(de&&n&&Ld(e),e.flags|=1,Je(t,e,r,s),e.child)}function em(t,e,r,n,s){if(at(r)){var i=!0;Lo(e)}else i=!1;if(ws(e,s),e.stateNode===null)mo(t,e),fy(e,r,n),kc(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=jt(c):(c=at(r)?$n:He.current,c=$s(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Qh(e,a,n,c),Ir=!1;var h=e.memoizedState;a.state=h,Uo(e,n,a,s),l=e.memoizedState,o!==n||h!==l||it.current||Ir?(typeof d=="function"&&(bc(e,r,d,n),l=e.memoizedState),(o=Ir||Kh(e,r,o,n,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Vg(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:At(e.type,o),a.props=c,f=e.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=jt(l):(l=at(r)?$n:He.current,l=$s(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Qh(e,a,n,l),Ir=!1,h=e.memoizedState,a.state=h,Uo(e,n,a,s);var w=e.memoizedState;o!==f||h!==w||it.current||Ir?(typeof p=="function"&&(bc(e,r,p,n),w=e.memoizedState),(c=Ir||Kh(e,r,c,n,h,w,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),a.props=n,a.state=w,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Cc(t,e,r,n,i,s)}function Cc(t,e,r,n,s,i){yy(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&zh(e,r,!1),_r(t,e,i);n=e.stateNode,_x.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Ms(e,t.child,null,i),e.child=Ms(e,null,o,i)):Je(t,e,o,i),e.memoizedState=n.state,s&&zh(e,r,!0),e.child}function vy(t){var e=t.stateNode;e.pendingContext?Dh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dh(t,e.context,!1),qd(t,e.containerInfo)}function tm(t,e,r,n,s){return Ls(),Dd(s),e.flags|=256,Je(t,e,r,n),e.child}var jc={dehydrated:null,treeContext:null,retryLane:0};function Pc(t){return{baseLanes:t,cachePool:null,transitions:null}}function wy(t,e,r){var n=e.pendingProps,s=he.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),le(he,s&1),t===null)return _c(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=xl(a,n,0,null),t=In(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Pc(r),e.memoizedState=jc,t):Yd(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return xx(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=tn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=tn(o,i):(i=In(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Pc(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=jc,n}return i=t.child,t=i.sibling,n=tn(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Yd(t,e){return e=xl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fa(t,e,r,n){return n!==null&&Dd(n),Ms(e,t.child,null,r),t=Yd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xx(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=bu(Error(N(422))),Fa(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=xl({mode:"visible",children:n.children},s,0,null),i=In(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ms(e,t.child,null,a),e.child.memoizedState=Pc(a),e.memoizedState=jc,i);if(!(e.mode&1))return Fa(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(N(419)),n=bu(i,n,void 0),Fa(t,e,a,n)}if(o=(a&t.childLanes)!==0,st||o){if(n=Oe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wr(t,s),Bt(n,t,s,-1))}return sf(),n=bu(Error(N(421))),Fa(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Ix.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,mt=Xr(s.nextSibling),pt=e,de=!0,Dt=null,t!==null&&(xt[bt++]=mr,xt[bt++]=pr,xt[bt++]=Ln,mr=t.id,pr=t.overflow,Ln=e),e=Yd(e,n.children),e.flags|=4096,e)}function rm(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),xc(t.return,e,r)}function ku(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function _y(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Je(t,e,n.children,r),n=he.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rm(t,r,e);else if(t.tag===19)rm(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(le(he,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Bo(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),ku(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Bo(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}ku(e,!0,r,null,i);break;case"together":ku(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Dn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,r=tn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=tn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function bx(t,e,r){switch(e.tag){case 3:vy(e),Ls();break;case 5:Hg(e);break;case 1:at(e.type)&&Lo(e);break;case 4:qd(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;le(zo,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(le(he,he.current&1),e.flags|=128,null):r&e.child.childLanes?wy(t,e,r):(le(he,he.current&1),t=_r(t,e,r),t!==null?t.sibling:null);le(he,he.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return _y(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(he,he.current),n)break;return null;case 22:case 23:return e.lanes=0,gy(t,e,r)}return _r(t,e,r)}var xy,Tc,by,ky;xy=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Tc=function(){};by=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Sn(rr.current);var i=null;switch(r){case"input":s=Xu(t,s),n=Xu(t,n),i=[];break;case"select":s=ge({},s,{value:void 0}),n=ge({},n,{value:void 0}),i=[];break;case"textarea":s=ec(t,s),n=ec(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Io)}rc(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Di.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Di.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ue("scroll",t),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ky=function(t,e,r,n){r!==n&&(e.flags|=4)};function ui(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Be(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function kx(t,e,r){var n=e.pendingProps;switch(Md(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(e),null;case 1:return at(e.type)&&$o(),Be(e),null;case 3:return n=e.stateNode,Ds(),ce(it),ce(He),Hd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Da(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dt!==null&&(Mc(Dt),Dt=null))),Tc(t,e),Be(e),null;case 5:Vd(e);var s=Sn(Gi.current);if(r=e.type,t!==null&&e.stateNode!=null)by(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(N(166));return Be(e),null}if(t=Sn(rr.current),Da(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Zt]=e,n[Qi]=i,t=(e.mode&1)!==0,r){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(s=0;s<pi.length;s++)ue(pi[s],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":dh(n,i),ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ue("invalid",n);break;case"textarea":hh(n,i),ue("invalid",n)}rc(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ma(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ma(n.textContent,o,t),s=["children",""+o]):Di.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ue("scroll",n)}switch(r){case"input":Ta(n),fh(n,i,!0);break;case"textarea":Ta(n),mh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Io)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xp(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Zt]=e,t[Qi]=n,xy(t,e,!1,!1),e.stateNode=t;e:{switch(a=nc(r,n),r){case"dialog":ue("cancel",t),ue("close",t),s=n;break;case"iframe":case"object":case"embed":ue("load",t),s=n;break;case"video":case"audio":for(s=0;s<pi.length;s++)ue(pi[s],t);s=n;break;case"source":ue("error",t),s=n;break;case"img":case"image":case"link":ue("error",t),ue("load",t),s=n;break;case"details":ue("toggle",t),s=n;break;case"input":dh(t,n),s=Xu(t,n),ue("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ge({},n,{value:void 0}),ue("invalid",t);break;case"textarea":hh(t,n),s=ec(t,n),ue("invalid",t);break;default:s=n}rc(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?eg(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yp(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&zi(t,l):typeof l=="number"&&zi(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Di.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ue("scroll",t):l!=null&&bd(t,i,l,a))}switch(r){case"input":Ta(t),fh(t,n,!1);break;case"textarea":Ta(t),mh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+sn(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ps(t,!!n.multiple,i,!1):n.defaultValue!=null&&ps(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Io)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Be(e),null;case 6:if(t&&e.stateNode!=null)ky(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(N(166));if(r=Sn(Gi.current),Sn(rr.current),Da(e)){if(n=e.stateNode,r=e.memoizedProps,n[Zt]=e,(i=n.nodeValue!==r)&&(t=pt,t!==null))switch(t.tag){case 3:Ma(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ma(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zt]=e,e.stateNode=n}return Be(e),null;case 13:if(ce(he),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&mt!==null&&e.mode&1&&!(e.flags&128))Ug(),Ls(),e.flags|=98560,i=!1;else if(i=Da(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[Zt]=e}else Ls(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Be(e),i=!1}else Dt!==null&&(Mc(Dt),Dt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||he.current&1?Te===0&&(Te=3):sf())),e.updateQueue!==null&&(e.flags|=4),Be(e),null);case 4:return Ds(),Tc(t,e),t===null&&Hi(e.stateNode.containerInfo),Be(e),null;case 10:return Ud(e.type._context),Be(e),null;case 17:return at(e.type)&&$o(),Be(e),null;case 19:if(ce(he),i=e.memoizedState,i===null)return Be(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)ui(i,!1);else{if(Te!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Bo(t),a!==null){for(e.flags|=128,ui(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return le(he,he.current&1|2),e.child}t=t.sibling}i.tail!==null&&Se()>Fs&&(e.flags|=128,n=!0,ui(i,!1),e.lanes=4194304)}else{if(!n)if(t=Bo(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ui(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!de)return Be(e),null}else 2*Se()-i.renderingStartTime>Fs&&r!==1073741824&&(e.flags|=128,n=!0,ui(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Se(),e.sibling=null,r=he.current,le(he,n?r&1|2:r&1),e):(Be(e),null);case 22:case 23:return nf(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ht&1073741824&&(Be(e),e.subtreeFlags&6&&(e.flags|=8192)):Be(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Sx(t,e){switch(Md(e),e.tag){case 1:return at(e.type)&&$o(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ds(),ce(it),ce(He),Hd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vd(e),null;case 13:if(ce(he),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Ls()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(he),null;case 4:return Ds(),null;case 10:return Ud(e.type._context),null;case 22:case 23:return nf(),null;case 24:return null;default:return null}}var Ua=!1,Ve=!1,Ex=typeof WeakSet=="function"?WeakSet:Set,z=null;function fs(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_e(t,e,n)}else r.current=null}function Nc(t,e,r){try{r()}catch(n){_e(t,e,n)}}var nm=!1;function Cx(t,e){if(hc=Ao,t=Pg(),$d(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===s&&(o=a),h===i&&++d===n&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(mc={focusedElem:t,selectionRange:r},Ao=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,b=w.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:At(e.type,v),b);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){_e(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return w=nm,nm=!1,w}function Ti(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nc(e,r,i)}s=s.next}while(s!==n)}}function wl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ac(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Sy(t){var e=t.alternate;e!==null&&(t.alternate=null,Sy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zt],delete e[Qi],delete e[yc],delete e[lx],delete e[ux])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ey(t){return t.tag===5||t.tag===3||t.tag===4}function sm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Io));else if(n!==4&&(t=t.child,t!==null))for(Rc(t,e,r),t=t.sibling;t!==null;)Rc(t,e,r),t=t.sibling}function Oc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Oc(t,e,r),t=t.sibling;t!==null;)Oc(t,e,r),t=t.sibling}var Ie=null,Lt=!1;function Cr(t,e,r){for(r=r.child;r!==null;)Cy(t,e,r),r=r.sibling}function Cy(t,e,r){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(dl,r)}catch{}switch(r.tag){case 5:Ve||fs(r,e);case 6:var n=Ie,s=Lt;Ie=null,Cr(t,e,r),Ie=n,Lt=s,Ie!==null&&(Lt?(t=Ie,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ie.removeChild(r.stateNode));break;case 18:Ie!==null&&(Lt?(t=Ie,r=r.stateNode,t.nodeType===8?gu(t.parentNode,r):t.nodeType===1&&gu(t,r),Wi(t)):gu(Ie,r.stateNode));break;case 4:n=Ie,s=Lt,Ie=r.stateNode.containerInfo,Lt=!0,Cr(t,e,r),Ie=n,Lt=s;break;case 0:case 11:case 14:case 15:if(!Ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Nc(r,e,a),s=s.next}while(s!==n)}Cr(t,e,r);break;case 1:if(!Ve&&(fs(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){_e(r,e,o)}Cr(t,e,r);break;case 21:Cr(t,e,r);break;case 22:r.mode&1?(Ve=(n=Ve)||r.memoizedState!==null,Cr(t,e,r),Ve=n):Cr(t,e,r);break;default:Cr(t,e,r)}}function im(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Ex),e.forEach(function(n){var s=$x.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Tt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ie=o.stateNode,Lt=!1;break e;case 3:Ie=o.stateNode.containerInfo,Lt=!0;break e;case 4:Ie=o.stateNode.containerInfo,Lt=!0;break e}o=o.return}if(Ie===null)throw Error(N(160));Cy(i,a,s),Ie=null,Lt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){_e(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jy(e,t),e=e.sibling}function jy(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tt(e,t),qt(t),n&4){try{Ti(3,t,t.return),wl(3,t)}catch(v){_e(t,t.return,v)}try{Ti(5,t,t.return)}catch(v){_e(t,t.return,v)}}break;case 1:Tt(e,t),qt(t),n&512&&r!==null&&fs(r,r.return);break;case 5:if(Tt(e,t),qt(t),n&512&&r!==null&&fs(r,r.return),t.flags&32){var s=t.stateNode;try{zi(s,"")}catch(v){_e(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Jp(s,i),nc(o,a);var c=nc(o,i);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?eg(s,f):d==="dangerouslySetInnerHTML"?Yp(s,f):d==="children"?zi(s,f):bd(s,d,f,c)}switch(o){case"input":Yu(s,i);break;case"textarea":Gp(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ps(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ps(s,!!i.multiple,i.defaultValue,!0):ps(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qi]=i}catch(v){_e(t,t.return,v)}}break;case 6:if(Tt(e,t),qt(t),n&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){_e(t,t.return,v)}}break;case 3:if(Tt(e,t),qt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wi(e.containerInfo)}catch(v){_e(t,t.return,v)}break;case 4:Tt(e,t),qt(t);break;case 13:Tt(e,t),qt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(tf=Se())),n&4&&im(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Ve=(c=Ve)||d,Tt(e,t),Ve=c):Tt(e,t),qt(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(z=t,d=t.child;d!==null;){for(f=z=d;z!==null;){switch(h=z,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ti(4,h,h.return);break;case 1:fs(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){_e(n,r,v)}}break;case 5:fs(h,h.return);break;case 22:if(h.memoizedState!==null){om(f);continue}}p!==null?(p.return=h,z=p):om(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Zp("display",a))}catch(v){_e(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){_e(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tt(e,t),qt(t),n&4&&im(t);break;case 21:break;default:Tt(e,t),qt(t)}}function qt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ey(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(zi(s,""),n.flags&=-33);var i=sm(t);Oc(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=sm(t);Rc(t,o,a);break;default:throw Error(N(161))}}catch(l){_e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jx(t,e,r){z=t,Py(t)}function Py(t,e,r){for(var n=(t.mode&1)!==0;z!==null;){var s=z,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ua;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Ve;o=Ua;var c=Ve;if(Ua=a,(Ve=l)&&!c)for(z=s;z!==null;)a=z,l=a.child,a.tag===22&&a.memoizedState!==null?lm(s):l!==null?(l.return=a,z=l):lm(s);for(;i!==null;)z=i,Py(i),i=i.sibling;z=s,Ua=o,Ve=c}am(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,z=i):am(t)}}function am(t){for(;z!==null;){var e=z;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ve||wl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ve)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:At(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&qh(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}qh(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ve||e.flags&512&&Ac(e)}catch(h){_e(e,e.return,h)}}if(e===t){z=null;break}if(r=e.sibling,r!==null){r.return=e.return,z=r;break}z=e.return}}function om(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var r=e.sibling;if(r!==null){r.return=e.return,z=r;break}z=e.return}}function lm(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{wl(4,e)}catch(l){_e(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){_e(e,s,l)}}var i=e.return;try{Ac(e)}catch(l){_e(e,i,l)}break;case 5:var a=e.return;try{Ac(e)}catch(l){_e(e,a,l)}}}catch(l){_e(e,e.return,l)}if(e===t){z=null;break}var o=e.sibling;if(o!==null){o.return=e.return,z=o;break}z=e.return}}var Px=Math.ceil,Vo=br.ReactCurrentDispatcher,Zd=br.ReactCurrentOwner,Et=br.ReactCurrentBatchConfig,ee=0,Oe=null,Ee=null,Le=0,ht=0,hs=ln(0),Te=0,ea=null,Dn=0,_l=0,ef=0,Ni=null,rt=null,tf=0,Fs=1/0,cr=null,Ho=!1,Ic=null,Zr=null,Ba=!1,Hr=null,Ko=0,Ai=0,$c=null,po=-1,go=0;function Xe(){return ee&6?Se():po!==-1?po:po=Se()}function en(t){return t.mode&1?ee&2&&Le!==0?Le&-Le:dx.transition!==null?(go===0&&(go=fg()),go):(t=re,t!==0||(t=window.event,t=t===void 0?16:wg(t.type)),t):1}function Bt(t,e,r,n){if(50<Ai)throw Ai=0,$c=null,Error(N(185));fa(t,r,n),(!(ee&2)||t!==Oe)&&(t===Oe&&(!(ee&2)&&(_l|=r),Te===4&&Mr(t,Le)),ot(t,n),r===1&&ee===0&&!(e.mode&1)&&(Fs=Se()+500,gl&&un()))}function ot(t,e){var r=t.callbackNode;d_(t,e);var n=No(t,t===Oe?Le:0);if(n===0)r!==null&&yh(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&yh(r),e===1)t.tag===0?cx(um.bind(null,t)):Dg(um.bind(null,t)),ax(function(){!(ee&6)&&un()}),r=null;else{switch(hg(n)){case 1:r=jd;break;case 4:r=cg;break;case 16:r=To;break;case 536870912:r=dg;break;default:r=To}r=Ly(r,Ty.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Ty(t,e){if(po=-1,go=0,ee&6)throw Error(N(327));var r=t.callbackNode;if(_s()&&t.callbackNode!==r)return null;var n=No(t,t===Oe?Le:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Qo(t,n);else{e=n;var s=ee;ee|=2;var i=Ay();(Oe!==t||Le!==e)&&(cr=null,Fs=Se()+500,On(t,e));do try{Ax();break}catch(o){Ny(t,o)}while(!0);Fd(),Vo.current=i,ee=s,Ee!==null?e=0:(Oe=null,Le=0,e=Te)}if(e!==0){if(e===2&&(s=lc(t),s!==0&&(n=s,e=Lc(t,s))),e===1)throw r=ea,On(t,0),Mr(t,n),ot(t,Se()),r;if(e===6)Mr(t,n);else{if(s=t.current.alternate,!(n&30)&&!Tx(s)&&(e=Qo(t,n),e===2&&(i=lc(t),i!==0&&(n=i,e=Lc(t,i))),e===1))throw r=ea,On(t,0),Mr(t,n),ot(t,Se()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(N(345));case 2:vn(t,rt,cr);break;case 3:if(Mr(t,n),(n&130023424)===n&&(e=tf+500-Se(),10<e)){if(No(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Xe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gc(vn.bind(null,t,rt,cr),e);break}vn(t,rt,cr);break;case 4:if(Mr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Ut(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Px(n/1960))-n,10<n){t.timeoutHandle=gc(vn.bind(null,t,rt,cr),n);break}vn(t,rt,cr);break;case 5:vn(t,rt,cr);break;default:throw Error(N(329))}}}return ot(t,Se()),t.callbackNode===r?Ty.bind(null,t):null}function Lc(t,e){var r=Ni;return t.current.memoizedState.isDehydrated&&(On(t,e).flags|=256),t=Qo(t,e),t!==2&&(e=rt,rt=r,e!==null&&Mc(e)),t}function Mc(t){rt===null?rt=t:rt.push.apply(rt,t)}function Tx(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Wt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mr(t,e){for(e&=~ef,e&=~_l,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ut(e),n=1<<r;t[r]=-1,e&=~n}}function um(t){if(ee&6)throw Error(N(327));_s();var e=No(t,0);if(!(e&1))return ot(t,Se()),null;var r=Qo(t,e);if(t.tag!==0&&r===2){var n=lc(t);n!==0&&(e=n,r=Lc(t,n))}if(r===1)throw r=ea,On(t,0),Mr(t,e),ot(t,Se()),r;if(r===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vn(t,rt,cr),ot(t,Se()),null}function rf(t,e){var r=ee;ee|=1;try{return t(e)}finally{ee=r,ee===0&&(Fs=Se()+500,gl&&un())}}function zn(t){Hr!==null&&Hr.tag===0&&!(ee&6)&&_s();var e=ee;ee|=1;var r=Et.transition,n=re;try{if(Et.transition=null,re=1,t)return t()}finally{re=n,Et.transition=r,ee=e,!(ee&6)&&un()}}function nf(){ht=hs.current,ce(hs)}function On(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,ix(r)),Ee!==null)for(r=Ee.return;r!==null;){var n=r;switch(Md(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$o();break;case 3:Ds(),ce(it),ce(He),Hd();break;case 5:Vd(n);break;case 4:Ds();break;case 13:ce(he);break;case 19:ce(he);break;case 10:Ud(n.type._context);break;case 22:case 23:nf()}r=r.return}if(Oe=t,Ee=t=tn(t.current,null),Le=ht=e,Te=0,ea=null,ef=_l=Dn=0,rt=Ni=null,kn!==null){for(e=0;e<kn.length;e++)if(r=kn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}kn=null}return t}function Ny(t,e){do{var r=Ee;try{if(Fd(),fo.current=qo,Wo){for(var n=me.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Wo=!1}if(Mn=0,Re=Pe=me=null,Pi=!1,Xi=0,Zd.current=null,r===null||r.return===null){Te=1,ea=e,Ee=null;break}e:{var i=t,a=r.return,o=r,l=e;if(e=Le,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Gh(a);if(p!==null){p.flags&=-257,Xh(p,a,o,i,e),p.mode&1&&Jh(i,c,e),e=p,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){Jh(i,c,e),sf();break e}l=Error(N(426))}}else if(de&&o.mode&1){var b=Gh(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Xh(b,a,o,i,e),Dd(zs(l,o));break e}}i=l=zs(l,o),Te!==4&&(Te=2),Ni===null?Ni=[i]:Ni.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=hy(i,l,e);Wh(i,g);break e;case 1:o=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zr===null||!Zr.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=my(i,o,e);Wh(i,x);break e}}i=i.return}while(i!==null)}Oy(r)}catch(k){e=k,Ee===r&&r!==null&&(Ee=r=r.return);continue}break}while(!0)}function Ay(){var t=Vo.current;return Vo.current=qo,t===null?qo:t}function sf(){(Te===0||Te===3||Te===2)&&(Te=4),Oe===null||!(Dn&268435455)&&!(_l&268435455)||Mr(Oe,Le)}function Qo(t,e){var r=ee;ee|=2;var n=Ay();(Oe!==t||Le!==e)&&(cr=null,On(t,e));do try{Nx();break}catch(s){Ny(t,s)}while(!0);if(Fd(),ee=r,Vo.current=n,Ee!==null)throw Error(N(261));return Oe=null,Le=0,Te}function Nx(){for(;Ee!==null;)Ry(Ee)}function Ax(){for(;Ee!==null&&!r_();)Ry(Ee)}function Ry(t){var e=$y(t.alternate,t,ht);t.memoizedProps=t.pendingProps,e===null?Oy(t):Ee=e,Zd.current=null}function Oy(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Sx(r,e),r!==null){r.flags&=32767,Ee=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Te=6,Ee=null;return}}else if(r=kx(r,e,ht),r!==null){Ee=r;return}if(e=e.sibling,e!==null){Ee=e;return}Ee=e=t}while(e!==null);Te===0&&(Te=5)}function vn(t,e,r){var n=re,s=Et.transition;try{Et.transition=null,re=1,Rx(t,e,r,n)}finally{Et.transition=s,re=n}return null}function Rx(t,e,r,n){do _s();while(Hr!==null);if(ee&6)throw Error(N(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(f_(t,i),t===Oe&&(Ee=Oe=null,Le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ba||(Ba=!0,Ly(To,function(){return _s(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Et.transition,Et.transition=null;var a=re;re=1;var o=ee;ee|=4,Zd.current=null,Cx(t,r),jy(r,t),Y_(mc),Ao=!!hc,mc=hc=null,t.current=r,jx(r),n_(),ee=o,re=a,Et.transition=i}else t.current=r;if(Ba&&(Ba=!1,Hr=t,Ko=s),i=t.pendingLanes,i===0&&(Zr=null),a_(r.stateNode),ot(t,Se()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ho)throw Ho=!1,t=Ic,Ic=null,t;return Ko&1&&t.tag!==0&&_s(),i=t.pendingLanes,i&1?t===$c?Ai++:(Ai=0,$c=t):Ai=0,un(),null}function _s(){if(Hr!==null){var t=hg(Ko),e=Et.transition,r=re;try{if(Et.transition=null,re=16>t?16:t,Hr===null)var n=!1;else{if(t=Hr,Hr=null,Ko=0,ee&6)throw Error(N(331));var s=ee;for(ee|=4,z=t.current;z!==null;){var i=z,a=i.child;if(z.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(z=c;z!==null;){var d=z;switch(d.tag){case 0:case 11:case 15:Ti(8,d,i)}var f=d.child;if(f!==null)f.return=d,z=f;else for(;z!==null;){d=z;var h=d.sibling,p=d.return;if(Sy(d),d===c){z=null;break}if(h!==null){h.return=p,z=h;break}z=p}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}z=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,z=a;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ti(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,z=g;break e}z=i.return}}var m=t.current;for(z=m;z!==null;){a=z;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,z=y;else e:for(a=m;z!==null;){if(o=z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:wl(9,o)}}catch(k){_e(o,o.return,k)}if(o===a){z=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,z=x;break e}z=o.return}}if(ee=s,un(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(dl,t)}catch{}n=!0}return n}finally{re=r,Et.transition=e}}return!1}function cm(t,e,r){e=zs(r,e),e=hy(t,e,1),t=Yr(t,e,1),e=Xe(),t!==null&&(fa(t,1,e),ot(t,e))}function _e(t,e,r){if(t.tag===3)cm(t,t,r);else for(;e!==null;){if(e.tag===3){cm(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zr===null||!Zr.has(n))){t=zs(r,t),t=my(e,t,1),e=Yr(e,t,1),t=Xe(),e!==null&&(fa(e,1,t),ot(e,t));break}}e=e.return}}function Ox(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Xe(),t.pingedLanes|=t.suspendedLanes&r,Oe===t&&(Le&r)===r&&(Te===4||Te===3&&(Le&130023424)===Le&&500>Se()-tf?On(t,0):ef|=r),ot(t,e)}function Iy(t,e){e===0&&(t.mode&1?(e=Ra,Ra<<=1,!(Ra&130023424)&&(Ra=4194304)):e=1);var r=Xe();t=wr(t,e),t!==null&&(fa(t,e,r),ot(t,r))}function Ix(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Iy(t,r)}function $x(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(e),Iy(t,r)}var $y;$y=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)st=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return st=!1,bx(t,e,r);st=!!(t.flags&131072)}else st=!1,de&&e.flags&1048576&&zg(e,Do,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;mo(t,e),t=e.pendingProps;var s=$s(e,He.current);ws(e,r),s=Qd(null,e,n,t,s,r);var i=Jd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,at(n)?(i=!0,Lo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wd(e),s.updater=vl,e.stateNode=s,s._reactInternals=e,kc(e,n,t,r),e=Cc(null,e,n,!0,i,r)):(e.tag=0,de&&i&&Ld(e),Je(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(mo(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Mx(n),t=At(n,t),s){case 0:e=Ec(null,e,n,t,r);break e;case 1:e=em(null,e,n,t,r);break e;case 11:e=Yh(null,e,n,t,r);break e;case 14:e=Zh(null,e,n,At(n.type,t),r);break e}throw Error(N(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:At(n,s),Ec(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:At(n,s),em(t,e,n,s,r);case 3:e:{if(vy(e),t===null)throw Error(N(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Vg(t,e),Uo(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zs(Error(N(423)),e),e=tm(t,e,n,r,s);break e}else if(n!==s){s=zs(Error(N(424)),e),e=tm(t,e,n,r,s);break e}else for(mt=Xr(e.stateNode.containerInfo.firstChild),pt=e,de=!0,Dt=null,r=Wg(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ls(),n===s){e=_r(t,e,r);break e}Je(t,e,n,r)}e=e.child}return e;case 5:return Hg(e),t===null&&_c(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,pc(n,s)?a=null:i!==null&&pc(n,i)&&(e.flags|=32),yy(t,e),Je(t,e,a,r),e.child;case 6:return t===null&&_c(e),null;case 13:return wy(t,e,r);case 4:return qd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ms(e,null,n,r):Je(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:At(n,s),Yh(t,e,n,s,r);case 7:return Je(t,e,e.pendingProps,r),e.child;case 8:return Je(t,e,e.pendingProps.children,r),e.child;case 12:return Je(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,le(zo,n._currentValue),n._currentValue=a,i!==null)if(Wt(i.value,a)){if(i.children===s.children&&!it.current){e=_r(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=gr(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),xc(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),xc(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Je(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,ws(e,r),s=jt(s),n=n(s),e.flags|=1,Je(t,e,n,r),e.child;case 14:return n=e.type,s=At(n,e.pendingProps),s=At(n.type,s),Zh(t,e,n,s,r);case 15:return py(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:At(n,s),mo(t,e),e.tag=1,at(n)?(t=!0,Lo(e)):t=!1,ws(e,r),fy(e,n,s),kc(e,n,s,r),Cc(null,e,n,!0,t,r);case 19:return _y(t,e,r);case 22:return gy(t,e,r)}throw Error(N(156,e.tag))};function Ly(t,e){return ug(t,e)}function Lx(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,e,r,n){return new Lx(t,e,r,n)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mx(t){if(typeof t=="function")return af(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sd)return 11;if(t===Ed)return 14}return 2}function tn(t,e){var r=t.alternate;return r===null?(r=kt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function yo(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")af(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ns:return In(r.children,s,i,e);case kd:a=8,s|=8;break;case Ku:return t=kt(12,r,e,s|2),t.elementType=Ku,t.lanes=i,t;case Qu:return t=kt(13,r,e,s),t.elementType=Qu,t.lanes=i,t;case Ju:return t=kt(19,r,e,s),t.elementType=Ju,t.lanes=i,t;case Hp:return xl(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qp:a=10;break e;case Vp:a=9;break e;case Sd:a=11;break e;case Ed:a=14;break e;case Or:a=16,n=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=kt(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function In(t,e,r,n){return t=kt(7,t,n,e),t.lanes=r,t}function xl(t,e,r,n){return t=kt(22,t,n,e),t.elementType=Hp,t.lanes=r,t.stateNode={isHidden:!1},t}function Su(t,e,r){return t=kt(6,t,null,e),t.lanes=r,t}function Eu(t,e,r){return e=kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Dx(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iu(0),this.expirationTimes=iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function of(t,e,r,n,s,i,a,o,l){return t=new Dx(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=kt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wd(i),t}function zx(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function My(t){if(!t)return an;t=t._reactInternals;e:{if(Un(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(at(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var r=t.type;if(at(r))return Mg(t,r,e)}return e}function Dy(t,e,r,n,s,i,a,o,l){return t=of(r,n,!0,t,s,i,a,o,l),t.context=My(null),r=t.current,n=Xe(),s=en(r),i=gr(n,s),i.callback=e??null,Yr(r,i,s),t.current.lanes=s,fa(t,s,n),ot(t,n),t}function bl(t,e,r,n){var s=e.current,i=Xe(),a=en(s);return r=My(r),e.context===null?e.context=r:e.pendingContext=r,e=gr(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Yr(s,e,a),t!==null&&(Bt(t,s,a,i),co(t,s,a)),a}function Jo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function lf(t,e){dm(t,e),(t=t.alternate)&&dm(t,e)}function Fx(){return null}var zy=typeof reportError=="function"?reportError:function(t){console.error(t)};function uf(t){this._internalRoot=t}kl.prototype.render=uf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));bl(t,e,null,null)};kl.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zn(function(){bl(null,t,null,null)}),e[vr]=null}};function kl(t){this._internalRoot=t}kl.prototype.unstable_scheduleHydration=function(t){if(t){var e=gg();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Lr.length&&e!==0&&e<Lr[r].priority;r++);Lr.splice(r,0,t),r===0&&vg(t)}};function cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fm(){}function Ux(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Jo(a);i.call(c)}}var a=Dy(e,n,t,0,null,!1,!1,"",fm);return t._reactRootContainer=a,t[vr]=a.current,Hi(t.nodeType===8?t.parentNode:t),zn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Jo(l);o.call(c)}}var l=of(t,0,!1,null,null,!1,!1,"",fm);return t._reactRootContainer=l,t[vr]=l.current,Hi(t.nodeType===8?t.parentNode:t),zn(function(){bl(e,l,r,n)}),l}function El(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Jo(a);o.call(l)}}bl(e,a,t,s)}else a=Ux(r,e,t,s,n);return Jo(a)}mg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=mi(e.pendingLanes);r!==0&&(Pd(e,r|1),ot(e,Se()),!(ee&6)&&(Fs=Se()+500,un()))}break;case 13:zn(function(){var n=wr(t,1);if(n!==null){var s=Xe();Bt(n,t,1,s)}}),lf(t,1)}};Td=function(t){if(t.tag===13){var e=wr(t,134217728);if(e!==null){var r=Xe();Bt(e,t,134217728,r)}lf(t,134217728)}};pg=function(t){if(t.tag===13){var e=en(t),r=wr(t,e);if(r!==null){var n=Xe();Bt(r,t,e,n)}lf(t,e)}};gg=function(){return re};yg=function(t,e){var r=re;try{return re=t,e()}finally{re=r}};ic=function(t,e,r){switch(e){case"input":if(Yu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=pl(n);if(!s)throw Error(N(90));Qp(n),Yu(n,s)}}}break;case"textarea":Gp(t,r);break;case"select":e=r.value,e!=null&&ps(t,!!r.multiple,e,!1)}};ng=rf;sg=zn;var Bx={usingClientEntryPoint:!1,Events:[ma,os,pl,tg,rg,rf]},ci={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wx={bundleType:ci.bundleType,version:ci.version,rendererPackageName:ci.rendererPackageName,rendererConfig:ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=og(t),t===null?null:t.stateNode},findFiberByHostInstance:ci.findFiberByHostInstance||Fx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wa.isDisabled&&Wa.supportsFiber)try{dl=Wa.inject(Wx),tr=Wa}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bx;yt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cf(e))throw Error(N(200));return zx(t,e,null,r)};yt.createRoot=function(t,e){if(!cf(t))throw Error(N(299));var r=!1,n="",s=zy;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=of(t,1,!1,null,null,r,!1,n,s),t[vr]=e.current,Hi(t.nodeType===8?t.parentNode:t),new uf(e)};yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=og(e),t=t===null?null:t.stateNode,t};yt.flushSync=function(t){return zn(t)};yt.hydrate=function(t,e,r){if(!Sl(e))throw Error(N(200));return El(null,t,e,!0,r)};yt.hydrateRoot=function(t,e,r){if(!cf(t))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=zy;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Dy(e,null,t,1,r??null,s,!1,i,a),t[vr]=e.current,Hi(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new kl(e)};yt.render=function(t,e,r){if(!Sl(e))throw Error(N(200));return El(null,t,e,!1,r)};yt.unmountComponentAtNode=function(t){if(!Sl(t))throw Error(N(40));return t._reactRootContainer?(zn(function(){El(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};yt.unstable_batchedUpdates=rf;yt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Sl(r))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return El(t,e,r,!1,n)};yt.version="18.3.1-next-f1338f8080-20240426";function Fy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fy)}catch(t){console.error(t)}}Fy(),Fp.exports=yt;var Uy=Fp.exports;const oj=Pp(Uy);var By,hm=Uy;By=hm.createRoot,hm.hydrateRoot;const qx="modulepreload",Vx=function(t){return"/"+t},mm={},ie=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Vx(l),l in mm)return;mm[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":qx,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ta.apply(this,arguments)}var Kr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kr||(Kr={}));const pm="popstate";function Hx(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return Dc("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Go(s)}return Qx(e,r,null,t)}function pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Kx(){return Math.random().toString(36).substr(2,8)}function gm(t,e){return{usr:t.state,key:t.key,idx:e}}function Dc(t,e,r,n){return r===void 0&&(r=null),ta({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qs(e):e,{state:r,key:e&&e.key||n||Kx()})}function Go(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Qs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Qx(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Kr.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(ta({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Kr.Pop;let b=d(),g=b==null?null:b-c;c=b,l&&l({action:o,location:v.location,delta:g})}function h(b,g){o=Kr.Push;let m=Dc(v.location,b,g);c=d()+1;let y=gm(m,c),x=v.createHref(m);try{a.pushState(y,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(x)}i&&l&&l({action:o,location:v.location,delta:1})}function p(b,g){o=Kr.Replace;let m=Dc(v.location,b,g);c=d();let y=gm(m,c),x=v.createHref(m);a.replaceState(y,"",x),i&&l&&l({action:o,location:v.location,delta:0})}function w(b){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:Go(b);return m=m.replace(/ $/,"%20"),pe(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let v={get action(){return o},get location(){return t(s,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(pm,f),l=b,()=>{s.removeEventListener(pm,f),l=null}},createHref(b){return e(s,b)},createURL:w,encodeLocation(b){let g=w(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(b){return a.go(b)}};return v}var ym;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ym||(ym={}));function Jx(t,e,r){return r===void 0&&(r="/"),Gx(t,e,r)}function Gx(t,e,r,n){let s=typeof e=="string"?Qs(e):e,i=Us(s.pathname||"/",r);if(i==null)return null;let a=qy(t);Xx(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=l1(i);o=a1(a[l],c)}return o}function qy(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(pe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=rn([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),qy(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:s1(c,i.index),routesMeta:d})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Vy(i.path))s(i,a,l)}),e}function Vy(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Vy(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Xx(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:i1(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Yx=/^:[\w-]+$/,Zx=3,e1=2,t1=1,r1=10,n1=-2,vm=t=>t==="*";function s1(t,e){let r=t.split("/"),n=r.length;return r.some(vm)&&(n+=n1),e&&(n+=e1),r.filter(s=>!vm(s)).reduce((s,i)=>s+(Yx.test(i)?Zx:i===""?t1:r1),n)}function i1(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function a1(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=zc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:rn([i,f.pathname]),pathnameBase:f1(rn([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=rn([i,f.pathnameBase]))}return a}function zc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=o1(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=o[f]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=o[f];return p&&!w?c[h]=void 0:c[h]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function o1(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Wy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function l1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Us(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function u1(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Qs(t):t;return{pathname:r?r.startsWith("/")?r:c1(r,e):e,search:h1(n),hash:m1(s)}}function c1(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Cu(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d1(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function df(t,e){let r=d1(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ff(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Qs(t):(s=ta({},t),pe(!s.pathname||!s.pathname.includes("?"),Cu("?","pathname","search",s)),pe(!s.pathname||!s.pathname.includes("#"),Cu("#","pathname","hash",s)),pe(!s.search||!s.search.includes("#"),Cu("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=u1(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const rn=t=>t.join("/").replace(/\/\/+/g,"/"),f1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),h1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,m1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function p1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Hy=["post","put","patch","delete"];new Set(Hy);const g1=["get",...Hy];new Set(g1);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ra.apply(this,arguments)}const Cl=_.createContext(null),Ky=_.createContext(null),kr=_.createContext(null),jl=_.createContext(null),nr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Qy=_.createContext(null);function y1(t,e){let{relative:r}=e===void 0?{}:e;Js()||pe(!1);let{basename:n,navigator:s}=_.useContext(kr),{hash:i,pathname:a,search:o}=Tl(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:rn([n,a])),s.createHref({pathname:l,search:o,hash:i})}function Js(){return _.useContext(jl)!=null}function cn(){return Js()||pe(!1),_.useContext(jl).location}function Jy(t){_.useContext(kr).static||_.useLayoutEffect(t)}function Pl(){let{isDataRoute:t}=_.useContext(nr);return t?R1():v1()}function v1(){Js()||pe(!1);let t=_.useContext(Cl),{basename:e,future:r,navigator:n}=_.useContext(kr),{matches:s}=_.useContext(nr),{pathname:i}=cn(),a=JSON.stringify(df(s,r.v7_relativeSplatPath)),o=_.useRef(!1);return Jy(()=>{o.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=ff(c,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:rn([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,a,i,t])}const w1=_.createContext(null);function _1(t){let e=_.useContext(nr).outlet;return e&&_.createElement(w1.Provider,{value:t},e)}function lj(){let{matches:t}=_.useContext(nr),e=t[t.length-1];return e?e.params:{}}function Tl(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=_.useContext(kr),{matches:s}=_.useContext(nr),{pathname:i}=cn(),a=JSON.stringify(df(s,n.v7_relativeSplatPath));return _.useMemo(()=>ff(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function x1(t,e){return b1(t,e)}function b1(t,e,r,n){Js()||pe(!1);let{navigator:s,static:i}=_.useContext(kr),{matches:a}=_.useContext(nr),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=cn(),f;if(e){var h;let g=typeof e=="string"?Qs(e):e;c==="/"||(h=g.pathname)!=null&&h.startsWith(c)||pe(!1),f=g}else f=d;let p=f.pathname||"/",w=p;if(c!=="/"){let g=c.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=Jx(t,{pathname:w}),b=j1(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:rn([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:rn([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,r,n);return e&&b?_.createElement(jl.Provider,{value:{location:ra({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Kr.Pop}},b):b}function k1(){let t=A1(),e=p1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:s},r):null,null)}const S1=_.createElement(k1,null);class E1 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?_.createElement(nr.Provider,{value:this.props.routeContext},_.createElement(Qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C1(t){let{routeContext:e,match:r,children:n}=t,s=_.useContext(Cl);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(nr.Provider,{value:e},n)}function j1(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||pe(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=r,w=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,w=!1,v=null,b=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||S1,l&&(c<0&&h===0?(O1("route-fallback"),w=!0,b=null):c===h&&(w=!0,b=f.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,h+1)),m=()=>{let y;return p?y=v:w?y=b:f.route.Component?y=_.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,_.createElement(C1,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(E1,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Gy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Gy||{}),Xy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Xy||{});function P1(t){let e=_.useContext(Cl);return e||pe(!1),e}function T1(t){let e=_.useContext(Ky);return e||pe(!1),e}function N1(t){let e=_.useContext(nr);return e||pe(!1),e}function Yy(t){let e=N1(),r=e.matches[e.matches.length-1];return r.route.id||pe(!1),r.route.id}function A1(){var t;let e=_.useContext(Qy),r=T1(),n=Yy();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function R1(){let{router:t}=P1(Gy.UseNavigateStable),e=Yy(Xy.UseNavigateStable),r=_.useRef(!1);return Jy(()=>{r.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ra({fromRouteId:e},i)))},[t,e])}const wm={};function O1(t,e,r){wm[t]||(wm[t]=!0)}function I1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Fc(t){let{to:e,replace:r,state:n,relative:s}=t;Js()||pe(!1);let{future:i,static:a}=_.useContext(kr),{matches:o}=_.useContext(nr),{pathname:l}=cn(),c=Pl(),d=ff(e,df(o,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return _.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function $1(t){return _1(t.context)}function se(t){pe(!1)}function L1(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Kr.Pop,navigator:i,static:a=!1,future:o}=t;Js()&&pe(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:i,static:a,future:ra({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=Qs(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:w="default"}=n,v=_.useMemo(()=>{let b=Us(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:w},navigationType:s}},[l,d,f,h,p,w,s]);return v==null?null:_.createElement(kr.Provider,{value:c},_.createElement(jl.Provider,{children:r,value:v}))}function M1(t){let{children:e,location:r}=t;return x1(Uc(e),r)}new Promise(()=>{});function Uc(t,e){e===void 0&&(e=[]);let r=[];return _.Children.forEach(t,(n,s)=>{if(!_.isValidElement(n))return;let i=[...e,s];if(n.type===_.Fragment){r.push.apply(r,Uc(n.props.children,i));return}n.type!==se&&pe(!1),!n.props.index||!n.props.children||pe(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Uc(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xo.apply(this,arguments)}function Zy(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function D1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z1(t,e){return t.button===0&&(!e||e==="_self")&&!D1(t)}const F1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],B1="6";try{window.__reactRouterVersion=B1}catch{}const W1=_.createContext({isTransitioning:!1}),q1="startTransition",_m=Ow[q1];function V1(t){let{basename:e,children:r,future:n,window:s}=t,i=_.useRef();i.current==null&&(i.current=Hx({window:s,v5Compat:!0}));let a=i.current,[o,l]=_.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=_.useCallback(f=>{c&&_m?_m(()=>l(f)):l(f)},[l,c]);return _.useLayoutEffect(()=>a.listen(d),[a,d]),_.useEffect(()=>I1(n),[n]),_.createElement(L1,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const H1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yo=_.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=Zy(e,F1),{basename:p}=_.useContext(kr),w,v=!1;if(typeof c=="string"&&K1.test(c)&&(w=c,H1))try{let y=new URL(window.location.href),x=c.startsWith("//")?new URL(y.protocol+c):new URL(c),k=Us(x.pathname,p);x.origin===y.origin&&k!=null?c=k+x.search+x.hash:v=!0}catch{}let b=y1(c,{relative:s}),g=G1(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:f});function m(y){n&&n(y),y.defaultPrevented||g(y)}return _.createElement("a",Xo({},h,{href:w||b,onClick:v||i?n:m,ref:r,target:l}))}),Q1=_.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:l,viewTransition:c,children:d}=e,f=Zy(e,U1),h=Tl(l,{relative:f.relative}),p=cn(),w=_.useContext(Ky),{navigator:v,basename:b}=_.useContext(kr),g=w!=null&&X1(h)&&c===!0,m=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,y=p.pathname,x=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(y=y.toLowerCase(),x=x?x.toLowerCase():null,m=m.toLowerCase()),x&&b&&(x=Us(x,b)||x);const k=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=y===m||!a&&y.startsWith(m)&&y.charAt(k)==="/",P=x!=null&&(x===m||!a&&x.startsWith(m)&&x.charAt(m.length)==="/"),R={isActive:S,isPending:P,isTransitioning:g},T=S?n:void 0,E;typeof i=="function"?E=i(R):E=[i,S?"active":null,P?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(R):o;return _.createElement(Yo,Xo({},f,{"aria-current":T,className:E,ref:r,style:A,to:l,viewTransition:c}),typeof d=="function"?d(R):d)});var Bc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Bc||(Bc={}));var xm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xm||(xm={}));function J1(t){let e=_.useContext(Cl);return e||pe(!1),e}function G1(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=Pl(),c=cn(),d=Tl(t,{relative:a});return _.useCallback(f=>{if(z1(f,r)){f.preventDefault();let h=n!==void 0?n:Go(c)===Go(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,d,n,s,r,t,i,a,o])}function X1(t,e){e===void 0&&(e={});let r=_.useContext(W1);r==null&&pe(!1);let{basename:n}=J1(Bc.useViewTransitionState),s=Tl(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=Us(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Us(r.nextLocation.pathname,n)||r.nextLocation.pathname;return zc(s.pathname,a)!=null||zc(s.pathname,i)!=null}var Nl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Al=typeof window>"u"||"Deno"in globalThis;function Rt(){}function Y1(t,e){return typeof t=="function"?t(e):t}function Z1(t){return typeof t=="number"&&t>=0&&t!==1/0}function eb(t,e){return Math.max(t+(e||0)-Date.now(),0)}function bm(t,e){return typeof t=="function"?t(e):t}function tb(t,e){return typeof t=="function"?t(e):t}function km(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==hf(a,e.options))return!1}else if(!sa(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function Sm(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(na(e.options.mutationKey)!==na(i))return!1}else if(!sa(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function hf(t,e){return((e==null?void 0:e.queryKeyHashFn)||na)(t)}function na(t){return JSON.stringify(t,(e,r)=>Wc(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function sa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>sa(t[r],e[r])):!1}function e0(t,e){if(t===e)return t;const r=Em(t)&&Em(e);if(r||Wc(t)&&Wc(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),a=i.length,o=r?[]:{};let l=0;for(let c=0;c<a;c++){const d=r?c:i[c];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,l++):(o[d]=e0(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&l++)}return s===a&&l===s?t:o}return e}function uj(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Em(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Wc(t){if(!Cm(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Cm(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Cm(t){return Object.prototype.toString.call(t)==="[object Object]"}function rb(t){return new Promise(e=>{setTimeout(e,t)})}function nb(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?e0(t,e):e}function sb(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function ib(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var mf=Symbol();function t0(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===mf?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function cj(t,e){return typeof t=="function"?t(...e):!!t}var Pn,Fr,Es,_p,ab=(_p=class extends Nl{constructor(){super();te(this,Pn);te(this,Fr);te(this,Es);Q(this,Es,e=>{if(!Al&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,Fr)||this.setEventListener(C(this,Es))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,Fr))==null||e.call(this),Q(this,Fr,void 0))}setEventListener(e){var r;Q(this,Es,e),(r=C(this,Fr))==null||r.call(this),Q(this,Fr,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){C(this,Pn)!==e&&(Q(this,Pn,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof C(this,Pn)=="boolean"?C(this,Pn):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Pn=new WeakMap,Fr=new WeakMap,Es=new WeakMap,_p),r0=new ab,Cs,Ur,js,xp,ob=(xp=class extends Nl{constructor(){super();te(this,Cs,!0);te(this,Ur);te(this,js);Q(this,js,e=>{if(!Al&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,Ur)||this.setEventListener(C(this,js))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,Ur))==null||e.call(this),Q(this,Ur,void 0))}setEventListener(e){var r;Q(this,js,e),(r=C(this,Ur))==null||r.call(this),Q(this,Ur,e(this.setOnline.bind(this)))}setOnline(e){C(this,Cs)!==e&&(Q(this,Cs,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return C(this,Cs)}},Cs=new WeakMap,Ur=new WeakMap,js=new WeakMap,xp),Zo=new ob;function lb(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function ub(t){return Math.min(1e3*2**t,3e4)}function n0(t){return(t??"online")==="online"?Zo.isOnline():!0}var s0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ju(t){return t instanceof s0}function i0(t){let e=!1,r=0,n=!1,s;const i=lb(),a=v=>{var b;n||(h(new s0(v)),(b=t.abort)==null||b.call(t))},o=()=>{e=!0},l=()=>{e=!1},c=()=>r0.isFocused()&&(t.networkMode==="always"||Zo.isOnline())&&t.canRun(),d=()=>n0(t.networkMode)&&t.canRun(),f=v=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,v),s==null||s(),i.resolve(v))},h=v=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var b;s=g=>{(n||c())&&v(g)},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;s=void 0,n||(v=t.onContinue)==null||v.call(t)}),w=()=>{if(n)return;let v;const b=r===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(f).catch(g=>{var S;if(n)return;const m=t.retry??(Al?0:3),y=t.retryDelay??ub,x=typeof y=="function"?y(r,g):y,k=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,g);if(e||!k){h(g);return}r++,(S=t.onFail)==null||S.call(t,r,g),rb(x).then(()=>c()?void 0:p()).then(()=>{e?h(g):w()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?w():p().then(w),i)}}var cb=t=>setTimeout(t,0);function db(){let t=[],e=0,r=o=>{o()},n=o=>{o()},s=cb;const i=o=>{e?t.push(o):s(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var Ge=db(),Tn,bp,a0=(bp=class{constructor(){te(this,Tn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Z1(this.gcTime)&&Q(this,Tn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Al?1/0:5*60*1e3))}clearGcTimeout(){C(this,Tn)&&(clearTimeout(C(this,Tn)),Q(this,Tn,void 0))}},Tn=new WeakMap,bp),Ps,Ts,_t,Nn,qe,la,An,It,lr,kp,fb=(kp=class extends a0{constructor(e){super();te(this,It);te(this,Ps);te(this,Ts);te(this,_t);te(this,Nn);te(this,qe);te(this,la);te(this,An);Q(this,An,!1),Q(this,la,e.defaultOptions),this.setOptions(e.options),this.observers=[],Q(this,Nn,e.client),Q(this,_t,C(this,Nn).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Q(this,Ps,mb(this.options)),this.state=e.state??C(this,Ps),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=C(this,qe))==null?void 0:e.promise}setOptions(e){this.options={...C(this,la),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,_t).remove(this)}setData(e,r){const n=nb(this.state.data,e,this.options);return Fe(this,It,lr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Fe(this,It,lr).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=C(this,qe))==null?void 0:n.promise;return(s=C(this,qe))==null||s.cancel(e),r?r.then(Rt).catch(Rt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Ps))}isActive(){return this.observers.some(e=>tb(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!eb(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=C(this,qe))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=C(this,qe))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),C(this,_t).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(C(this,qe)&&(C(this,An)?C(this,qe).cancel({revert:!0}):C(this,qe).cancelRetry()),this.scheduleGc()),C(this,_t).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fe(this,It,lr).call(this,{type:"invalidate"})}fetch(e,r){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,qe))return C(this,qe).continueRetry(),C(this,qe).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Q(this,An,!0),n.signal)})},i=()=>{const f=t0(this.options,r),h={client:C(this,Nn),queryKey:this.queryKey,meta:this.meta};return s(h),Q(this,An,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,Nn),state:this.state,fetchFn:i};s(a),(l=this.options.behavior)==null||l.onFetch(a,this),Q(this,Ts,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&Fe(this,It,lr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,p,w,v;ju(f)&&f.silent||Fe(this,It,lr).call(this,{type:"error",error:f}),ju(f)||((p=(h=C(this,_t).config).onError)==null||p.call(h,f,this),(v=(w=C(this,_t).config).onSettled)==null||v.call(w,this.state.data,f,this)),this.scheduleGc()};return Q(this,qe,i0({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,w,v;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){o(b);return}(p=(h=C(this,_t).config).onSuccess)==null||p.call(h,f,this),(v=(w=C(this,_t).config).onSettled)==null||v.call(w,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Fe(this,It,lr).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Fe(this,It,lr).call(this,{type:"pause"})},onContinue:()=>{Fe(this,It,lr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),C(this,qe).start()}},Ps=new WeakMap,Ts=new WeakMap,_t=new WeakMap,Nn=new WeakMap,qe=new WeakMap,la=new WeakMap,An=new WeakMap,It=new WeakSet,lr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...hb(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return ju(s)&&s.revert&&C(this,Ts)?{...C(this,Ts),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Ge.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,_t).notify({query:this,type:"updated",action:e})})},kp);function hb(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:n0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function mb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Gt,Sp,pb=(Sp=class extends Nl{constructor(e={}){super();te(this,Gt);this.config=e,Q(this,Gt,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??hf(s,r);let a=this.get(i);return a||(a=new fb({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){C(this,Gt).has(e.queryHash)||(C(this,Gt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=C(this,Gt).get(e.queryHash);r&&(e.destroy(),r===e&&C(this,Gt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ge.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return C(this,Gt).get(e)}getAll(){return[...C(this,Gt).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>km(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>km(e,n)):r}notify(e){Ge.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Ge.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ge.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Gt=new WeakMap,Sp),Xt,Qe,Rn,Yt,Nr,Ep,gb=(Ep=class extends a0{constructor(e){super();te(this,Yt);te(this,Xt);te(this,Qe);te(this,Rn);this.mutationId=e.mutationId,Q(this,Qe,e.mutationCache),Q(this,Xt,[]),this.state=e.state||yb(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){C(this,Xt).includes(e)||(C(this,Xt).push(e),this.clearGcTimeout(),C(this,Qe).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Q(this,Xt,C(this,Xt).filter(r=>r!==e)),this.scheduleGc(),C(this,Qe).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){C(this,Xt).length||(this.state.status==="pending"?this.scheduleGc():C(this,Qe).remove(this))}continue(){var e;return((e=C(this,Rn))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,l,c,d,f,h,p,w,v,b,g,m,y,x,k,S,P,R;const r=()=>{Fe(this,Yt,Nr).call(this,{type:"continue"})};Q(this,Rn,i0({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,E)=>{Fe(this,Yt,Nr).call(this,{type:"failed",failureCount:T,error:E})},onPause:()=>{Fe(this,Yt,Nr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Qe).canRun(this)}));const n=this.state.status==="pending",s=!C(this,Rn).canStart();try{if(n)r();else{Fe(this,Yt,Nr).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(i=C(this,Qe).config).onMutate)==null?void 0:a.call(i,e,this));const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));E!==this.state.context&&Fe(this,Yt,Nr).call(this,{type:"pending",context:E,variables:e,isPaused:s})}const T=await C(this,Rn).start();return await((d=(c=C(this,Qe).config).onSuccess)==null?void 0:d.call(c,T,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,T,e,this.state.context)),await((w=(p=C(this,Qe).config).onSettled)==null?void 0:w.call(p,T,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,T,null,e,this.state.context)),Fe(this,Yt,Nr).call(this,{type:"success",data:T}),T}catch(T){try{throw await((m=(g=C(this,Qe).config).onError)==null?void 0:m.call(g,T,e,this.state.context,this)),await((x=(y=this.options).onError)==null?void 0:x.call(y,T,e,this.state.context)),await((S=(k=C(this,Qe).config).onSettled)==null?void 0:S.call(k,void 0,T,this.state.variables,this.state.context,this)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,void 0,T,e,this.state.context)),T}finally{Fe(this,Yt,Nr).call(this,{type:"error",error:T})}}finally{C(this,Qe).runNext(this)}}},Xt=new WeakMap,Qe=new WeakMap,Rn=new WeakMap,Yt=new WeakSet,Nr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ge.batch(()=>{C(this,Xt).forEach(n=>{n.onMutationUpdate(e)}),C(this,Qe).notify({mutation:this,type:"updated",action:e})})},Ep);function yb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hr,$t,ua,Cp,vb=(Cp=class extends Nl{constructor(e={}){super();te(this,hr);te(this,$t);te(this,ua);this.config=e,Q(this,hr,new Set),Q(this,$t,new Map),Q(this,ua,0)}build(e,r,n){const s=new gb({mutationCache:this,mutationId:++Ca(this,ua)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){C(this,hr).add(e);const r=qa(e);if(typeof r=="string"){const n=C(this,$t).get(r);n?n.push(e):C(this,$t).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(C(this,hr).delete(e)){const r=qa(e);if(typeof r=="string"){const n=C(this,$t).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&C(this,$t).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=qa(e);if(typeof r=="string"){const n=C(this,$t).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=qa(e);if(typeof r=="string"){const s=(n=C(this,$t).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ge.batch(()=>{C(this,hr).forEach(e=>{this.notify({type:"removed",mutation:e})}),C(this,hr).clear(),C(this,$t).clear()})}getAll(){return Array.from(C(this,hr))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Sm(r,n))}findAll(e={}){return this.getAll().filter(r=>Sm(e,r))}notify(e){Ge.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Ge.batch(()=>Promise.all(e.map(r=>r.continue().catch(Rt))))}},hr=new WeakMap,$t=new WeakMap,ua=new WeakMap,Cp);function qa(t){var e;return(e=t.options.scope)==null?void 0:e.id}function jm(t){return{onFetch:(e,r)=>{var d,f,h,p,w;const n=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],a=((w=e.state.data)==null?void 0:w.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const b=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},g=t0(e.options,e.fetchOptions),m=async(y,x,k)=>{if(v)return Promise.reject();if(x==null&&y.pages.length)return Promise.resolve(y);const S={client:e.client,queryKey:e.queryKey,pageParam:x,direction:k?"backward":"forward",meta:e.options.meta};b(S);const P=await g(S),{maxPages:R}=e.options,T=k?ib:sb;return{pages:T(y.pages,P,R),pageParams:T(y.pageParams,x,R)}};if(s&&i.length){const y=s==="backward",x=y?wb:Pm,k={pages:i,pageParams:a},S=x(n,k);o=await m(k,S,y)}else{const y=t??i.length;do{const x=l===0?a[0]??n.initialPageParam:Pm(n,o);if(l>0&&x==null)break;o=await m(o,x),l++}while(l<y)}return o};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function Pm(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function wb(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var we,Br,Wr,Ns,As,qr,Rs,Os,jp,_b=(jp=class{constructor(t={}){te(this,we);te(this,Br);te(this,Wr);te(this,Ns);te(this,As);te(this,qr);te(this,Rs);te(this,Os);Q(this,we,t.queryCache||new pb),Q(this,Br,t.mutationCache||new vb),Q(this,Wr,t.defaultOptions||{}),Q(this,Ns,new Map),Q(this,As,new Map),Q(this,qr,0)}mount(){Ca(this,qr)._++,C(this,qr)===1&&(Q(this,Rs,r0.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,we).onFocus())})),Q(this,Os,Zo.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,we).onOnline())})))}unmount(){var t,e;Ca(this,qr)._--,C(this,qr)===0&&((t=C(this,Rs))==null||t.call(this),Q(this,Rs,void 0),(e=C(this,Os))==null||e.call(this),Q(this,Os,void 0))}isFetching(t){return C(this,we).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return C(this,Br).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=C(this,we).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=C(this,we).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(bm(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return C(this,we).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=C(this,we).get(n.queryHash),i=s==null?void 0:s.state.data,a=Y1(e,i);if(a!==void 0)return C(this,we).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Ge.batch(()=>C(this,we).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=C(this,we).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=C(this,we);Ge.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=C(this,we);return Ge.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Ge.batch(()=>C(this,we).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Rt).catch(Rt)}invalidateQueries(t,e={}){return Ge.batch(()=>(C(this,we).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Ge.batch(()=>C(this,we).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Rt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Rt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=C(this,we).build(this,e);return r.isStaleByTime(bm(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rt).catch(Rt)}fetchInfiniteQuery(t){return t.behavior=jm(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rt).catch(Rt)}ensureInfiniteQueryData(t){return t.behavior=jm(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Zo.isOnline()?C(this,Br).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,we)}getMutationCache(){return C(this,Br)}getDefaultOptions(){return C(this,Wr)}setDefaultOptions(t){Q(this,Wr,t)}setQueryDefaults(t,e){C(this,Ns).set(na(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...C(this,Ns).values()],r={};return e.forEach(n=>{sa(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){C(this,As).set(na(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...C(this,As).values()],r={};return e.forEach(n=>{sa(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...C(this,Wr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hf(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===mf&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...C(this,Wr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){C(this,we).clear(),C(this,Br).clear()}},we=new WeakMap,Br=new WeakMap,Wr=new WeakMap,Ns=new WeakMap,As=new WeakMap,qr=new WeakMap,Rs=new WeakMap,Os=new WeakMap,jp),o0=_.createContext(void 0),dj=t=>{const e=_.useContext(o0);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},xb=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(o0.Provider,{value:t,children:e}));let bb={data:""},kb=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||bb,Sb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Eb=/\/\*[^]*?\*\/|  +/g,Tm=/\n+/g,Dr=(t,e)=>{let r="",n="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":n+=i[1]=="f"?Dr(a,i):i+"{"+Dr(a,i[1]=="k"?"":e)+"}":typeof a=="object"?n+=Dr(a,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Dr.p?Dr.p(i,a):i+":"+a+";")}return r+(e&&s?e+"{"+s+"}":s)+n},ar={},l0=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+l0(t[r]);return e}return t},Cb=(t,e,r,n,s)=>{let i=l0(t),a=ar[i]||(ar[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!ar[a]){let l=i!==t?t:(c=>{let d,f,h=[{}];for(;d=Sb.exec(c.replace(Eb,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Tm," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Tm," ").trim();return h[0]})(t);ar[a]=Dr(s?{["@keyframes "+a]:l}:l,r?"":"."+a)}let o=r&&ar.g?ar.g:null;return r&&(ar.g=ar[a]),((l,c,d,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(ar[a],e,n,o),a},jb=(t,e,r)=>t.reduce((n,s,i)=>{let a=e[i];if(a&&a.call){let o=a(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Dr(o,""):o===!1?"":o}return n+s+(a??"")},"");function Rl(t){let e=this||{},r=t.call?t(e.p):t;return Cb(r.unshift?r.raw?jb(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,kb(e.target),e.g,e.o,e.k)}let u0,qc,Vc;Rl.bind({g:1});let xr=Rl.bind({k:1});function Pb(t,e,r,n){Dr.p=e,u0=t,qc=r,Vc=n}function dn(t,e){let r=this||{};return function(){let n=arguments;function s(i,a){let o=Object.assign({},i),l=o.className||s.className;r.p=Object.assign({theme:qc&&qc()},o),r.o=/ *go\d+/.test(l),o.className=Rl.apply(r,n)+(l?" "+l:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),Vc&&c[0]&&Vc(o),u0(c,o)}return s}}var Tb=t=>typeof t=="function",el=(t,e)=>Tb(t)?t(e):t,Nb=(()=>{let t=0;return()=>(++t).toString()})(),c0=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Ab=20,d0=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Ab)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:r}=e;return d0(t,{type:t.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},vo=[],En={toasts:[],pausedAt:void 0},Bn=t=>{En=d0(En,t),vo.forEach(e=>{e(En)})},Rb={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ob=(t={})=>{let[e,r]=_.useState(En),n=_.useRef(En);_.useEffect(()=>(n.current!==En&&r(En),vo.push(r),()=>{let i=vo.indexOf(r);i>-1&&vo.splice(i,1)}),[]);let s=e.toasts.map(i=>{var a,o,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((a=t[i.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||Rb[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:s}},Ib=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Nb()}),ga=t=>(e,r)=>{let n=Ib(e,t,r);return Bn({type:2,toast:n}),n.id},xe=(t,e)=>ga("blank")(t,e);xe.error=ga("error");xe.success=ga("success");xe.loading=ga("loading");xe.custom=ga("custom");xe.dismiss=t=>{Bn({type:3,toastId:t})};xe.remove=t=>Bn({type:4,toastId:t});xe.promise=(t,e,r)=>{let n=xe.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?el(e.success,s):void 0;return i?xe.success(i,{id:n,...r,...r==null?void 0:r.success}):xe.dismiss(n),s}).catch(s=>{let i=e.error?el(e.error,s):void 0;i?xe.error(i,{id:n,...r,...r==null?void 0:r.error}):xe.dismiss(n)}),t};var $b=(t,e)=>{Bn({type:1,toast:{id:t,height:e}})},Lb=()=>{Bn({type:5,time:Date.now()})},Ri=new Map,Mb=1e3,Db=(t,e=Mb)=>{if(Ri.has(t))return;let r=setTimeout(()=>{Ri.delete(t),Bn({type:4,toastId:t})},e);Ri.set(t,r)},zb=t=>{let{toasts:e,pausedAt:r}=Ob(t);_.useEffect(()=>{if(r)return;let i=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(i-o.createdAt);if(l<0){o.visible&&xe.dismiss(o.id);return}return setTimeout(()=>xe.dismiss(o.id),l)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,r]);let n=_.useCallback(()=>{r&&Bn({type:6,time:Date.now()})},[r]),s=_.useCallback((i,a)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:c}=a||{},d=e.filter(p=>(p.position||c)===(i.position||c)&&p.height),f=d.findIndex(p=>p.id===i.id),h=d.filter((p,w)=>w<f&&p.visible).length;return d.filter(p=>p.visible).slice(...o?[h+1]:[0,h]).reduce((p,w)=>p+(w.height||0)+l,0)},[e]);return _.useEffect(()=>{e.forEach(i=>{if(i.dismissed)Db(i.id,i.removeDelay);else{let a=Ri.get(i.id);a&&(clearTimeout(a),Ri.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:$b,startPause:Lb,endPause:n,calculateOffset:s}}},Fb=xr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ub=xr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bb=xr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Wb=dn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Fb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ub} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Bb} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,qb=xr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Vb=dn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${qb} 1s linear infinite;
`,Hb=xr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Kb=xr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Qb=dn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Hb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Kb} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Jb=dn("div")`
  position: absolute;
`,Gb=dn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Xb=xr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Yb=dn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Xb} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Zb=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?_.createElement(Yb,null,e):e:r==="blank"?null:_.createElement(Gb,null,_.createElement(Vb,{...n}),r!=="loading"&&_.createElement(Jb,null,r==="error"?_.createElement(Wb,{...n}):_.createElement(Qb,{...n})))},ek=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tk=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,rk="0%{opacity:0;} 100%{opacity:1;}",nk="0%{opacity:1;} 100%{opacity:0;}",sk=dn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ik=dn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ak=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=c0()?[rk,nk]:[ek(r),tk(r)];return{animation:e?`${xr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ok=_.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?ak(t.position||e||"top-center",t.visible):{opacity:0},i=_.createElement(Zb,{toast:t}),a=_.createElement(ik,{...t.ariaProps},el(t.message,t));return _.createElement(sk,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:i,message:a}):_.createElement(_.Fragment,null,i,a))});Pb(_.createElement);var lk=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let i=_.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;n(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return _.createElement("div",{ref:i,className:e,style:r},s)},uk=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:c0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},ck=Rl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Va=16,dk=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:o,handlers:l}=zb(r);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Va,left:Va,right:Va,bottom:Va,pointerEvents:"none",...i},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(c=>{let d=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),h=uk(d,f);return _.createElement(lk,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?ck:"",style:h},c.type==="custom"?el(c.message,c):s?s(c):_.createElement(ok,{toast:c,position:d}))}))};const fk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ie(async()=>{const{default:n}=await Promise.resolve().then(()=>Gs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class pf extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class hk extends pf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mk extends pf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pk extends pf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Hc||(Hc={}));var gk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class yk{constructor(e,{headers:r={},customFetch:n,region:s=Hc.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=fk(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return gk(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:c}).catch(w=>{throw new hk(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new mk(d);if(!d.ok)throw new pk(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var nt={},gf={},Ol={},ya={},Il={},$l={},vk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bs=vk();const wk=Bs.fetch,f0=Bs.fetch.bind(Bs),h0=Bs.Headers,_k=Bs.Request,xk=Bs.Response,Gs=Object.freeze(Object.defineProperty({__proto__:null,Headers:h0,Request:_k,Response:xk,default:f0,fetch:wk},Symbol.toStringTag,{value:"Module"})),bk=yw(Gs);var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});let kk=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ll.default=kk;var m0=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($l,"__esModule",{value:!0});const Sk=m0(bk),Ek=m0(Ll);let Ck=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Sk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let c=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{c=JSON.parse(v),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,p="OK")}catch{i.status===404&&v===""?(h=204,p="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new Ek.default(c)}return{error:c,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};$l.default=Ck;var jk=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Il,"__esModule",{value:!0});const Pk=jk($l);let Tk=class extends Pk.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Il.default=Tk;var Nk=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ya,"__esModule",{value:!0});const Ak=Nk(Il);let Rk=class extends Ak.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};ya.default=Rk;var Ok=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ol,"__esModule",{value:!0});const di=Ok(ya);let Ik=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new di.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new di.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new di.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ol.default=Ik;var Ml={},Dl={};Object.defineProperty(Dl,"__esModule",{value:!0});Dl.version=void 0;Dl.version="0.0.0-automated";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.DEFAULT_HEADERS=void 0;const $k=Dl;Ml.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${$k.version}`};var p0=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gf,"__esModule",{value:!0});const Lk=p0(Ol),Mk=p0(ya),Dk=Ml;let zk=class g0{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Dk.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Lk.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new g0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(a="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Mk.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};gf.default=zk;var Xs=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nt,"__esModule",{value:!0});nt.PostgrestError=nt.PostgrestBuilder=nt.PostgrestTransformBuilder=nt.PostgrestFilterBuilder=nt.PostgrestQueryBuilder=nt.PostgrestClient=void 0;const y0=Xs(gf);nt.PostgrestClient=y0.default;const v0=Xs(Ol);nt.PostgrestQueryBuilder=v0.default;const w0=Xs(ya);nt.PostgrestFilterBuilder=w0.default;const _0=Xs(Il);nt.PostgrestTransformBuilder=_0.default;const x0=Xs($l);nt.PostgrestBuilder=x0.default;const b0=Xs(Ll);nt.PostgrestError=b0.default;var Fk=nt.default={PostgrestClient:y0.default,PostgrestQueryBuilder:v0.default,PostgrestFilterBuilder:w0.default,PostgrestTransformBuilder:_0.default,PostgrestBuilder:x0.default,PostgrestError:b0.default};const{PostgrestClient:Uk,PostgrestQueryBuilder:yj,PostgrestFilterBuilder:vj,PostgrestTransformBuilder:wj,PostgrestBuilder:_j,PostgrestError:xj}=Fk,Bk="2.11.2",Wk={"X-Client-Info":`realtime-js/${Bk}`},qk="1.0.0",k0=1e4,Vk=1e3;var xs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xs||(xs={}));var dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dt||(dt={}));var Mt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Mt||(Mt={}));var Kc;(function(t){t.websocket="websocket"})(Kc||(Kc={}));var _n;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(_n||(_n={}));class Hk{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class S0{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oe||(oe={}));const Nm=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=Kk(a,t,e,s),i),{})},Kk=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?E0(i,a):Qc(a)},E0=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Xk(e,r)}switch(t){case oe.bool:return Qk(e);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return Jk(e);case oe.json:case oe.jsonb:return Gk(e);case oe.timestamp:return Yk(e);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return Qc(e);default:return Qc(e)}},Qc=t=>t,Qk=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Jk=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Gk=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Xk=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>E0(e,o))}return t},Yk=t=>typeof t=="string"?t.replace(" ","T"):t,C0=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Pu{constructor(e,r,n={},s=k0){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Am;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Am||(Am={}));class Oi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oi.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Oi.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Oi.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(i,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const h=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),w=d.filter(b=>p.indexOf(b.presence_ref)<0),v=f.filter(b=>h.indexOf(b.presence_ref)<0);w.length>0&&(o[c]=w),v.length>0&&(l[c]=v)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}n(o,d,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=c,s(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Rm||(Rm={}));var Om;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Om||(Om={}));var dr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(dr||(dr={}));class yf{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Pu(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new S0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Oi(this),this.broadcastEndpointURL=C0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>e==null?void 0:e(dr.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(dr.CLOSED));const l={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(dr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let v=0;v<p;v++){const b=h[v],{filter:{event:g,schema:m,table:y,filter:x}}=b,k=d&&d[v];if(k&&k.event===g&&k.schema===m&&k.table===y&&k.filter===x)w.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),e==null||e(dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(dr.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Pu(this,Mt.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Pu(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=Mt;if(n&&[o,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,v,b;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(v=p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(p=>p.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var w,v,b,g,m,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const x=p.id,k=(w=p.filter)===null||w===void 0?void 0:w.event;return x&&((v=r.ids)===null||v===void 0?void 0:v.includes(x))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const x=(m=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:v,table:b,commit_timestamp:g,type:m,errors:y}=w;h=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:g,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(w))}p.callback(h,n)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&yf.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Mt.close,{},e)}_onError(e){this._on(Mt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Nm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Nm(e.columns,e.old_record)),r}}const Zk=()=>{},eS=typeof WebSocket<"u",tS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rS{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Wk,this.params={},this.timeout=k0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Zk,this.conn=null,this.sendBuffer=[],this.serializer=new Hk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>ie(async()=>{const{default:l}=await Promise.resolve().then(()=>Gs);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${Kc.websocket}`,this.httpEndpoint=C0(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new S0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(eS){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new nS(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ie(async()=>{const{default:e}=await import("./browser-BesweHow.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qk}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xs.connecting:return _n.Connecting;case xs.open:return _n.Open;case xs.closing:return _n.Closing;default:return _n.Closed}}isConnected(){return this.connectionState()===_n.Open}channel(e,r={config:{}}){const n=new yf(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Mt.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Vk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Mt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([tS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class nS{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=xs.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class vf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class sS extends vf{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Jc extends vf{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var iS=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const j0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ie(async()=>{const{default:n}=await Promise.resolve().then(()=>Gs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},aS=()=>iS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ie(()=>Promise.resolve().then(()=>Gs),void 0)).Response:Response}),Gc=t=>{if(Array.isArray(t))return t.map(r=>Gc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Gc(n)}),e};var Wn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const Tu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oS=(t,e,r)=>Wn(void 0,void 0,void 0,function*(){const n=yield aS();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new sS(Tu(s),t.status||500))}).catch(s=>{e(new Jc(Tu(s),s))}):e(new Jc(Tu(t),t))}),lS=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function va(t,e,r,n,s,i){return Wn(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,lS(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>oS(l,o,n))})})}function tl(t,e,r,n){return Wn(this,void 0,void 0,function*(){return va(t,"GET",e,r,n)})}function $r(t,e,r,n,s){return Wn(this,void 0,void 0,function*(){return va(t,"POST",e,n,s,r)})}function uS(t,e,r,n,s){return Wn(this,void 0,void 0,function*(){return va(t,"PUT",e,n,s,r)})}function cS(t,e,r,n){return Wn(this,void 0,void 0,function*(){return va(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function P0(t,e,r,n,s){return Wn(this,void 0,void 0,function*(){return va(t,"DELETE",e,n,s,r)})}var et=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const dS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Im={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fS{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=j0(s)}uploadOrUpdate(e,r,n,s){return et(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Im),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}upload(e,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return et(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Im.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return et(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield $r(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new vf("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}update(e,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return et(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}copy(e,r,n){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield $r(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return et(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield $r(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return et(this,void 0,void 0,function*(){try{const s=yield $r(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}download(e,r){return et(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield tl(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ae(o))return{data:null,error:o};throw o}})}info(e){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield tl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Gc(n),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}exists(e){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield cS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ae(n)&&n instanceof Jc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return et(this,void 0,void 0,function*(){try{return{data:yield P0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}list(e,r,n){return et(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},dS),r),{prefix:e||""});return{data:yield $r(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const hS="2.7.1",mS={"X-Client-Info":`storage-js/${hS}`};var Hn=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class pS{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},mS),r),this.fetch=j0(n)}listBuckets(){return Hn(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ae(e))return{data:null,error:e};throw e}})}getBucket(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Hn(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Hn(this,void 0,void 0,function*(){try{return{data:yield uS(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield $r(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield P0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}}class gS extends pS{constructor(e,r={},n){super(e,r,n)}from(e){return new fS(this.url,this.headers,e,this.fetch)}}const yS="2.49.4";let gi="";typeof Deno<"u"?gi="deno":typeof document<"u"?gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gi="react-native":gi="node";const vS={"X-Client-Info":`supabase-js-${gi}/${yS}`},wS={headers:vS},_S={schema:"public"},xS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bS={};var kS=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const SS=t=>{let e;return t?e=t:typeof fetch>"u"?e=f0:e=fetch,(...r)=>e(...r)},ES=()=>typeof Headers>"u"?h0:Headers,CS=(t,e,r)=>{const n=SS(r),s=ES();return(i,a)=>kS(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var jS=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};function PS(t){return t.replace(/\/$/,"")}function TS(t,e){const{db:r,auth:n,realtime:s,global:i}=t,{db:a,auth:o,realtime:l,global:c}=e,d={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>jS(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const T0="2.69.1",Zn=30*1e3,Xc=3,Nu=Xc*Zn,NS="http://localhost:9999",AS="supabase.auth.token",RS={"X-Client-Info":`gotrue-js/${T0}`},Yc="X-Supabase-Api-Version",N0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},OS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IS=6e5;class Cn extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function J(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $S extends Cn{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function LS(t){return J(t)&&t.name==="AuthApiError"}class A0 extends Cn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class fn extends Cn{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ar extends fn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function MS(t){return J(t)&&t.name==="AuthSessionMissingError"}class Au extends fn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ha extends fn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ka extends fn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DS(t){return J(t)&&t.name==="AuthImplicitGrantRedirectError"}class $m extends fn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zc extends fn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ru(t){return J(t)&&t.name==="AuthRetryableFetchError"}class Lm extends fn{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ii extends fn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dm=` 	
\r=`.split(""),zS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Dm.length;e+=1)t[Dm[e].charCodeAt(0)]=-2;for(let e=0;e<Mm.length;e+=1)t[Mm[e].charCodeAt(0)]=e;return t})();function R0(t,e,r){const n=zS[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function zm(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{BS(a,n,r)};for(let a=0;a<t.length;a+=1)R0(t.charCodeAt(a),s,i);return e.join("")}function FS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function US(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}FS(n,e)}}function BS(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function WS(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)R0(t.charCodeAt(s),r,n);return new Uint8Array(e)}function qS(t){const e=[];return US(t,r=>e.push(r)),new Uint8Array(e)}function VS(t){return Math.round(Date.now()/1e3)+t}function HS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ht=()=>typeof window<"u"&&typeof document<"u",pn={tested:!1,writable:!1},$i=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pn.tested)return pn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),pn.tested=!0,pn.writable=!0}catch{pn.tested=!0,pn.writable=!1}return pn.writable};function KS(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const O0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ie(async()=>{const{default:n}=await Promise.resolve().then(()=>Gs);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},QS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",I0=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Qa=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ja=async(t,e)=>{await t.removeItem(e)};class zl{constructor(){this.promise=new zl.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}zl.promiseConstructor=Promise;function Ou(t){const e=t.split(".");if(e.length!==3)throw new Ii("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!OS.test(e[n]))throw new Ii("JWT not in base64url format");return{header:JSON.parse(zm(e[0])),payload:JSON.parse(zm(e[1])),signature:WS(e[2]),raw:{header:e[0],payload:e[1]}}}async function JS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function GS(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function XS(t){return("0"+t.toString(16)).substr(-2)}function YS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,XS).join("")}async function ZS(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function eE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await ZS(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kn(t,e,r=!1){const n=YS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await I0(t,`${e}-code-verifier`,s);const i=await eE(n);return[i,n===i?"plain":"s256"]}const tE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rE(t){const e=t.headers.get(Yc);if(!e||!e.match(tE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function nE(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var iE=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const wn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aE=[502,503,504];async function Fm(t){var e;if(!QS(t))throw new Zc(wn(t),0);if(aE.includes(t.status))throw new Zc(wn(t),t.status);let r;try{r=await t.json()}catch(i){throw new A0(wn(i),i)}let n;const s=rE(t);if(s&&s.getTime()>=N0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Lm(wn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ar}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Lm(wn(r),t.status,r.weak_password.reasons);throw new $S(wn(r),t.status||500,n)}const oE=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Y(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Yc]||(i[Yc]=N0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await lE(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function lE(t,e,r,n,s,i){const a=oE(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new Zc(wn(l),0)}if(o.ok||await Fm(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Fm(l)}}function Rr(t){var e;let r=null;fE(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=VS(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Um(t){const e=Rr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function uE(t){return{data:t,error:null}}function cE(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=iE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function dE(t){return t}function fE(t){return t.access_token&&t.refresh_token&&t.expires_in}var hE=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class mE{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=O0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zr})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=hE(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:cE,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(J(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zr})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:dE});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);c[`${b}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(J(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zr})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:zr})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:zr})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Y(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}}const pE={getItem:t=>$i()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{$i()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{$i()&&globalThis.localStorage.removeItem(t)}};function Bm(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function gE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qn={debug:!!(globalThis&&$i()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yE extends $0{}async function vE(t,e,r){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Qn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}gE();const wE={url:NS,storageKey:AS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wm(t,e,r){return await r()}class ia{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ia.nextInstanceID,ia.nextInstanceID+=1,this.instanceID>0&&Ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wE),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new mE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=O0(s.fetch),this.lock=s.lock||Wm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ht()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=vE:this.lock=Wm,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:$i()?this.storage=pE:(this.memoryStorage={},this.storage=Bm(this.memoryStorage)):(this.memoryStorage={},this.storage=Bm(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${T0}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=KS(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ht()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),DS(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return J(r)?{error:r}:{error:new A0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Rr}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Kn(this.storage,this.storageKey)),i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:w},xform:Rr})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Rr})}else throw new Ha("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Um})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Um})}else throw new Ha("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Au}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Qa(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Rr});if(await Ja(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Au}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(J(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Rr}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Au}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Kn(this.storage,this.storageKey));const{error:f}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ha("You must provide either an email or phone number.")}catch(o){if(J(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Rr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Kn(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:uE})}catch(i){if(J(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ar;const{error:s}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(J(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Ha("You must provide either an email or phone number and a type")}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Nu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ar}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:zr})})}catch(r){if(J(r))return MS(r)&&(await this._removeSession(),await Ja(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ar;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Kn(this.storage,this.storageKey));const{data:c,error:d}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:zr});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ar;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Ou(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(J(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ar;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ht())throw new Ka("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ka(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $m("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ka("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $m("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!a||!c)throw new Ka("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Zn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(J(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Qa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(LS(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Ja(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=HS(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Kn(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(J(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ht()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(J(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await GS(async s=>(s>0&&await JS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Ru(i)&&Date.now()+a-n<Zn})}catch(n){if(this._debug(r,"error",n),J(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ht()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Qa(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Nu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Nu}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ru(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zl;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Ar;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),J(i)){const a={session:null,error:i};return Ru(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await I0(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ja(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Zn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Zn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Zn}ms, refresh threshold is ${Xc} ticks`),s<=Xc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Kn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Y(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ou(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n||(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+IS>Date.now()))return n;const{data:s,error:i}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ii("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===e),!n)throw new Ii("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};n=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Ou(n);if(nE(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const c=sE(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,a,qS(`${o}.${l}`)))throw new Ii("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}}ia.nextInstanceID=0;const _E=ia;class xE extends _E{constructor(e){super(e)}}var bE=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class kE{constructor(e,r,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=PS(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:_S,realtime:bS,auth:Object.assign(Object.assign({},xS),{storageKey:l}),global:wS},d=TS(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=CS(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Uk(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new yk(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gS(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return bE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xE({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new rS(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const SE=(t,e,r)=>new kE(t,e,r),EE="https://eszussdmhomiimnrswiu.supabase.co",CE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVzenVzc2RtaG9taWltbnJzd2l1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDczMjc4NTIsImV4cCI6MjA2MjkwMzg1Mn0.3feUqkbWyYvUIZA6LOu89v3dl4542Scbi0rE02ZvoJ0",F=SE(EE,CE,{auth:{persistSession:!0,autoRefreshToken:!0}}),bj={async getCampaigns(){const{data:t,error:e}=await F.from("marketing_campaigns").select("*, events(title)").order("date",{ascending:!1});if(e)throw e;return t},async getCampaignById(t){const{data:e,error:r}=await F.from("marketing_campaigns").select("*, events(title)").eq("id",t).single();if(r)throw r;return e},async createCampaign(t){const{data:e,error:r}=await F.from("marketing_campaigns").insert([{title:t.title,description:t.description,date:t.date,platforms:t.platforms,status:t.status,event_id:t.eventId,content:t.content,performance:t.performance}]).select().single();if(r)throw r;return e},async updateCampaign(t,e){const{data:r,error:n}=await F.from("marketing_campaigns").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r},async deleteCampaign(t){const{error:e}=await F.from("marketing_campaigns").delete().eq("id",t);if(e)throw e;return!0}},kj={async getTickets(t){let e=F.from("tickets").select("*, events(title)").order("purchase_date",{ascending:!1});t&&(e=e.eq("event_id",t));const{data:r,error:n}=await e;if(n)throw n;return r},async getTicketById(t){const{data:e,error:r}=await F.from("tickets").select("*, events(title)").eq("id",t).single();if(r)throw r;return e},async createTicket(t){const{data:e,error:r}=await F.from("tickets").insert([{event_id:t.eventId,purchase_date:t.purchaseDate||new Date().toISOString(),purchaser_name:t.purchaserName,purchaser_email:t.purchaserEmail,price:t.price,type:t.type||"general",status:t.status||"valid"}]).select().single();if(r)throw r;return e},async updateTicket(t,e){const{data:r,error:n}=await F.from("tickets").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r},async scanTicket(t){const{data:e,error:r}=await F.from("tickets").update({status:"used",scanned_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",t).select().single();if(r)throw r;return e},async deleteTicket(t){const{error:e}=await F.from("tickets").delete().eq("id",t);if(e)throw e;return!0}},Sj={async getTasks(){const{data:t,error:e}=await F.from("tasks").select("*").order("position",{ascending:!0});if(e)throw e;return t},async getTaskById(t){const{data:e,error:r}=await F.from("tasks").select("*").eq("id",t).single();if(r)throw r;return e},async createTask(t){const{data:e,error:r}=await F.from("tasks").select("position").eq("status",t.status).order("position",{ascending:!1}).limit(1),n=e&&e.length>0?e[0].position+1:0,{data:s,error:i}=await F.from("tasks").insert([{title:t.title,description:t.description,status:t.status||"todo",priority:t.priority||"medium",due_date:t.dueDate,assigned_to:t.assignedTo,tags:t.tags||[],related_entity_id:t.relatedEntityId,related_entity_type:t.relatedEntityType,position:n}]).select().single();if(i)throw i;return s},async updateTask(t,e){const r={};e.title!==void 0&&(r.title=e.title),e.description!==void 0&&(r.description=e.description),e.status!==void 0&&(r.status=e.status),e.priority!==void 0&&(r.priority=e.priority),e.dueDate!==void 0&&(r.due_date=e.dueDate),e.assignedTo!==void 0&&(r.assigned_to=e.assignedTo),e.tags!==void 0&&(r.tags=e.tags),e.position!==void 0&&(r.position=e.position),e.relatedEntityId!==void 0&&(r.related_entity_id=e.relatedEntityId),e.relatedEntityType!==void 0&&(r.related_entity_type=e.relatedEntityType),r.updated_at=new Date().toISOString();const{data:n,error:s}=await F.from("tasks").update(r).eq("id",t).select().single();if(s)throw s;return n},async deleteTask(t){const{error:e}=await F.from("tasks").delete().eq("id",t);if(e)throw e;return!0},async reorderTasks(t){const e=t.map(n=>({id:n.id,position:n.position,updated_at:new Date().toISOString()})),{error:r}=await F.from("tasks").upsert(e);if(r)throw r;return!0},async moveTask(t,e,r){const{data:n,error:s}=await F.from("tasks").update({status:e,position:r,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return n}},Ej={async getCustomers(){const{data:t,error:e}=await F.from("customers").select("*").order("last_name",{ascending:!0});if(e)throw e;return t.map(r=>({id:r.id,firstName:r.first_name,lastName:r.last_name,email:r.email,phone:r.phone,address:r.address,city:r.city,state:r.state,zip:r.zip,notes:r.notes,birthday:r.birthday,customerSince:r.customer_since,lastVisit:r.last_visit,tags:r.tags||[],marketingPreferences:{emailPromotions:r.marketing_preferences.email_promotions,smsNotifications:r.marketing_preferences.sms_notifications,newsletter:r.marketing_preferences.newsletter,specialEvents:r.marketing_preferences.special_events,unsubscribed:r.marketing_preferences.unsubscribed},createdAt:r.created_at,updatedAt:r.updated_at}))},async getCustomerById(t){const{data:e,error:r}=await F.from("customers").select("*").eq("id",t).single();if(r)throw r;return{id:e.id,firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone,address:e.address,city:e.city,state:e.state,zip:e.zip,notes:e.notes,birthday:e.birthday,customerSince:e.customer_since,lastVisit:e.last_visit,tags:e.tags||[],marketingPreferences:{emailPromotions:e.marketing_preferences.email_promotions,smsNotifications:e.marketing_preferences.sms_notifications,newsletter:e.marketing_preferences.newsletter,specialEvents:e.marketing_preferences.special_events,unsubscribed:e.marketing_preferences.unsubscribed},createdAt:e.created_at,updatedAt:e.updated_at}},async createCustomer(t){var n,s,i,a,o;const{data:e,error:r}=await F.from("customers").insert([{first_name:t.firstName,last_name:t.lastName,email:t.email,phone:t.phone,address:t.address,city:t.city,state:t.state,zip:t.zip,notes:t.notes,birthday:t.birthday,customer_since:t.customerSince||new Date().toISOString().split("T")[0],last_visit:t.lastVisit,tags:t.tags||[],marketing_preferences:{email_promotions:((n=t.marketingPreferences)==null?void 0:n.emailPromotions)??!0,sms_notifications:((s=t.marketingPreferences)==null?void 0:s.smsNotifications)??!1,newsletter:((i=t.marketingPreferences)==null?void 0:i.newsletter)??!0,special_events:((a=t.marketingPreferences)==null?void 0:a.specialEvents)??!0,unsubscribed:((o=t.marketingPreferences)==null?void 0:o.unsubscribed)??!1}}]).select().single();if(r)throw r;return{id:e.id,firstName:e.first_name,lastName:e.last_name,email:e.email,phone:e.phone,address:e.address,city:e.city,state:e.state,zip:e.zip,notes:e.notes,birthday:e.birthday,customerSince:e.customer_since,lastVisit:e.last_visit,tags:e.tags||[],marketingPreferences:{emailPromotions:e.marketing_preferences.email_promotions,smsNotifications:e.marketing_preferences.sms_notifications,newsletter:e.marketing_preferences.newsletter,specialEvents:e.marketing_preferences.special_events,unsubscribed:e.marketing_preferences.unsubscribed},createdAt:e.created_at,updatedAt:e.updated_at}},async updateCustomer(t,e){const r={};if(e.firstName!==void 0&&(r.first_name=e.firstName),e.lastName!==void 0&&(r.last_name=e.lastName),e.email!==void 0&&(r.email=e.email),e.phone!==void 0&&(r.phone=e.phone),e.address!==void 0&&(r.address=e.address),e.city!==void 0&&(r.city=e.city),e.state!==void 0&&(r.state=e.state),e.zip!==void 0&&(r.zip=e.zip),e.notes!==void 0&&(r.notes=e.notes),e.birthday!==void 0&&(r.birthday=e.birthday),e.customerSince!==void 0&&(r.customer_since=e.customerSince),e.lastVisit!==void 0&&(r.last_visit=e.lastVisit),e.tags!==void 0&&(r.tags=e.tags),e.marketingPreferences){const i={};e.marketingPreferences.emailPromotions!==void 0&&(i.email_promotions=e.marketingPreferences.emailPromotions),e.marketingPreferences.smsNotifications!==void 0&&(i.sms_notifications=e.marketingPreferences.smsNotifications),e.marketingPreferences.newsletter!==void 0&&(i.newsletter=e.marketingPreferences.newsletter),e.marketingPreferences.specialEvents!==void 0&&(i.special_events=e.marketingPreferences.specialEvents),e.marketingPreferences.unsubscribed!==void 0&&(i.unsubscribed=e.marketingPreferences.unsubscribed);const{data:a}=await F.from("customers").select("marketing_preferences").eq("id",t).single();a&&(r.marketing_preferences={...a.marketing_preferences,...i})}r.updated_at=new Date().toISOString();const{data:n,error:s}=await F.from("customers").update(r).eq("id",t).select().single();if(s)throw s;return{id:n.id,firstName:n.first_name,lastName:n.last_name,email:n.email,phone:n.phone,address:n.address,city:n.city,state:n.state,zip:n.zip,notes:n.notes,birthday:n.birthday,customerSince:n.customer_since,lastVisit:n.last_visit,tags:n.tags||[],marketingPreferences:{emailPromotions:n.marketing_preferences.email_promotions,smsNotifications:n.marketing_preferences.sms_notifications,newsletter:n.marketing_preferences.newsletter,specialEvents:n.marketing_preferences.special_events,unsubscribed:n.marketing_preferences.unsubscribed},createdAt:n.created_at,updatedAt:n.updated_at}},async deleteCustomer(t){const{error:e}=await F.from("customers").delete().eq("id",t);if(e)throw e;return!0},async getCustomerInteractions(t){let e=F.from("customer_interactions").select("*").order("date",{ascending:!1});t&&(e=e.eq("customer_id",t));const{data:r,error:n}=await e;if(n)throw n;return r.map(s=>({id:s.id,customerId:s.customer_id,type:s.type,date:s.date,description:s.description,staffMember:s.staff_member,relatedEntityId:s.related_entity_id,relatedEntityType:s.related_entity_type,createdAt:s.created_at,updatedAt:s.updated_at}))},async createInteraction(t){const{data:e,error:r}=await F.from("customer_interactions").insert([{customer_id:t.customerId,type:t.type,date:t.date||new Date().toISOString(),description:t.description,staff_member:t.staffMember,related_entity_id:t.relatedEntityId,related_entity_type:t.relatedEntityType}]).select().single();if(r)throw r;return{id:e.id,customerId:e.customer_id,type:e.type,date:e.date,description:e.description,staffMember:e.staff_member,relatedEntityId:e.related_entity_id,relatedEntityType:e.related_entity_type,createdAt:e.created_at,updatedAt:e.updated_at}},async deleteInteraction(t){const{error:e}=await F.from("customer_interactions").delete().eq("id",t);if(e)throw e;return!0}},Cj={async getEventReviews(t){let e=F.from("event_reviews").select("*, events(title), customers(first_name, last_name)").order("review_date",{ascending:!1});t&&(e=e.eq("event_id",t));const{data:r,error:n}=await e;if(n)throw n;return r.map(s=>{var i,a,o;return{id:s.id,eventId:s.event_id,eventTitle:(i=s.events)==null?void 0:i.title,customerId:s.customer_id,customerName:s.customer_id?`${(a=s.customers)==null?void 0:a.first_name} ${(o=s.customers)==null?void 0:o.last_name}`:null,rating:s.rating,reviewText:s.review_text,attendanceConfirmed:s.attendance_confirmed,reviewDate:s.review_date,sentiment:s.sentiment,tags:s.tags||[],createdAt:s.created_at,updatedAt:s.updated_at}})},async getReviewById(t){var n,s,i;const{data:e,error:r}=await F.from("event_reviews").select("*, events(title), customers(first_name, last_name), feedback_responses(*, feedback_questions(*))").eq("id",t).single();if(r)throw r;return{id:e.id,eventId:e.event_id,eventTitle:(n=e.events)==null?void 0:n.title,customerId:e.customer_id,customerName:e.customer_id?`${(s=e.customers)==null?void 0:s.first_name} ${(i=e.customers)==null?void 0:i.last_name}`:null,rating:e.rating,reviewText:e.review_text,attendanceConfirmed:e.attendance_confirmed,reviewDate:e.review_date,sentiment:e.sentiment,tags:e.tags||[],responses:e.feedback_responses,createdAt:e.created_at,updatedAt:e.updated_at}},async createEventReview(t,e){const{data:r,error:n}=await F.from("event_reviews").insert([{event_id:t.eventId,customer_id:t.customerId,rating:t.rating,review_text:t.reviewText,attendance_confirmed:t.attendanceConfirmed,review_date:t.reviewDate||new Date().toISOString(),sentiment:t.sentiment,tags:t.tags||[]}]).select().single();if(n)throw n;if(e&&e.length>0&&r){const s=e.map(a=>({review_id:r.id,question_id:a.questionId,response_text:a.responseText,response_rating:a.responseRating,response_option:a.responseOption})),{error:i}=await F.from("feedback_responses").insert(s);if(i)throw i}return r},async updateEventReview(t,e){const r={};e.eventId!==void 0&&(r.event_id=e.eventId),e.customerId!==void 0&&(r.customer_id=e.customerId),e.rating!==void 0&&(r.rating=e.rating),e.reviewText!==void 0&&(r.review_text=e.reviewText),e.attendanceConfirmed!==void 0&&(r.attendance_confirmed=e.attendanceConfirmed),e.reviewDate!==void 0&&(r.review_date=e.reviewDate),e.sentiment!==void 0&&(r.sentiment=e.sentiment),e.tags!==void 0&&(r.tags=e.tags),r.updated_at=new Date().toISOString();const{data:n,error:s}=await F.from("event_reviews").update(r).eq("id",t).select().single();if(s)throw s;return n},async deleteEventReview(t){const{error:e}=await F.from("event_reviews").delete().eq("id",t);if(e)throw e;return!0},async getFeedbackQuestions(){const{data:t,error:e}=await F.from("feedback_questions").select("*").order("display_order",{ascending:!0});if(e)throw e;return t.map(r=>({id:r.id,questionText:r.question_text,questionType:r.question_type,options:r.options||[],isRequired:r.is_required,active:r.active,displayOrder:r.display_order,createdAt:r.created_at,updatedAt:r.updated_at}))},async createFeedbackQuestion(t){const{data:e,error:r}=await F.from("feedback_questions").insert([{question_text:t.questionText,question_type:t.questionType,options:t.options,is_required:t.isRequired,active:t.active,display_order:t.displayOrder}]).select().single();if(r)throw r;return{id:e.id,questionText:e.question_text,questionType:e.question_type,options:e.options||[],isRequired:e.is_required,active:e.active,displayOrder:e.display_order,createdAt:e.created_at,updatedAt:e.updated_at}}},jE={super_admin:["*"],admin:["events.create","events.read","events.update","events.delete","artists.create","artists.read","artists.update","artists.delete","finances.create","finances.read","finances.update","finances.delete","customers.create","customers.read","customers.update","customers.delete","inventory.create","inventory.read","inventory.update","inventory.delete","marketing.create","marketing.read","marketing.update","marketing.delete","settings.read","settings.update","reports.read","analytics.read","security.read","security.update","audit.read"],manager:["events.create","events.read","events.update","artists.create","artists.read","artists.update","finances.read","finances.update","customers.create","customers.read","customers.update","inventory.create","inventory.read","inventory.update","marketing.create","marketing.read","marketing.update","reports.read","analytics.read","security.read"],staff:["events.read","events.update","artists.read","customers.create","customers.read","customers.update","inventory.read","inventory.update","marketing.read","reports.read"],viewer:["events.read","artists.read","customers.read","inventory.read","marketing.read","reports.read"]},L0=_.createContext(void 0),wa=()=>{const t=_.useContext(L0);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},PE=({children:t})=>{const[e,r]=_.useState(null),[n,s]=_.useState(null),[i,a]=_.useState(null),[o,l]=_.useState(!0),[c,d]=_.useState([]),[f,h]=_.useState([]),[p,w]=_.useState([]),[v,b]=_.useState([]),[g,m]=_.useState(null),[y,x]=_.useState(new Date);_.useEffect(()=>{E();const j=()=>{x(new Date),S()};document.addEventListener("mousedown",j),document.addEventListener("keydown",j),document.addEventListener("scroll",j);const{data:{subscription:D}}=F.auth.onAuthStateChange(async(L,G)=>{var Ke;if(console.log("Auth state changed:",L,(Ke=G==null?void 0:G.user)==null?void 0:Ke.email),a(G),r((G==null?void 0:G.user)??null),G!=null&&G.user)try{await A(G.user.id),await T("login","User signed in successfully","low"),k()}catch(Er){console.error("Failed to fetch user profile:",Er),s({id:G.user.id,email:G.user.email||"",role:"admin",created_at:G.user.created_at||new Date().toISOString(),updated_at:new Date().toISOString(),is_active:!0})}else s(null),P();l(!1)});return()=>{D.unsubscribe(),document.removeEventListener("mousedown",j),document.removeEventListener("keydown",j),document.removeEventListener("scroll",j),P()}},[]);const k=()=>{var L;if(!((L=n==null?void 0:n.security_settings)!=null&&L.sessionTimeout))return;const j=n.security_settings.sessionTimeout*60*1e3,D=setTimeout(async()=>{await T("session_timeout","Session expired due to inactivity","medium"),xe.error("Your session has expired due to inactivity"),await ke()},j);m(D)},S=()=>{g&&(clearTimeout(g),k())},P=()=>{g&&(clearTimeout(g),m(null))},R=()=>{const j=navigator.userAgent,D=()=>/Mobile|Android|iPhone|iPad/.test(j)?/iPad/.test(j)?"tablet":"mobile":"desktop",L=()=>j.includes("Chrome")?"Chrome":j.includes("Firefox")?"Firefox":j.includes("Safari")?"Safari":j.includes("Edge")?"Edge":"Unknown",G=()=>j.includes("Windows")?"Windows":j.includes("Mac")?"macOS":j.includes("Linux")?"Linux":j.includes("Android")?"Android":j.includes("iOS")?"iOS":"Unknown";return{deviceName:`${L()} on ${G()}`,deviceType:D(),browser:L(),os:G(),ipAddress:"Unknown",isCurrentDevice:!0,isTrusted:!1}},T=async(j,D,L="low")=>{const G={id:Date.now().toString(),userId:(e==null?void 0:e.id)||"anonymous",action:j,details:D,ipAddress:"Unknown",userAgent:navigator.userAgent,timestamp:new Date().toISOString(),riskLevel:L,location:{country:"Unknown",city:"Unknown"}};h(Ke=>[G,...Ke.slice(0,99)]),console.log("Audit Event:",G)},E=async()=>{try{const{data:{session:j},error:D}=await F.auth.getSession();if(D){console.error("Error getting session:",D);return}a(j),r((j==null?void 0:j.user)??null),j!=null&&j.user&&await A(j.user.id)}catch(j){console.error("Error in getInitialSession:",j)}finally{l(!1)}},A=async j=>{try{const{data:D,error:L}=await F.from("user_profiles").select("*").eq("id",j).single();if(L){if(L.code==="PGRST116"){await $(j);return}console.error("Database error fetching profile:",L);const{data:G}=await F.auth.getUser();G.user&&s({id:G.user.id,email:G.user.email||"",role:"admin",created_at:G.user.created_at||new Date().toISOString(),updated_at:new Date().toISOString(),is_active:!0});return}s(D)}catch(D){console.error("Error fetching user profile:",D);const{data:L}=await F.auth.getUser();L.user&&s({id:L.user.id,email:L.user.email||"",role:"admin",created_at:L.user.created_at||new Date().toISOString(),updated_at:new Date().toISOString(),is_active:!0})}},$=async j=>{var D,L,G;try{const{data:Ke}=await F.auth.getUser(),Er={id:j,email:((D=Ke.user)==null?void 0:D.email)||"",full_name:((G=(L=Ke.user)==null?void 0:L.user_metadata)==null?void 0:G.full_name)||null,role:"admin",is_active:!0},{data:ri,error:Yl}=await F.from("user_profiles").insert([Er]).select().single();if(Yl)throw Yl;s(ri)}catch(Ke){console.error("Error creating default profile:",Ke)}},O=async(j,D,L)=>{try{const{data:G,error:Ke}=await F.auth.signUp({email:j,password:D,options:{data:{full_name:(L==null?void 0:L.full_name)||"",role:(L==null?void 0:L.role)||"admin"}}});if(Ke)throw Ke;return G.user&&await M(G.user.id,{email:j,full_name:L==null?void 0:L.full_name,role:(L==null?void 0:L.role)||"admin"}),{data:G,error:null}}catch(G){return console.error("Sign up error:",G),{data:{user:null,session:null},error:G}}},M=async(j,D)=>{try{const{error:L}=await F.from("user_profiles").insert([{id:j,email:D.email,full_name:D.full_name||null,role:D.role,is_active:!0}]);if(L)throw L}catch(L){console.error("Error creating user profile:",L)}},Z=async(j,D,L)=>{var G,Ke;try{if(n&&nh())return{data:{user:null,session:null},error:new Cn("Account is locked due to too many failed attempts")};const{data:Er,error:ri}=await F.auth.signInWithPassword({email:j,password:D});return ri?(await T("failed_login",`Failed login attempt for ${j}: ${ri.message}`,"medium"),{data:{user:null,session:null},error:ri}):(G=n==null?void 0:n.two_factor_auth)!=null&&G.isEnabled&&!L?{data:{user:null,session:null},error:new Cn("Two-factor authentication code required")}:L&&((Ke=n==null?void 0:n.two_factor_auth)!=null&&Ke.secret)&&!await W(L,n.two_factor_auth.secret)?(await T("failed_login","Invalid 2FA code provided","high"),{data:{user:null,session:null},error:new Cn("Invalid two-factor authentication code")}):{data:Er,error:null}}catch(Er){return await T("failed_login",`Login error: ${Er}`,"high"),console.error("Login error:",Er),{data:{user:null,session:null},error:new Cn("An unexpected error occurred during sign in")}}},ke=async()=>{try{await T("logout","User signed out","low"),P();const{error:j}=await F.auth.signOut();if(j)throw j;return r(null),s(null),a(null),d([]),h([]),w([]),b([]),{error:null}}catch(j){return console.error("Sign out error:",j),{error:j}}},lt=async j=>{try{const{error:D}=await F.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/reset-password`});if(D)throw D;return await T("password_change",`Password reset requested for ${j}`,"low"),{error:null}}catch(D){return console.error("Reset password error:",D),await T("password_change",`Password reset failed for ${j}`,"medium"),{error:D}}},I=async j=>{if(!e)throw new Error("User not authenticated");try{const{error:D}=await F.from("user_profiles").update(j).eq("id",e.id);if(D)throw D;s(L=>L?{...L,...j}:null),await T("profile_update","Profile updated successfully","low")}catch(D){throw console.error("Update profile error:",D),await T("profile_update",`Profile update failed: ${D}`,"medium"),D}},U=async()=>{const j=Array.from({length:32},()=>"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"[Math.floor(Math.random()*32)]).join(""),D=`otpauth://totp/TrainStation:${e==null?void 0:e.email}?secret=${j}&issuer=TrainStation`,L=Array.from({length:10},()=>Math.random().toString(36).substring(2,8).toUpperCase());return await T("2fa_enabled","Two-factor authentication enabled","low"),{secret:j,qrCodeUrl:D,backupCodes:L}},W=async(j,D)=>{const L=/^\d{6}$/.test(j);return L?await T("login","2FA verification successful","low"):await T("failed_login","2FA verification failed","medium"),L},ae=async j=>(await T("2fa_disabled","Two-factor authentication disabled","medium"),!0),ye=async()=>{const j=Array.from({length:10},()=>Math.random().toString(36).substring(2,8).toUpperCase());return await T("2fa_enabled","New backup codes generated","low"),j},Sr=async()=>{const j=[{id:"1",userId:(e==null?void 0:e.id)||"",deviceId:"current-device",startTime:new Date(Date.now()-36e5).toISOString(),lastActivity:new Date().toISOString(),ipAddress:"192.168.1.100",isActive:!0,expiresAt:new Date(Date.now()+864e5).toISOString()}];return b(j),j},sr=async j=>{b(D=>D.filter(L=>L.id!==j)),await T("logout",`Session ${j} revoked`,"low")},ti=async()=>{b([]),await T("logout","All sessions revoked","medium"),xe.success("All other sessions have been revoked")},ir=async()=>{const j=R(),D=[{id:"current",userId:(e==null?void 0:e.id)||"",lastUsed:new Date().toISOString(),...j}];return w(D),D},qn=async j=>{w(D=>D.map(L=>L.id===j?{...L,isTrusted:!0}:L)),await T("profile_update",`Device ${j} marked as trusted`,"low")},ow=async j=>{w(D=>D.filter(L=>L.id!==j)),await T("profile_update",`Device ${j} removed`,"medium")},lw=async(j=50)=>f.slice(0,j),uw=async()=>{const j=[{id:"1",type:"new_device",message:"New device login detected",timestamp:new Date().toISOString(),resolved:!1,severity:"warning"}];return d(j),j},cw=async j=>{d(D=>D.map(L=>L.id===j?{...L,resolved:!0}:L)),await T("profile_update",`Security alert ${j} resolved`,"low")},dw=async(j,D)=>{try{const{error:L}=await F.auth.updateUser({password:D});return L?(await T("failed_login",`Password change failed: ${L.message}`,"medium"),!1):(await T("password_change","Password changed successfully","low"),!0)}catch(L){return await T("password_change",`Password change error: ${L}`,"medium"),!1}},fw=j=>{let D=0;const L=[];return j.length>=8?D+=1:L.push("Use at least 8 characters"),/[a-z]/.test(j)?D+=1:L.push("Include lowercase letters"),/[A-Z]/.test(j)?D+=1:L.push("Include uppercase letters"),/\d/.test(j)?D+=1:L.push("Include numbers"),/[^a-zA-Z\d]/.test(j)?D+=1:L.push("Include special characters"),{score:D,feedback:L}},hw=async j=>{await T("profile_update",`Account locked: ${j}`,"high")},mw=async()=>{await T("profile_update","Account unlocked","medium")},nh=()=>n!=null&&n.account_locked_until?new Date(n.account_locked_until)>new Date:!1,pw={user:e,userProfile:n,session:i,loading:o,securityAlerts:c,auditLogs:f,devices:p,sessions:v,signUp:O,signIn:Z,signOut:ke,resetPassword:lt,updateProfile:I,hasPermission:j=>{if(!n)return!1;const D=jE[n.role];return D.includes("*")?!0:D.some(L=>L===j)},hasRole:j=>(n==null?void 0:n.role)===j,isAdmin:()=>(n==null?void 0:n.role)==="super_admin"||(n==null?void 0:n.role)==="admin",refreshSession:async()=>{try{const{data:j,error:D}=await F.auth.refreshSession();if(D)throw D;a(j.session),r(j.user)}catch(j){throw console.error("Error refreshing session:",j),j}},enableTwoFactor:U,verifyTwoFactor:W,disableTwoFactor:ae,generateBackupCodes:ye,getActiveSessions:Sr,revokeSession:sr,revokeAllSessions:ti,getDevices:ir,trustDevice:qn,removeDevice:ow,getAuditLogs:lw,getSecurityAlerts:uw,resolveAlert:cw,changePassword:dw,checkPasswordStrength:fw,lockAccount:hw,unlockAccount:mw,isAccountLocked:nh,upgradeUserRole:async j=>{if(!(!e||!n))try{const{error:D}=await F.from("user_profiles").update({role:j}).eq("id",e.id);if(D)throw D;s(L=>L?{...L,role:j}:null),await T("profile_update",`Role upgraded to ${j}`,"medium"),xe.success(`Role upgraded to ${j}`)}catch(D){console.error("Error upgrading user role:",D),xe.error("Failed to upgrade user role")}}};return u.jsx(L0.Provider,{value:pw,children:t})},ed="RFC3986",td={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},TE="RFC1738",NE=Array.isArray,Vt=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Iu=1024,AE=(t,e,r,n,s)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),r==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<i.length;o+=Iu){const l=i.length>=Iu?i.slice(o,o+Iu):i,c=[];for(let d=0;d<l.length;++d){let f=l.charCodeAt(d);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===TE&&(f===40||f===41)){c[c.length]=l.charAt(d);continue}if(f<128){c[c.length]=Vt[f];continue}if(f<2048){c[c.length]=Vt[192|f>>6]+Vt[128|f&63];continue}if(f<55296||f>=57344){c[c.length]=Vt[224|f>>12]+Vt[128|f>>6&63]+Vt[128|f&63];continue}d+=1,f=65536+((f&1023)<<10|l.charCodeAt(d)&1023),c[c.length]=Vt[240|f>>18]+Vt[128|f>>12&63]+Vt[128|f>>6&63]+Vt[128|f&63]}a+=c.join("")}return a};function RE(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function qm(t,e){if(NE(t)){const r=[];for(let n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)}const OE=Object.prototype.hasOwnProperty,M0={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Qt=Array.isArray,IE=Array.prototype.push,D0=function(t,e){IE.apply(t,Qt(e)?e:[e])},$E=Date.prototype.toISOString,je={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:AE,encodeValuesOnly:!1,format:ed,formatter:td[ed],indices:!1,serializeDate(t){return $E.call(t)},skipNulls:!1,strictNullHandling:!1};function LE(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const $u={};function z0(t,e,r,n,s,i,a,o,l,c,d,f,h,p,w,v,b,g){let m=t,y=g,x=0,k=!1;for(;(y=y.get($u))!==void 0&&!k;){const E=y.get(t);if(x+=1,typeof E<"u"){if(E===x)throw new RangeError("Cyclic object value");k=!0}typeof y.get($u)>"u"&&(x=0)}if(typeof c=="function"?m=c(e,m):m instanceof Date?m=h==null?void 0:h(m):r==="comma"&&Qt(m)&&(m=qm(m,function(E){return E instanceof Date?h==null?void 0:h(E):E})),m===null){if(i)return l&&!v?l(e,je.encoder,b,"key",p):e;m=""}if(LE(m)||RE(m)){if(l){const E=v?e:l(e,je.encoder,b,"key",p);return[(w==null?void 0:w(E))+"="+(w==null?void 0:w(l(m,je.encoder,b,"value",p)))]}return[(w==null?void 0:w(e))+"="+(w==null?void 0:w(String(m)))]}const S=[];if(typeof m>"u")return S;let P;if(r==="comma"&&Qt(m))v&&l&&(m=qm(m,l)),P=[{value:m.length>0?m.join(",")||null:void 0}];else if(Qt(c))P=c;else{const E=Object.keys(m);P=d?E.sort(d):E}const R=o?String(e).replace(/\./g,"%2E"):String(e),T=n&&Qt(m)&&m.length===1?R+"[]":R;if(s&&Qt(m)&&m.length===0)return T+"[]";for(let E=0;E<P.length;++E){const A=P[E],$=typeof A=="object"&&typeof A.value<"u"?A.value:m[A];if(a&&$===null)continue;const O=f&&o?A.replace(/\./g,"%2E"):A,M=Qt(m)?typeof r=="function"?r(T,O):T:T+(f?"."+O:"["+O+"]");g.set(t,x);const Z=new WeakMap;Z.set($u,g),D0(S,z0($,M,r,n,s,i,a,o,r==="comma"&&v&&Qt(m)?null:l,c,d,f,h,p,w,v,b,Z))}return S}function ME(t=je){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||je.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=ed;if(typeof t.format<"u"){if(!OE.call(td,t.format))throw new TypeError("Unknown format option provided.");r=t.format}const n=td[r];let s=je.filter;(typeof t.filter=="function"||Qt(t.filter))&&(s=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in M0?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=je.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:je.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:je.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:je.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:je.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?je.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:je.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:je.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:je.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:je.encodeValuesOnly,filter:s,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:je.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:je.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:je.strictNullHandling}}function DE(t,e={}){let r=t;const n=ME(e);let s,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):Qt(n.filter)&&(i=n.filter,s=i);const a=[];if(typeof r!="object"||r===null)return"";const o=M0[n.arrayFormat],l=o==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);const c=new WeakMap;for(let h=0;h<s.length;++h){const p=s[h];n.skipNulls&&r[p]===null||D0(a,z0(r[p],p,o,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}const d=a.join(n.delimiter);let f=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),d.length>0?f+d:""}const es="4.98.0";let Vm=!1,Li,F0,U0,rd,B0,W0,q0,V0,H0;function zE(t,e={auto:!1}){if(Vm)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Li)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Li}'\``);Vm=e.auto,Li=t.kind,F0=t.fetch,U0=t.FormData,rd=t.File,B0=t.ReadableStream,W0=t.getMultipartRequestOptions,q0=t.getDefaultAgent,V0=t.fileFromPath,H0=t.isFsReadStream}class FE{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function UE({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let r,n,s,i;try{r=fetch,n=Request,s=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:r,Request:n,Response:s,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new FE(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}const K0=()=>{Li||zE(UE(),{auto:!0})};K0();class q extends Error{}class De extends q{constructor(e,r,n,s){super(`${De.makeMessage(e,r,n)}`),this.status=e,this.headers=s,this.request_id=s==null?void 0:s["x-request-id"],this.error=r;const i=r;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,r,n){const s=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,r,n,s){if(!e||!s)return new Fl({message:n,cause:sd(r)});const i=r==null?void 0:r.error;return e===400?new Q0(e,i,n,s):e===401?new J0(e,i,n,s):e===403?new G0(e,i,n,s):e===404?new X0(e,i,n,s):e===409?new Y0(e,i,n,s):e===422?new Z0(e,i,n,s):e===429?new ev(e,i,n,s):e>=500?new tv(e,i,n,s):new De(e,i,n,s)}}class St extends De{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Fl extends De{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class wf extends Fl{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Q0 extends De{}class J0 extends De{}class G0 extends De{}class X0 extends De{}class Y0 extends De{}class Z0 extends De{}class ev extends De{}class tv extends De{}class rv extends q{constructor(){super("Could not parse response content as the length limit was reached")}}class nv extends q{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Ga=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},gn=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ct;class Ul{constructor(){ct.set(this,void 0),this.buffer=new Uint8Array,Ga(this,ct,null,"f")}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let n=new Uint8Array(this.buffer.length+r.length);n.set(this.buffer),n.set(r,this.buffer.length),this.buffer=n;const s=[];let i;for(;(i=BE(this.buffer,gn(this,ct,"f")))!=null;){if(i.carriage&&gn(this,ct,"f")==null){Ga(this,ct,i.index,"f");continue}if(gn(this,ct,"f")!=null&&(i.index!==gn(this,ct,"f")+1||i.carriage)){s.push(this.decodeText(this.buffer.slice(0,gn(this,ct,"f")-1))),this.buffer=this.buffer.slice(gn(this,ct,"f")),Ga(this,ct,null,"f");continue}const a=gn(this,ct,"f")!==null?i.preceding-1:i.preceding,o=this.decodeText(this.buffer.slice(0,a));s.push(o),this.buffer=this.buffer.slice(i.index),Ga(this,ct,null,"f")}return s}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new q(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new q(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new q("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}ct=new WeakMap;Ul.NEWLINE_CHARS=new Set([`
`,"\r"]);Ul.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function BE(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function WE(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}function sv(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class er{constructor(e,r){this.iterator=e,this.controller=r}static fromSSEResponse(e,r){let n=!1;async function*s(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let i=!1;try{for await(const a of qE(e,r))if(!i){if(a.data.startsWith("[DONE]")){i=!0;continue}if(a.event===null||a.event.startsWith("response.")||a.event.startsWith("transcript.")){let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(o&&o.error)throw new De(void 0,o.error,void 0,dv(e.headers));yield o}else{let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(a.event=="error")throw new De(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||r.abort()}}return new er(s,r)}static fromReadableStream(e,r){let n=!1;async function*s(){const a=new Ul,o=sv(e);for await(const l of o)for(const c of a.decode(l))yield c;for(const l of a.flush())yield l}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let a=!1;try{for await(const o of s())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||r.abort()}}return new er(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=n.next();e.push(a),r.push(a)}return i.shift()}});return[new er(()=>s(e),this.controller),new er(()=>s(r),this.controller)]}toReadableStream(){const e=this;let r;const n=new TextEncoder;return new B0({async start(){r=e[Symbol.asyncIterator]()},async pull(s){try{const{value:i,done:a}=await r.next();if(a)return s.close();const o=n.encode(JSON.stringify(i)+`
`);s.enqueue(o)}catch(i){s.error(i)}},async cancel(){var s;await((s=r.return)==null?void 0:s.call(r))}})}}async function*qE(t,e){if(!t.body)throw e.abort(),new q("Attempted to iterate over a response with no body");const r=new HE,n=new Ul,s=sv(t.body);for await(const i of VE(s))for(const a of n.decode(i)){const o=r.decode(a);o&&(yield o)}for(const i of n.flush()){const a=r.decode(i);a&&(yield a)}}async function*VE(t){let e=new Uint8Array;for await(const r of t){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r;let s=new Uint8Array(e.length+n.length);s.set(e),s.set(n,e.length),e=s;let i;for(;(i=WE(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class HE{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,s]=KE(e,":");return s.startsWith(" ")&&(s=s.substring(1)),r==="event"?this.event=s:r==="data"&&this.data.push(s),null}}function KE(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}const iv=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",av=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Bl(t),Bl=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",QE=t=>av(t)||iv(t)||H0(t);async function ov(t,e,r){var s;if(t=await t,av(t))return t;if(iv(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=Bl(i)?[await i.arrayBuffer()]:[i];return new rd(a,e,r)}const n=await JE(t);if(e||(e=XE(t)??"unknown_file"),!(r!=null&&r.type)){const i=(s=n[0])==null?void 0:s.type;typeof i=="string"&&(r={...r,type:i})}return new rd(n,e,r)}async function JE(t){var r;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Bl(t))e.push(await t.arrayBuffer());else if(YE(t))for await(const n of t)e.push(n);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(r=t==null?void 0:t.constructor)==null?void 0:r.name}; props: ${GE(t)}`);return e}function GE(t){return`[${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}function XE(t){var e;return Lu(t.name)||Lu(t.filename)||((e=Lu(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Lu=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},YE=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Hm=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Ws=async t=>{const e=await ZE(t.body);return W0(e,t)},ZE=async t=>{const e=new U0;return await Promise.all(Object.entries(t||{}).map(([r,n])=>nd(e,r,n))),e},nd=async(t,e,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(QE(r)){const n=await ov(r);t.append(e,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>nd(t,e+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,s])=>nd(t,`${e}[${n}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var bs={},e2=function(t,e,r,n,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r},t2=function(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Xa;K0();async function lv(t){var a;const{response:e}=t;if(t.options.stream)return nn("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):er.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const r=e.headers.get("content-type"),n=(a=r==null?void 0:r.split(";")[0])==null?void 0:a.trim();if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.endsWith("+json"))){const o=await e.json();return nn("response",e.status,e.url,e.headers,o),uv(o,e)}const i=await e.text();return nn("response",e.status,e.url,e.headers,i),i}function uv(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Wl extends Promise{constructor(e,r=lv){super(n=>{n(null)}),this.responsePromise=e,this.parseResponse=r}_thenUnwrap(e){return new Wl(this.responsePromise,async r=>uv(e(await this.parseResponse(r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class r2{constructor({baseURL:e,maxRetries:r=2,timeout:n=6e5,httpAgent:s,fetch:i}){this.baseURL=e,this.maxRetries=Mu("maxRetries",r),this.timeout=Mu("timeout",n),this.httpAgent=s,this.fetch=i??F0}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...o2(),...this.authHeaders(e)}}validateHeaders(e,r){}defaultIdempotencyKey(){return`stainless-node-retry-${d2()}`}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(async s=>{const i=s&&Bl(s==null?void 0:s.body)?new DataView(await s.body.arrayBuffer()):(s==null?void 0:s.body)instanceof DataView?s.body:(s==null?void 0:s.body)instanceof ArrayBuffer?new DataView(s.body):s&&ArrayBuffer.isView(s==null?void 0:s.body)?new DataView(s.body.buffer):s==null?void 0:s.body;return{method:e,path:r,...s,body:i}}))}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:r=0}={}){var v;const n={...e},{method:s,path:i,query:a,headers:o={}}=n,l=ArrayBuffer.isView(n.body)||n.__binaryRequest&&typeof n.body=="string"?n.body:Hm(n.body)?n.body.body:n.body?JSON.stringify(n.body,null,2):null,c=this.calculateContentLength(l),d=this.buildURL(i,a);"timeout"in n&&Mu("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const f=n.httpAgent??this.httpAgent??q0(d),h=n.timeout+1e3;typeof((v=f==null?void 0:f.options)==null?void 0:v.timeout)=="number"&&h>(f.options.timeout??0)&&(f.options.timeout=h),this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const p=this.buildHeaders({options:n,headers:o,contentLength:c,retryCount:r});return{req:{method:s,...l&&{body:l},headers:p,...f&&{agent:f},signal:n.signal??null},url:d,timeout:n.timeout}}buildHeaders({options:e,headers:r,contentLength:n,retryCount:s}){const i={};n&&(i["content-length"]=n);const a=this.defaultHeaders(e);return Gm(i,a),Gm(i,r),Hm(e.body)&&Li!=="node"&&delete i["content-type"],Za(a,"x-stainless-retry-count")===void 0&&Za(r,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(s)),Za(a,"x-stainless-timeout")===void 0&&Za(r,"x-stainless-timeout")===void 0&&e.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(i,r),i}async prepareOptions(e){}async prepareRequest(e,{url:r,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(r=>[...r])):{...e}:{}}makeStatusError(e,r,n,s){return De.generate(e,r,n,s)}request(e,r=null){return new Wl(this.makeRequest(e,r))}async makeRequest(e,r){var f,h;const n=await e,s=n.maxRetries??this.maxRetries;r==null&&(r=s),await this.prepareOptions(n);const{req:i,url:a,timeout:o}=this.buildRequest(n,{retryCount:s-r});if(await this.prepareRequest(i,{url:a,options:n}),nn("request",a,n,i.headers),(f=n.signal)!=null&&f.aborted)throw new St;const l=new AbortController,c=await this.fetchWithTimeout(a,i,o,l).catch(sd);if(c instanceof Error){if((h=n.signal)!=null&&h.aborted)throw new St;if(r)return this.retryRequest(n,r);throw c.name==="AbortError"?new wf:new Fl({cause:c})}const d=dv(c.headers);if(!c.ok){if(r&&this.shouldRetry(c)){const m=`retrying, ${r} attempts remaining`;return nn(`response (error; ${m})`,c.status,a,d),this.retryRequest(n,r,d)}const p=await c.text().catch(m=>sd(m).message),w=l2(p),v=w?void 0:p;throw nn(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,c.status,a,d,v),this.makeStatusError(c.status,w,v,d)}return{response:c,options:n,controller:l}}requestAPIList(e,r){const n=this.makeRequest(r,null);return new n2(this,n,e)}buildURL(e,r){const n=c2(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return fv(s)||(r={...s,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new q(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,r,n,s){const{signal:i,...a}=r||{};i&&i.addEventListener("abort",()=>s.abort());const o=setTimeout(()=>s.abort(),n),l={signal:s.signal,...a};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n){let s;const i=n==null?void 0:n["retry-after-ms"];if(i){const o=parseFloat(i);Number.isNaN(o)||(s=o)}const a=n==null?void 0:n["retry-after"];if(a&&!s){const o=parseFloat(a);Number.isNaN(o)?s=Date.parse(a)-Date.now():s=o*1e3}if(!(s&&0<=s&&s<60*1e3)){const o=e.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,o)}return await _a(s),this.makeRequest(e,r-1)}calculateDefaultRetryTimeoutMillis(e,r){const i=r-e,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${es}`}}class cv{constructor(e,r,n,s){Xa.set(this,void 0),e2(this,Xa,e),this.options=s,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new q("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const r={...this.options};if("params"in e&&typeof r.query=="object")r.query={...r.query,...e.params};else if("url"in e){const n=[...Object.entries(r.query||{}),...e.url.searchParams.entries()];for(const[s,i]of n)e.url.searchParams.set(s,i);r.query=void 0,r.path=e.url.toString()}return await t2(this,Xa,"f").requestAPIList(this.constructor,r)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Xa=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const r of e.getPaginatedItems())yield r}}class n2 extends Wl{constructor(e,r,n){super(r,async s=>new n(e,s.response,await lv(s),s.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const r of e)yield r}}const dv=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,r){const n=r.toString();return e[n.toLowerCase()]||e[n]}}),s2={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},be=t=>typeof t=="object"&&t!==null&&!fv(t)&&Object.keys(t).every(e=>hv(s2,e)),i2=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":es,"X-Stainless-OS":Qm(Deno.build.os),"X-Stainless-Arch":Km(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":es,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":es,"X-Stainless-OS":Qm(process.platform),"X-Stainless-Arch":Km(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=a2();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":es,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":es,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function a2(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const s=n[1]||0,i=n[2]||0,a=n[3]||0;return{browser:e,version:`${s}.${i}.${a}`}}}return null}const Km=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Qm=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Jm;const o2=()=>Jm??(Jm=i2()),l2=t=>{try{return JSON.parse(t)}catch{return}},u2=/^[a-z][a-z0-9+.-]*:/i,c2=t=>u2.test(t),_a=t=>new Promise(e=>setTimeout(e,t)),Mu=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new q(`${t} must be an integer`);if(e<0)throw new q(`${t} must be a positive integer`);return e},sd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Ya=t=>{var e,r,n,s;if(typeof process<"u")return((e=bs==null?void 0:bs[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(s=(n=(r=Deno.env)==null?void 0:r.get)==null?void 0:n.call(r,t))==null?void 0:s.trim()};function fv(t){if(!t)return!0;for(const e in t)return!1;return!0}function hv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gm(t,e){for(const r in e){if(!hv(e,r))continue;const n=r.toLowerCase();if(!n)continue;const s=e[r];s===null?delete t[n]:s!==void 0&&(t[n]=s)}}const Xm=new Set(["authorization","api-key"]);function nn(t,...e){if(typeof process<"u"&&(bs==null?void 0:bs.DEBUG)==="true"){const r=e.map(n=>{if(!n)return n;if(n.headers){const i={...n,headers:{...n.headers}};for(const a in n.headers)Xm.has(a.toLowerCase())&&(i.headers[a]="REDACTED");return i}let s=null;for(const i in n)Xm.has(i.toLowerCase())&&(s??(s={...n}),s[i]="REDACTED");return s??n});console.log(`OpenAI:DEBUG:${t}`,...r)}}const d2=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),f2=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",h2=t=>typeof(t==null?void 0:t.get)=="function",Za=(t,e)=>{var n;const r=e.toLowerCase();if(h2(t)){const s=((n=e[0])==null?void 0:n.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,a,o)=>a+o.toUpperCase());for(const i of[e,r,e.toUpperCase(),s]){const a=t.get(i);if(a)return a}}for(const[s,i]of Object.entries(t))if(s.toLowerCase()===r)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i},m2=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),r=e.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=e.charCodeAt(s);return Array.from(new Float32Array(n.buffer))}};function Du(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class ql extends cv{constructor(e,r,n,s){super(e,r,n,s),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class ze extends cv{constructor(e,r,n,s){super(e,r,n,s),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const r=Object.fromEntries(e.url.searchParams);return Object.keys(r).length?r:null}nextPageInfo(){var n;const e=this.getPaginatedItems();if(!e.length)return null;const r=(n=e[e.length-1])==null?void 0:n.id;return r?{params:{after:r}}:null}}class H{constructor(e){this._client=e}}let mv=class extends H{list(e,r={},n){return be(r)?this.list(e,{},r):this._client.getAPIList(`/chat/completions/${e}/messages`,p2,{query:r,...n})}},Vl=class extends H{constructor(){super(...arguments),this.messages=new mv(this._client)}create(e,r){return this._client.post("/chat/completions",{body:e,...r,stream:e.stream??!1})}retrieve(e,r){return this._client.get(`/chat/completions/${e}`,r)}update(e,r,n){return this._client.post(`/chat/completions/${e}`,{body:r,...n})}list(e={},r){return be(e)?this.list({},e):this._client.getAPIList("/chat/completions",Hl,{query:e,...r})}del(e,r){return this._client.delete(`/chat/completions/${e}`,r)}};class Hl extends ze{}class p2 extends ze{}Vl.ChatCompletionsPage=Hl;Vl.Messages=mv;let Kl=class extends H{constructor(){super(...arguments),this.completions=new Vl(this._client)}};Kl.Completions=Vl;Kl.ChatCompletionsPage=Hl;class pv extends H{create(e,r){return this._client.post("/audio/speech",{body:e,...r,headers:{Accept:"application/octet-stream",...r==null?void 0:r.headers},__binaryResponse:!0})}}class gv extends H{create(e,r){return this._client.post("/audio/transcriptions",Ws({body:e,...r,stream:e.stream??!1,__metadata:{model:e.model}}))}}class yv extends H{create(e,r){return this._client.post("/audio/translations",Ws({body:e,...r,__metadata:{model:e.model}}))}}class xa extends H{constructor(){super(...arguments),this.transcriptions=new gv(this._client),this.translations=new yv(this._client),this.speech=new pv(this._client)}}xa.Transcriptions=gv;xa.Translations=yv;xa.Speech=pv;class _f extends H{create(e,r){return this._client.post("/batches",{body:e,...r})}retrieve(e,r){return this._client.get(`/batches/${e}`,r)}list(e={},r){return be(e)?this.list({},e):this._client.getAPIList("/batches",xf,{query:e,...r})}cancel(e,r){return this._client.post(`/batches/${e}/cancel`,r)}}class xf extends ze{}_f.BatchesPage=xf;var Nt=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},fe=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},id,wo,_o,yi,vi,xo,wi,ur,_i,rl,nl,ts,vv;class bf{constructor(){id.add(this),this.controller=new AbortController,wo.set(this,void 0),_o.set(this,()=>{}),yi.set(this,()=>{}),vi.set(this,void 0),xo.set(this,()=>{}),wi.set(this,()=>{}),ur.set(this,{}),_i.set(this,!1),rl.set(this,!1),nl.set(this,!1),ts.set(this,!1),Nt(this,wo,new Promise((e,r)=>{Nt(this,_o,e,"f"),Nt(this,yi,r,"f")}),"f"),Nt(this,vi,new Promise((e,r)=>{Nt(this,xo,e,"f"),Nt(this,wi,r,"f")}),"f"),fe(this,wo,"f").catch(()=>{}),fe(this,vi,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},fe(this,id,"m",vv).bind(this))},0)}_connected(){this.ended||(fe(this,_o,"f").call(this),this._emit("connect"))}get ended(){return fe(this,_i,"f")}get errored(){return fe(this,rl,"f")}get aborted(){return fe(this,nl,"f")}abort(){this.controller.abort()}on(e,r){return(fe(this,ur,"f")[e]||(fe(this,ur,"f")[e]=[])).push({listener:r}),this}off(e,r){const n=fe(this,ur,"f")[e];if(!n)return this;const s=n.findIndex(i=>i.listener===r);return s>=0&&n.splice(s,1),this}once(e,r){return(fe(this,ur,"f")[e]||(fe(this,ur,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{Nt(this,ts,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){Nt(this,ts,!0,"f"),await fe(this,vi,"f")}_emit(e,...r){if(fe(this,_i,"f"))return;e==="end"&&(Nt(this,_i,!0,"f"),fe(this,xo,"f").call(this));const n=fe(this,ur,"f")[e];if(n&&(fe(this,ur,"f")[e]=n.filter(s=>!s.once),n.forEach(({listener:s})=>s(...r))),e==="abort"){const s=r[0];!fe(this,ts,"f")&&!(n!=null&&n.length)&&Promise.reject(s),fe(this,yi,"f").call(this,s),fe(this,wi,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=r[0];!fe(this,ts,"f")&&!(n!=null&&n.length)&&Promise.reject(s),fe(this,yi,"f").call(this,s),fe(this,wi,"f").call(this,s),this._emit("end")}}_emitFinal(){}}wo=new WeakMap,_o=new WeakMap,yi=new WeakMap,vi=new WeakMap,xo=new WeakMap,wi=new WeakMap,ur=new WeakMap,_i=new WeakMap,rl=new WeakMap,nl=new WeakMap,ts=new WeakMap,id=new WeakSet,vv=function(e){if(Nt(this,rl,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new St),e instanceof St)return Nt(this,nl,!0,"f"),this._emit("abort",e);if(e instanceof q)return this._emit("error",e);if(e instanceof Error){const r=new q(e.message);return r.cause=e,this._emit("error",r)}return this._emit("error",new q(String(e)))};var B=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ut=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},$e,ad,Jt,bo,Ot,jn,ms,xn,sl,ft,ko,So,Mi,xi,bi,Ym,Zm,ep,tp,rp,np,sp;class Ft extends bf{constructor(){super(...arguments),$e.add(this),ad.set(this,[]),Jt.set(this,{}),bo.set(this,{}),Ot.set(this,void 0),jn.set(this,void 0),ms.set(this,void 0),xn.set(this,void 0),sl.set(this,void 0),ft.set(this,void 0),ko.set(this,void 0),So.set(this,void 0),Mi.set(this,void 0)}[(ad=new WeakMap,Jt=new WeakMap,bo=new WeakMap,Ot=new WeakMap,jn=new WeakMap,ms=new WeakMap,xn=new WeakMap,sl=new WeakMap,ft=new WeakMap,ko=new WeakMap,So=new WeakMap,Mi=new WeakMap,$e=new WeakSet,Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("event",s=>{const i=r.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const r=new Ft;return r._run(()=>r._fromReadableStream(e)),r}async _fromReadableStream(e,r){var i;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=er.fromReadableStream(e,this.controller);for await(const a of s)B(this,$e,"m",xi).call(this,a);if((i=s.controller.signal)!=null&&i.aborted)throw new St;return this._addRun(B(this,$e,"m",bi).call(this))}toReadableStream(){return new er(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,r,n,s,i){const a=new Ft;return a._run(()=>a._runToolAssistantStream(e,r,n,s,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,r,n,s,i){var c;const a=i==null?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},l=await e.submitToolOutputs(r,n,o,{...i,signal:this.controller.signal});this._connected();for await(const d of l)B(this,$e,"m",xi).call(this,d);if((c=l.controller.signal)!=null&&c.aborted)throw new St;return this._addRun(B(this,$e,"m",bi).call(this))}static createThreadAssistantStream(e,r,n){const s=new Ft;return s._run(()=>s._threadAssistantStream(e,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,r,n,s){const i=new Ft;return i._run(()=>i._runAssistantStream(e,r,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return B(this,ko,"f")}currentRun(){return B(this,So,"f")}currentMessageSnapshot(){return B(this,Ot,"f")}currentRunStepSnapshot(){return B(this,Mi,"f")}async finalRunSteps(){return await this.done(),Object.values(B(this,Jt,"f"))}async finalMessages(){return await this.done(),Object.values(B(this,bo,"f"))}async finalRun(){if(await this.done(),!B(this,jn,"f"))throw Error("Final run was not received.");return B(this,jn,"f")}async _createThreadAssistantStream(e,r,n){var o;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},a=await e.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const l of a)B(this,$e,"m",xi).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new St;return this._addRun(B(this,$e,"m",bi).call(this))}async _createAssistantStream(e,r,n,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await e.create(r,a,{...s,signal:this.controller.signal});this._connected();for await(const c of o)B(this,$e,"m",xi).call(this,c);if((l=o.controller.signal)!=null&&l.aborted)throw new St;return this._addRun(B(this,$e,"m",bi).call(this))}static accumulateDelta(e,r){for(const[n,s]of Object.entries(r)){if(!e.hasOwnProperty(n)){e[n]=s;continue}let i=e[n];if(i==null){e[n]=s;continue}if(n==="index"||n==="type"){e[n]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(Du(i)&&Du(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...s);continue}for(const a of s){if(!Du(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=i[o];l==null?i.push(a):i[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${s}, accValue: ${i}`);e[n]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,r,n){return await this._createThreadAssistantStream(r,e,n)}async _runAssistantStream(e,r,n,s){return await this._createAssistantStream(r,e,n,s)}async _runToolAssistantStream(e,r,n,s,i){return await this._createToolAssistantStream(n,e,r,s,i)}}xi=function(e){if(!this.ended)switch(ut(this,ko,e,"f"),B(this,$e,"m",ep).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":B(this,$e,"m",sp).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":B(this,$e,"m",Zm).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":B(this,$e,"m",Ym).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},bi=function(){if(this.ended)throw new q("stream has ended, this shouldn't happen");if(!B(this,jn,"f"))throw Error("Final run has not been received");return B(this,jn,"f")},Ym=function(e){const[r,n]=B(this,$e,"m",rp).call(this,e,B(this,Ot,"f"));ut(this,Ot,r,"f"),B(this,bo,"f")[r.id]=r;for(const s of n){const i=r.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,r),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,a=r.content[s.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=B(this,ms,"f")){if(B(this,xn,"f"))switch(B(this,xn,"f").type){case"text":this._emit("textDone",B(this,xn,"f").text,B(this,Ot,"f"));break;case"image_file":this._emit("imageFileDone",B(this,xn,"f").image_file,B(this,Ot,"f"));break}ut(this,ms,s.index,"f")}ut(this,xn,r.content[s.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(B(this,ms,"f")!==void 0){const s=e.data.content[B(this,ms,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,B(this,Ot,"f"));break;case"text":this._emit("textDone",s.text,B(this,Ot,"f"));break}}B(this,Ot,"f")&&this._emit("messageDone",e.data),ut(this,Ot,void 0,"f")}},Zm=function(e){const r=B(this,$e,"m",tp).call(this,e);switch(ut(this,Mi,r,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const i of n.step_details.tool_calls)i.index==B(this,sl,"f")?this._emit("toolCallDelta",i,r.step_details.tool_calls[i.index]):(B(this,ft,"f")&&this._emit("toolCallDone",B(this,ft,"f")),ut(this,sl,i.index,"f"),ut(this,ft,r.step_details.tool_calls[i.index],"f"),B(this,ft,"f")&&this._emit("toolCallCreated",B(this,ft,"f")));this._emit("runStepDelta",e.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ut(this,Mi,void 0,"f"),e.data.step_details.type=="tool_calls"&&B(this,ft,"f")&&(this._emit("toolCallDone",B(this,ft,"f")),ut(this,ft,void 0,"f")),this._emit("runStepDone",e.data,r);break}},ep=function(e){B(this,ad,"f").push(e),this._emit("event",e)},tp=function(e){switch(e.event){case"thread.run.step.created":return B(this,Jt,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let r=B(this,Jt,"f")[e.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const s=Ft.accumulateDelta(r,n.delta);B(this,Jt,"f")[e.data.id]=s}return B(this,Jt,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":B(this,Jt,"f")[e.data.id]=e.data;break}if(B(this,Jt,"f")[e.data.id])return B(this,Jt,"f")[e.data.id];throw new Error("No snapshot available")},rp=function(e,r){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in r.content){let a=r.content[i.index];r.content[i.index]=B(this,$e,"m",np).call(this,i,a)}else r.content[i.index]=i,n.push(i);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},np=function(e,r){return Ft.accumulateDelta(r,e)},sp=function(e){switch(ut(this,So,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ut(this,jn,e.data,"f"),B(this,ft,"f")&&(this._emit("toolCallDone",B(this,ft,"f")),ut(this,ft,void 0,"f"));break}};class kf extends H{create(e,r){return this._client.post("/assistants",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get(`/assistants/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post(`/assistants/${e}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e={},r){return be(e)?this.list({},e):this._client.getAPIList("/assistants",Sf,{query:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,r){return this._client.delete(`/assistants/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Sf extends ze{}kf.AssistantsPage=Sf;function ip(t){return typeof t.parse=="function"}const ks=t=>(t==null?void 0:t.role)==="assistant",wv=t=>(t==null?void 0:t.role)==="function",_v=t=>(t==null?void 0:t.role)==="tool";function Ef(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function ba(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function g2(t,e){return!e||!xv(e)?{...t,choices:t.choices.map(r=>({...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:Cf(t,e)}function Cf(t,e){const r=t.choices.map(n=>{var s;if(n.finish_reason==="length")throw new rv;if(n.finish_reason==="content_filter")throw new nv;return{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:((s=n.message.tool_calls)==null?void 0:s.map(i=>v2(e,i)))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?y2(e,n.message.content):null}}});return{...t,choices:r}}function y2(t,e){var r,n;return((r=t.response_format)==null?void 0:r.type)!=="json_schema"?null:((n=t.response_format)==null?void 0:n.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function v2(t,e){var n;const r=(n=t.tools)==null?void 0:n.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:ba(r)?r.$parseRaw(e.function.arguments):r!=null&&r.function.strict?JSON.parse(e.function.arguments):null}}}function w2(t,e){var n;if(!t)return!1;const r=(n=t.tools)==null?void 0:n.find(s=>{var i;return((i=s.function)==null?void 0:i.name)===e.function.name});return ba(r)||(r==null?void 0:r.function.strict)||!1}function xv(t){var e;return Ef(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(r=>ba(r)||r.type==="function"&&r.function.strict===!0))??!1}function _2(t){for(const e of t??[]){if(e.type!=="function")throw new q(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new q(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var tt=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},We,od,il,ld,ud,cd,bv,dd;const ap=10;class kv extends bf{constructor(){super(...arguments),We.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var n;this._chatCompletions.push(e),this._emit("chatCompletion",e);const r=(n=e.choices[0])==null?void 0:n.message;return r&&this._addMessage(r),e}_addMessage(e,r=!0){if("content"in e||(e.content=null),this.messages.push(e),r){if(this._emit("message",e),(wv(e)||_v(e))&&e.content)this._emit("functionCallResult",e.content);else if(ks(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(ks(e)&&e.tool_calls)for(const n of e.tool_calls)n.type==="function"&&this._emit("functionCall",n.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new q("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),tt(this,We,"m",od).call(this)}async finalMessage(){return await this.done(),tt(this,We,"m",il).call(this)}async finalFunctionCall(){return await this.done(),tt(this,We,"m",ld).call(this)}async finalFunctionCallResult(){return await this.done(),tt(this,We,"m",ud).call(this)}async totalUsage(){return await this.done(),tt(this,We,"m",cd).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const r=tt(this,We,"m",il).call(this);r&&this._emit("finalMessage",r);const n=tt(this,We,"m",od).call(this);n&&this._emit("finalContent",n);const s=tt(this,We,"m",ld).call(this);s&&this._emit("finalFunctionCall",s);const i=tt(this,We,"m",ud).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",tt(this,We,"m",cd).call(this))}async _createChatCompletion(e,r,n){const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),tt(this,We,"m",bv).call(this,r);const i=await e.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Cf(i,r))}async _runChatCompletion(e,r,n){for(const s of r.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,r,n)}async _runFunctions(e,r,n){var h;const s="function",{function_call:i="auto",stream:a,...o}=r,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:c=ap}=n||{},d={};for(const p of r.functions)d[p.name||p.function.name]=p;const f=r.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of r.messages)this._addMessage(p,!1);for(let p=0;p<c;++p){const v=(h=(await this._createChatCompletion(e,{...o,function_call:i,functions:f,messages:[...this.messages]},n)).choices[0])==null?void 0:h.message;if(!v)throw new q("missing message in ChatCompletion response");if(!v.function_call)return;const{name:b,arguments:g}=v.function_call,m=d[b];if(m){if(l&&l!==b){const S=`Invalid function_call: ${JSON.stringify(b)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,name:b,content:S});continue}}else{const S=`Invalid function_call: ${JSON.stringify(b)}. Available options are: ${f.map(P=>JSON.stringify(P.name)).join(", ")}. Please try again`;this._addMessage({role:s,name:b,content:S});continue}let y;try{y=ip(m)?await m.parse(g):g}catch(S){this._addMessage({role:s,name:b,content:S instanceof Error?S.message:String(S)});continue}const x=await m.function(y,this),k=tt(this,We,"m",dd).call(this,x);if(this._addMessage({role:s,name:b,content:k}),l)return}}async _runTools(e,r,n){var p,w,v;const s="tool",{tool_choice:i="auto",stream:a,...o}=r,l=typeof i!="string"&&((p=i==null?void 0:i.function)==null?void 0:p.name),{maxChatCompletions:c=ap}=n||{},d=r.tools.map(b=>{if(ba(b)){if(!b.$callback)throw new q("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:b.$callback,name:b.function.name,description:b.function.description||"",parameters:b.function.parameters,parse:b.$parseRaw,strict:!0}}}return b}),f={};for(const b of d)b.type==="function"&&(f[b.function.name||b.function.function.name]=b.function);const h="tools"in r?d.map(b=>b.type==="function"?{type:"function",function:{name:b.function.name||b.function.function.name,parameters:b.function.parameters,description:b.function.description,strict:b.function.strict}}:b):void 0;for(const b of r.messages)this._addMessage(b,!1);for(let b=0;b<c;++b){const m=(w=(await this._createChatCompletion(e,{...o,tool_choice:i,tools:h,messages:[...this.messages]},n)).choices[0])==null?void 0:w.message;if(!m)throw new q("missing message in ChatCompletion response");if(!((v=m.tool_calls)!=null&&v.length))return;for(const y of m.tool_calls){if(y.type!=="function")continue;const x=y.id,{name:k,arguments:S}=y.function,P=f[k];if(P){if(l&&l!==k){const A=`Invalid tool_call: ${JSON.stringify(k)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:x,content:A});continue}}else{const A=`Invalid tool_call: ${JSON.stringify(k)}. Available options are: ${Object.keys(f).map($=>JSON.stringify($)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:x,content:A});continue}let R;try{R=ip(P)?await P.parse(S):S}catch(A){const $=A instanceof Error?A.message:String(A);this._addMessage({role:s,tool_call_id:x,content:$});continue}const T=await P.function(R,this),E=tt(this,We,"m",dd).call(this,T);if(this._addMessage({role:s,tool_call_id:x,content:E}),l)return}}}}We=new WeakSet,od=function(){return tt(this,We,"m",il).call(this).content??null},il=function(){let e=this.messages.length;for(;e-- >0;){const r=this.messages[e];if(ks(r)){const{function_call:n,...s}=r,i={...s,content:r.content??null,refusal:r.refusal??null};return n&&(i.function_call=n),i}}throw new q("stream ended without producing a ChatCompletionMessage with role=assistant")},ld=function(){var e,r;for(let n=this.messages.length-1;n>=0;n--){const s=this.messages[n];if(ks(s)&&(s!=null&&s.function_call))return s.function_call;if(ks(s)&&((e=s==null?void 0:s.tool_calls)!=null&&e.length))return(r=s.tool_calls.at(-1))==null?void 0:r.function}},ud=function(){for(let e=this.messages.length-1;e>=0;e--){const r=this.messages[e];if(wv(r)&&r.content!=null||_v(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>{var s;return n.role==="assistant"&&((s=n.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===r.tool_call_id))}))return r.content}},cd=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(e.completion_tokens+=r.completion_tokens,e.prompt_tokens+=r.prompt_tokens,e.total_tokens+=r.total_tokens);return e},bv=function(e){if(e.n!=null&&e.n>1)throw new q("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},dd=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class aa extends kv{static runFunctions(e,r,n){const s=new aa,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,r,i)),s}static runTools(e,r,n){const s=new aa,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,r,i)),s}_addMessage(e,r=!0){super._addMessage(e,r),ks(e)&&e.content&&this._emit("content",e.content)}}const Sv=1,Ev=2,Cv=4,jv=8,Pv=16,Tv=32,Nv=64,Av=128,Rv=256,Ov=Av|Rv,Iv=Pv|Tv|Ov|Nv,$v=Sv|Ev|Iv,Lv=Cv|jv,x2=$v|Lv,Ne={STR:Sv,NUM:Ev,ARR:Cv,OBJ:jv,NULL:Pv,BOOL:Tv,NAN:Nv,INFINITY:Av,MINUS_INFINITY:Rv,INF:Ov,SPECIAL:Iv,ATOM:$v,COLLECTION:Lv,ALL:x2};class b2 extends Error{}class k2 extends Error{}function S2(t,e=Ne.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return E2(t.trim(),e)}const E2=(t,e)=>{const r=t.length;let n=0;const s=h=>{throw new b2(`${h} at position ${n}`)},i=h=>{throw new k2(`${h} at position ${n}`)},a=()=>(f(),n>=r&&s("Unexpected end of input"),t[n]==='"'?o():t[n]==="{"?l():t[n]==="["?c():t.substring(n,n+4)==="null"||Ne.NULL&e&&r-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||Ne.BOOL&e&&r-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||Ne.BOOL&e&&r-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||Ne.INFINITY&e&&r-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||Ne.MINUS_INFINITY&e&&1<r-n&&r-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||Ne.NAN&e&&r-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):d()),o=()=>{const h=n;let p=!1;for(n++;n<r&&(t[n]!=='"'||p&&t[n-1]==="\\");)p=t[n]==="\\"?!p:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(h,++n-Number(p)))}catch(w){i(String(w))}else if(Ne.STR&e)try{return JSON.parse(t.substring(h,n-Number(p))+'"')}catch{return JSON.parse(t.substring(h,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{n++,f();const h={};try{for(;t[n]!=="}";){if(f(),n>=r&&Ne.OBJ&e)return h;const p=o();f(),n++;try{const w=a();Object.defineProperty(h,p,{value:w,writable:!0,enumerable:!0,configurable:!0})}catch(w){if(Ne.OBJ&e)return h;throw w}f(),t[n]===","&&n++}}catch{if(Ne.OBJ&e)return h;s("Expected '}' at end of object")}return n++,h},c=()=>{n++;const h=[];try{for(;t[n]!=="]";)h.push(a()),f(),t[n]===","&&n++}catch{if(Ne.ARR&e)return h;s("Expected ']' at end of array")}return n++,h},d=()=>{if(n===0){t==="-"&&Ne.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(p){if(Ne.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(p))}}const h=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==r&&!(Ne.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(h,n))}catch{t.substring(h,n)==="-"&&Ne.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(h,t.lastIndexOf("e")))}catch(w){i(String(w))}}},f=()=>{for(;n<r&&` 
\r	`.includes(t[n]);)n++};return a()},op=t=>S2(t,Ne.ALL^Ne.NUM);var Jn=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},ne=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Ce,or,Gn,jr,zu,eo,Fu,Uu,Bu,to,Wu,lp;class oa extends kv{constructor(e){super(),Ce.add(this),or.set(this,void 0),Gn.set(this,void 0),jr.set(this,void 0),Jn(this,or,e,"f"),Jn(this,Gn,[],"f")}get currentChatCompletionSnapshot(){return ne(this,jr,"f")}static fromReadableStream(e){const r=new oa(null);return r._run(()=>r._fromReadableStream(e)),r}static createChatCompletion(e,r,n){const s=new oa(r);return s._run(()=>s._runChatCompletion(e,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,r,n){var a;super._createChatCompletion;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),ne(this,Ce,"m",zu).call(this);const i=await e.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of i)ne(this,Ce,"m",Fu).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new St;return this._addChatCompletion(ne(this,Ce,"m",to).call(this))}async _fromReadableStream(e,r){var a;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),ne(this,Ce,"m",zu).call(this),this._connected();const s=er.fromReadableStream(e,this.controller);let i;for await(const o of s)i&&i!==o.id&&this._addChatCompletion(ne(this,Ce,"m",to).call(this)),ne(this,Ce,"m",Fu).call(this,o),i=o.id;if((a=s.controller.signal)!=null&&a.aborted)throw new St;return this._addChatCompletion(ne(this,Ce,"m",to).call(this))}[(or=new WeakMap,Gn=new WeakMap,jr=new WeakMap,Ce=new WeakSet,zu=function(){this.ended||Jn(this,jr,void 0,"f")},eo=function(r){let n=ne(this,Gn,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},ne(this,Gn,"f")[r.index]=n,n)},Fu=function(r){var s,i,a,o,l,c,d,f,h,p,w,v,b,g,m;if(this.ended)return;const n=ne(this,Ce,"m",lp).call(this,r);this._emit("chunk",r,n);for(const y of r.choices){const x=n.choices[y.index];y.delta.content!=null&&((s=x.message)==null?void 0:s.role)==="assistant"&&((i=x.message)!=null&&i.content)&&(this._emit("content",y.delta.content,x.message.content),this._emit("content.delta",{delta:y.delta.content,snapshot:x.message.content,parsed:x.message.parsed})),y.delta.refusal!=null&&((a=x.message)==null?void 0:a.role)==="assistant"&&((o=x.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:y.delta.refusal,snapshot:x.message.refusal}),((l=y.logprobs)==null?void 0:l.content)!=null&&((c=x.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(d=y.logprobs)==null?void 0:d.content,snapshot:((f=x.logprobs)==null?void 0:f.content)??[]}),((h=y.logprobs)==null?void 0:h.refusal)!=null&&((p=x.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(w=y.logprobs)==null?void 0:w.refusal,snapshot:((v=x.logprobs)==null?void 0:v.refusal)??[]});const k=ne(this,Ce,"m",eo).call(this,x);x.finish_reason&&(ne(this,Ce,"m",Bu).call(this,x),k.current_tool_call_index!=null&&ne(this,Ce,"m",Uu).call(this,x,k.current_tool_call_index));for(const S of y.delta.tool_calls??[])k.current_tool_call_index!==S.index&&(ne(this,Ce,"m",Bu).call(this,x),k.current_tool_call_index!=null&&ne(this,Ce,"m",Uu).call(this,x,k.current_tool_call_index)),k.current_tool_call_index=S.index;for(const S of y.delta.tool_calls??[]){const P=(b=x.message.tool_calls)==null?void 0:b[S.index];P!=null&&P.type&&((P==null?void 0:P.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(g=P.function)==null?void 0:g.name,index:S.index,arguments:P.function.arguments,parsed_arguments:P.function.parsed_arguments,arguments_delta:((m=S.function)==null?void 0:m.arguments)??""}):(P==null||P.type,void 0))}}},Uu=function(r,n){var a,o,l;if(ne(this,Ce,"m",eo).call(this,r).done_tool_calls.has(n))return;const i=(a=r.message.tool_calls)==null?void 0:a[n];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const c=(l=(o=ne(this,or,"f"))==null?void 0:o.tools)==null?void 0:l.find(d=>d.type==="function"&&d.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:n,arguments:i.function.arguments,parsed_arguments:ba(c)?c.$parseRaw(i.function.arguments):c!=null&&c.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Bu=function(r){var s,i;const n=ne(this,Ce,"m",eo).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const a=ne(this,Ce,"m",Wu).call(this);this._emit("content.done",{content:r.message.content,parsed:a?a.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(s=r.logprobs)!=null&&s.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(i=r.logprobs)!=null&&i.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},to=function(){if(this.ended)throw new q("stream has ended, this shouldn't happen");const r=ne(this,jr,"f");if(!r)throw new q("request ended without sending any chunks");return Jn(this,jr,void 0,"f"),Jn(this,Gn,[],"f"),C2(r,ne(this,or,"f"))},Wu=function(){var n;const r=(n=ne(this,or,"f"))==null?void 0:n.response_format;return Ef(r)?r:null},lp=function(r){var n,s,i,a;let o=ne(this,jr,"f");const{choices:l,...c}=r;o?Object.assign(o,c):o=Jn(this,jr,{...c,choices:[]},"f");for(const{delta:d,finish_reason:f,index:h,logprobs:p=null,...w}of r.choices){let v=o.choices[h];if(v||(v=o.choices[h]={finish_reason:f,index:h,message:{},logprobs:p,...w}),p)if(!v.logprobs)v.logprobs=Object.assign({},p);else{const{content:S,refusal:P,...R}=p;Object.assign(v.logprobs,R),S&&((n=v.logprobs).content??(n.content=[]),v.logprobs.content.push(...S)),P&&((s=v.logprobs).refusal??(s.refusal=[]),v.logprobs.refusal.push(...P))}if(f&&(v.finish_reason=f,ne(this,or,"f")&&xv(ne(this,or,"f")))){if(f==="length")throw new rv;if(f==="content_filter")throw new nv}if(Object.assign(v,w),!d)continue;const{content:b,refusal:g,function_call:m,role:y,tool_calls:x,...k}=d;if(Object.assign(v.message,k),g&&(v.message.refusal=(v.message.refusal||"")+g),y&&(v.message.role=y),m&&(v.message.function_call?(m.name&&(v.message.function_call.name=m.name),m.arguments&&((i=v.message.function_call).arguments??(i.arguments=""),v.message.function_call.arguments+=m.arguments)):v.message.function_call=m),b&&(v.message.content=(v.message.content||"")+b,!v.message.refusal&&ne(this,Ce,"m",Wu).call(this)&&(v.message.parsed=op(v.message.content))),x){v.message.tool_calls||(v.message.tool_calls=[]);for(const{index:S,id:P,type:R,function:T,...E}of x){const A=(a=v.message.tool_calls)[S]??(a[S]={});Object.assign(A,E),P&&(A.id=P),R&&(A.type=R),T&&(A.function??(A.function={name:T.name??"",arguments:""})),T!=null&&T.name&&(A.function.name=T.name),T!=null&&T.arguments&&(A.function.arguments+=T.arguments,w2(ne(this,or,"f"),A)&&(A.function.parsed_arguments=op(A.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("chunk",s=>{const i=r.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new er(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function C2(t,e){const{id:r,choices:n,created:s,model:i,system_fingerprint:a,...o}=t,l={...o,id:r,choices:n.map(({message:c,finish_reason:d,index:f,logprobs:h,...p})=>{if(!d)throw new q(`missing finish_reason for choice ${f}`);const{content:w=null,function_call:v,tool_calls:b,...g}=c,m=c.role;if(!m)throw new q(`missing role for choice ${f}`);if(v){const{arguments:y,name:x}=v;if(y==null)throw new q(`missing function_call.arguments for choice ${f}`);if(!x)throw new q(`missing function_call.name for choice ${f}`);return{...p,message:{content:w,function_call:{arguments:y,name:x},role:m,refusal:c.refusal??null},finish_reason:d,index:f,logprobs:h}}return b?{...p,index:f,finish_reason:d,logprobs:h,message:{...g,role:m,content:w,refusal:c.refusal??null,tool_calls:b.map((y,x)=>{const{function:k,type:S,id:P,...R}=y,{arguments:T,name:E,...A}=k||{};if(P==null)throw new q(`missing choices[${f}].tool_calls[${x}].id
${ro(t)}`);if(S==null)throw new q(`missing choices[${f}].tool_calls[${x}].type
${ro(t)}`);if(E==null)throw new q(`missing choices[${f}].tool_calls[${x}].function.name
${ro(t)}`);if(T==null)throw new q(`missing choices[${f}].tool_calls[${x}].function.arguments
${ro(t)}`);return{...R,id:P,type:S,function:{...A,name:E,arguments:T}}})}}:{...p,message:{...g,content:w,role:m,refusal:c.refusal??null},finish_reason:d,index:f,logprobs:h}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return g2(l,e)}function ro(t){return JSON.stringify(t)}class Ss extends oa{static fromReadableStream(e){const r=new Ss(null);return r._run(()=>r._fromReadableStream(e)),r}static runFunctions(e,r,n){const s=new Ss(null),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return s._run(()=>s._runFunctions(e,r,i)),s}static runTools(e,r,n){const s=new Ss(r),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,r,i)),s}}let Mv=class extends H{parse(e,r){return _2(e.tools),this._client.chat.completions.create(e,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(n=>Cf(n,e))}runFunctions(e,r){return e.stream?Ss.runFunctions(this._client,e,r):aa.runFunctions(this._client,e,r)}runTools(e,r){return e.stream?Ss.runTools(this._client,e,r):aa.runTools(this._client,e,r)}stream(e,r){return oa.createChatCompletion(this._client,e,r)}};class fd extends H{constructor(){super(...arguments),this.completions=new Mv(this._client)}}(function(t){t.Completions=Mv})(fd||(fd={}));class Dv extends H{create(e,r){return this._client.post("/realtime/sessions",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class zv extends H{create(e,r){return this._client.post("/realtime/transcription_sessions",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Ql extends H{constructor(){super(...arguments),this.sessions=new Dv(this._client),this.transcriptionSessions=new zv(this._client)}}Ql.Sessions=Dv;Ql.TranscriptionSessions=zv;class jf extends H{create(e,r,n){return this._client.post(`/threads/${e}/messages`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get(`/threads/${e}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,s){return this._client.post(`/threads/${e}/messages/${r}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,r={},n){return be(r)?this.list(e,{},r):this._client.getAPIList(`/threads/${e}/messages`,Pf,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r,n){return this._client.delete(`/threads/${e}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Pf extends ze{}jf.MessagesPage=Pf;class Tf extends H{retrieve(e,r,n,s={},i){return be(s)?this.retrieve(e,r,n,{},s):this._client.get(`/threads/${e}/runs/${r}/steps/${n}`,{query:s,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,r,n={},s){return be(n)?this.list(e,r,{},n):this._client.getAPIList(`/threads/${e}/runs/${r}/steps`,Nf,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Nf extends ze{}Tf.RunStepsPage=Nf;let ka=class extends H{constructor(){super(...arguments),this.steps=new Tf(this._client)}create(e,r,n){const{include:s,...i}=r;return this._client.post(`/threads/${e}/runs`,{query:{include:s},body:i,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:r.stream??!1})}retrieve(e,r,n){return this._client.get(`/threads/${e}/runs/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,s){return this._client.post(`/threads/${e}/runs/${r}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,r={},n){return be(r)?this.list(e,{},r):this._client.getAPIList(`/threads/${e}/runs`,Af,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(e,r,n){return this._client.post(`/threads/${e}/runs/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const s=await this.create(e,r,n);return await this.poll(e,s.id,n)}createAndStream(e,r,n){return Ft.createAssistantStream(e,this._client.beta.threads.runs,r,n)}async poll(e,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,r,{...n,headers:{...n==null?void 0:n.headers,...s}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(n!=null&&n.pollIntervalMs)o=n.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await _a(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,r,n){return Ft.createAssistantStream(e,this._client.beta.threads.runs,r,n)}submitToolOutputs(e,r,n,s){return this._client.post(`/threads/${e}/runs/${r}/submit_tool_outputs`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(e,r,n,s){const i=await this.submitToolOutputs(e,r,n,s);return await this.poll(e,i.id,s)}submitToolOutputsStream(e,r,n,s){return Ft.createToolAssistantStream(e,r,this._client.beta.threads.runs,n,s)}};class Af extends ze{}ka.RunsPage=Af;ka.Steps=Tf;ka.RunStepsPage=Nf;class Ys extends H{constructor(){super(...arguments),this.runs=new ka(this._client),this.messages=new jf(this._client)}create(e={},r){return be(e)?this.create({},e):this._client.post("/threads",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get(`/threads/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post(`/threads/${e}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r){return this._client.delete(`/threads/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}createAndRun(e,r){return this._client.post("/threads/runs",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:e.stream??!1})}async createAndRunPoll(e,r){const n=await this.createAndRun(e,r);return await this.runs.poll(n.thread_id,n.id,r)}createAndRunStream(e,r){return Ft.createThreadAssistantStream(e,this._client.beta.threads,r)}}Ys.Runs=ka;Ys.RunsPage=Af;Ys.Messages=jf;Ys.MessagesPage=Pf;class Zs extends H{constructor(){super(...arguments),this.realtime=new Ql(this._client),this.chat=new fd(this._client),this.assistants=new kf(this._client),this.threads=new Ys(this._client)}}Zs.Realtime=Ql;Zs.Assistants=kf;Zs.AssistantsPage=Sf;Zs.Threads=Ys;class Fv extends H{create(e,r){return this._client.post("/completions",{body:e,...r,stream:e.stream??!1})}}class Uv extends H{create(e,r){const n=!!e.encoding_format;let s=n?e.encoding_format:"base64";n&&nn("Request","User defined encoding_format:",e.encoding_format);const i=this._client.post("/embeddings",{body:{...e,encoding_format:s},...r});return n?i:(nn("response","Decoding base64 embeddings to float32 array"),i._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const l=o.embedding;o.embedding=m2(l)}),a)))}}class Rf extends H{retrieve(e,r,n,s){return this._client.get(`/evals/${e}/runs/${r}/output_items/${n}`,s)}list(e,r,n={},s){return be(n)?this.list(e,r,{},n):this._client.getAPIList(`/evals/${e}/runs/${r}/output_items`,Of,{query:n,...s})}}class Of extends ze{}Rf.OutputItemListResponsesPage=Of;class Sa extends H{constructor(){super(...arguments),this.outputItems=new Rf(this._client)}create(e,r,n){return this._client.post(`/evals/${e}/runs`,{body:r,...n})}retrieve(e,r,n){return this._client.get(`/evals/${e}/runs/${r}`,n)}list(e,r={},n){return be(r)?this.list(e,{},r):this._client.getAPIList(`/evals/${e}/runs`,If,{query:r,...n})}del(e,r,n){return this._client.delete(`/evals/${e}/runs/${r}`,n)}cancel(e,r,n){return this._client.post(`/evals/${e}/runs/${r}`,n)}}class If extends ze{}Sa.RunListResponsesPage=If;Sa.OutputItems=Rf;Sa.OutputItemListResponsesPage=Of;class Ea extends H{constructor(){super(...arguments),this.runs=new Sa(this._client)}create(e,r){return this._client.post("/evals",{body:e,...r})}retrieve(e,r){return this._client.get(`/evals/${e}`,r)}update(e,r,n){return this._client.post(`/evals/${e}`,{body:r,...n})}list(e={},r){return be(e)?this.list({},e):this._client.getAPIList("/evals",$f,{query:e,...r})}del(e,r){return this._client.delete(`/evals/${e}`,r)}}class $f extends ze{}Ea.EvalListResponsesPage=$f;Ea.Runs=Sa;Ea.RunListResponsesPage=If;let Lf=class extends H{create(e,r){return this._client.post("/files",Ws({body:e,...r}))}retrieve(e,r){return this._client.get(`/files/${e}`,r)}list(e={},r){return be(e)?this.list({},e):this._client.getAPIList("/files",Mf,{query:e,...r})}del(e,r){return this._client.delete(`/files/${e}`,r)}content(e,r){return this._client.get(`/files/${e}/content`,{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}retrieveContent(e,r){return this._client.get(`/files/${e}/content`,r)}async waitForProcessing(e,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(e);for(;!a.status||!s.has(a.status);)if(await _a(r),a=await this.retrieve(e),Date.now()-i>n)throw new wf({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return a}};class Mf extends ze{}Lf.FileObjectsPage=Mf;class Bv extends H{}let Wv=class extends H{run(e,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...r})}validate(e,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...r})}};class Df extends H{constructor(){super(...arguments),this.graders=new Wv(this._client)}}Df.Graders=Wv;class zf extends H{create(e,r,n){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,Ff,{body:r,method:"post",...n})}retrieve(e,r={},n){return be(r)?this.retrieve(e,{},r):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:r,...n})}del(e,r,n){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${r}`,n)}}class Ff extends ql{}zf.PermissionCreateResponsesPage=Ff;let Jl=class extends H{constructor(){super(...arguments),this.permissions=new zf(this._client)}};Jl.Permissions=zf;Jl.PermissionCreateResponsesPage=Ff;class Uf extends H{list(e,r={},n){return be(r)?this.list(e,{},r):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Bf,{query:r,...n})}}class Bf extends ze{}Uf.FineTuningJobCheckpointsPage=Bf;class ei extends H{constructor(){super(...arguments),this.checkpoints=new Uf(this._client)}create(e,r){return this._client.post("/fine_tuning/jobs",{body:e,...r})}retrieve(e,r){return this._client.get(`/fine_tuning/jobs/${e}`,r)}list(e={},r){return be(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Wf,{query:e,...r})}cancel(e,r){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,r)}listEvents(e,r={},n){return be(r)?this.listEvents(e,{},r):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,qf,{query:r,...n})}pause(e,r){return this._client.post(`/fine_tuning/jobs/${e}/pause`,r)}resume(e,r){return this._client.post(`/fine_tuning/jobs/${e}/resume`,r)}}class Wf extends ze{}class qf extends ze{}ei.FineTuningJobsPage=Wf;ei.FineTuningJobEventsPage=qf;ei.Checkpoints=Uf;ei.FineTuningJobCheckpointsPage=Bf;class hn extends H{constructor(){super(...arguments),this.methods=new Bv(this._client),this.jobs=new ei(this._client),this.checkpoints=new Jl(this._client),this.alpha=new Df(this._client)}}hn.Methods=Bv;hn.Jobs=ei;hn.FineTuningJobsPage=Wf;hn.FineTuningJobEventsPage=qf;hn.Checkpoints=Jl;hn.Alpha=Df;class qv extends H{}class Vf extends H{constructor(){super(...arguments),this.graderModels=new qv(this._client)}}Vf.GraderModels=qv;class Vv extends H{createVariation(e,r){return this._client.post("/images/variations",Ws({body:e,...r}))}edit(e,r){return this._client.post("/images/edits",Ws({body:e,...r}))}generate(e,r){return this._client.post("/images/generations",{body:e,...r})}}class Hf extends H{retrieve(e,r){return this._client.get(`/models/${e}`,r)}list(e){return this._client.getAPIList("/models",Kf,e)}del(e,r){return this._client.delete(`/models/${e}`,r)}}class Kf extends ql{}Hf.ModelsPage=Kf;class Hv extends H{create(e,r){return this._client.post("/moderations",{body:e,...r})}}function j2(t,e){return!e||!T2(e)?{...t,output_parsed:null,output:t.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:Kv(t,e)}function Kv(t,e){const r=t.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:R2(e,s)};if(s.type==="message"){const i=s.content.map(a=>a.type==="output_text"?{...a,parsed:P2(e,a.text)}:a);return{...s,content:i}}return s}),n=Object.assign({},t,{output:r});return Object.getOwnPropertyDescriptor(t,"output_text")||Qv(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const s of n.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),n}function P2(t,e){var r,n,s,i;return((n=(r=t.text)==null?void 0:r.format)==null?void 0:n.type)!=="json_schema"?null:"$parseRaw"in((s=t.text)==null?void 0:s.format)?((i=t.text)==null?void 0:i.format).$parseRaw(e):JSON.parse(e)}function T2(t){var e;return!!Ef((e=t.text)==null?void 0:e.format)}function N2(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function A2(t,e){return t.find(r=>r.type==="function"&&r.name===e)}function R2(t,e){const r=A2(t.tools??[],e.name);return{...e,...e,parsed_arguments:N2(r)?r.$parseRaw(e.arguments):r!=null&&r.strict?JSON.parse(e.arguments):null}}function Qv(t){const e=[];for(const r of t.output)if(r.type==="message")for(const n of r.content)n.type==="output_text"&&e.push(n.text);t.output_text=e.join("")}class Jv extends H{list(e,r={},n){return be(r)?this.list(e,{},r):this._client.getAPIList(`/responses/${e}/input_items`,I2,{query:r,...n})}}var Xn=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},Pr=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Yn,no,Tr,so,up,cp,dp,fp;class Qf extends bf{constructor(e){super(),Yn.add(this),no.set(this,void 0),Tr.set(this,void 0),so.set(this,void 0),Xn(this,no,e,"f")}static createResponse(e,r,n){const s=new Qf(r);return s._run(()=>s._createResponse(e,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createResponse(e,r,n){var a;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),Pr(this,Yn,"m",up).call(this);const i=await e.responses.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of i)Pr(this,Yn,"m",cp).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new St;return Pr(this,Yn,"m",dp).call(this)}[(no=new WeakMap,Tr=new WeakMap,so=new WeakMap,Yn=new WeakSet,up=function(){this.ended||Xn(this,Tr,void 0,"f")},cp=function(r){if(this.ended)return;const n=Pr(this,Yn,"m",fp).call(this,r);switch(this._emit("event",r),r.type){case"response.output_text.delta":{const s=n.output[r.output_index];if(!s)throw new q(`missing output at index ${r.output_index}`);if(s.type==="message"){const i=s.content[r.content_index];if(!i)throw new q(`missing content at index ${r.content_index}`);if(i.type!=="output_text")throw new q(`expected content to be 'output_text', got ${i.type}`);this._emit("response.output_text.delta",{...r,snapshot:i.text})}break}case"response.function_call_arguments.delta":{const s=n.output[r.output_index];if(!s)throw new q(`missing output at index ${r.output_index}`);s.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...r,snapshot:s.arguments});break}default:this._emit(r.type,r);break}},dp=function(){if(this.ended)throw new q("stream has ended, this shouldn't happen");const r=Pr(this,Tr,"f");if(!r)throw new q("request ended without sending any events");Xn(this,Tr,void 0,"f");const n=O2(r,Pr(this,no,"f"));return Xn(this,so,n,"f"),n},fp=function(r){let n=Pr(this,Tr,"f");if(!n){if(r.type!=="response.created")throw new q(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=Xn(this,Tr,r.response,"f"),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{const s=n.output[r.output_index];if(!s)throw new q(`missing output at index ${r.output_index}`);s.type==="message"&&s.content.push(r.part);break}case"response.output_text.delta":{const s=n.output[r.output_index];if(!s)throw new q(`missing output at index ${r.output_index}`);if(s.type==="message"){const i=s.content[r.content_index];if(!i)throw new q(`missing content at index ${r.content_index}`);if(i.type!=="output_text")throw new q(`expected content to be 'output_text', got ${i.type}`);i.text+=r.delta}break}case"response.function_call_arguments.delta":{const s=n.output[r.output_index];if(!s)throw new q(`missing output at index ${r.output_index}`);s.type==="function_call"&&(s.arguments+=r.delta);break}case"response.completed":{Xn(this,Tr,r.response,"f");break}}return n},Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("event",s=>{const i=r.shift();i?i.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const i of r)i.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,a)=>r.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=Pr(this,so,"f");if(!e)throw new q("stream ended without producing a ChatCompletion");return e}}function O2(t,e){return j2(t,e)}class Jf extends H{constructor(){super(...arguments),this.inputItems=new Jv(this._client)}create(e,r){return this._client.post("/responses",{body:e,...r,stream:e.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&Qv(n),n))}retrieve(e,r={},n){return be(r)?this.retrieve(e,{},r):this._client.get(`/responses/${e}`,{query:r,...n})}del(e,r){return this._client.delete(`/responses/${e}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}parse(e,r){return this._client.responses.create(e,r)._thenUnwrap(n=>Kv(n,e))}stream(e,r){return Qf.createResponse(this._client,e,r)}}class I2 extends ze{}Jf.InputItems=Jv;class Gv extends H{create(e,r,n){return this._client.post(`/uploads/${e}/parts`,Ws({body:r,...n}))}}class Gf extends H{constructor(){super(...arguments),this.parts=new Gv(this._client)}create(e,r){return this._client.post("/uploads",{body:e,...r})}cancel(e,r){return this._client.post(`/uploads/${e}/cancel`,r)}complete(e,r,n){return this._client.post(`/uploads/${e}/complete`,{body:r,...n})}}Gf.Parts=Gv;const $2=async t=>{const e=await Promise.allSettled(t),r=e.filter(s=>s.status==="rejected");if(r.length){for(const s of r)console.error(s.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const n=[];for(const s of e)s.status==="fulfilled"&&n.push(s.value);return n};class Gl extends H{create(e,r,n){return this._client.post(`/vector_stores/${e}/files`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get(`/vector_stores/${e}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,s){return this._client.post(`/vector_stores/${e}/files/${r}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,r={},n){return be(r)?this.list(e,{},r):this._client.getAPIList(`/vector_stores/${e}/files`,Xl,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r,n){return this._client.delete(`/vector_stores/${e}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const s=await this.create(e,r,n);return await this.poll(e,s.id,n)}async poll(e,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const i=await this.retrieve(e,r,{...n,headers:s}).withResponse(),a=i.data;switch(a.status){case"in_progress":let o=5e3;if(n!=null&&n.pollIntervalMs)o=n.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await _a(o);break;case"failed":case"completed":return a}}}async upload(e,r,n){const s=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(e,{file_id:s.id},n)}async uploadAndPoll(e,r,n){const s=await this.upload(e,r,n);return await this.poll(e,s.id,n)}content(e,r,n){return this._client.getAPIList(`/vector_stores/${e}/files/${r}/content`,Xf,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Xl extends ze{}class Xf extends ql{}Gl.VectorStoreFilesPage=Xl;Gl.FileContentResponsesPage=Xf;class Xv extends H{create(e,r,n){return this._client.post(`/vector_stores/${e}/file_batches`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get(`/vector_stores/${e}/file_batches/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(e,r,n){return this._client.post(`/vector_stores/${e}/file_batches/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const s=await this.create(e,r);return await this.poll(e,s.id,n)}listFiles(e,r,n={},s){return be(n)?this.listFiles(e,r,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${r}/files`,Xl,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async poll(e,r,n){const s={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(s["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,r,{...n,headers:s}).withResponse();switch(i.status){case"in_progress":let o=5e3;if(n!=null&&n.pollIntervalMs)o=n.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await _a(o);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:r,fileIds:n=[]},s){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,a=Math.min(i,r.length),o=this._client,l=r.values(),c=[...n];async function d(h){for(let p of h){const w=await o.files.create({file:p,purpose:"assistants"},s);c.push(w.id)}}const f=Array(a).fill(l).map(d);return await $2(f),await this.createAndPoll(e,{file_ids:c})}}class mn extends H{constructor(){super(...arguments),this.files=new Gl(this._client),this.fileBatches=new Xv(this._client)}create(e,r){return this._client.post("/vector_stores",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get(`/vector_stores/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post(`/vector_stores/${e}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e={},r){return be(e)?this.list({},e):this._client.getAPIList("/vector_stores",Yf,{query:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,r){return this._client.delete(`/vector_stores/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}search(e,r,n){return this._client.getAPIList(`/vector_stores/${e}/search`,Zf,{body:r,method:"post",...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Yf extends ze{}class Zf extends ql{}mn.VectorStoresPage=Yf;mn.VectorStoreSearchResponsesPage=Zf;mn.Files=Gl;mn.VectorStoreFilesPage=Xl;mn.FileContentResponsesPage=Xf;mn.FileBatches=Xv;var Yv;class K extends r2{constructor({baseURL:e=Ya("OPENAI_BASE_URL"),apiKey:r=Ya("OPENAI_API_KEY"),organization:n=Ya("OPENAI_ORG_ID")??null,project:s=Ya("OPENAI_PROJECT_ID")??null,...i}={}){if(r===void 0)throw new q("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:r,organization:n,project:s,...i,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&f2())throw new q(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new Fv(this),this.chat=new Kl(this),this.embeddings=new Uv(this),this.files=new Lf(this),this.images=new Vv(this),this.audio=new xa(this),this.moderations=new Hv(this),this.models=new Hf(this),this.fineTuning=new hn(this),this.graders=new Vf(this),this.vectorStores=new mn(this),this.beta=new Zs(this),this.batches=new _f(this),this.uploads=new Gf(this),this.responses=new Jf(this),this.evals=new Ea(this),this._options=a,this.apiKey=r,this.organization=n,this.project=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return DE(e,{arrayFormat:"brackets"})}}Yv=K;K.OpenAI=Yv;K.DEFAULT_TIMEOUT=6e5;K.OpenAIError=q;K.APIError=De;K.APIConnectionError=Fl;K.APIConnectionTimeoutError=wf;K.APIUserAbortError=St;K.NotFoundError=X0;K.ConflictError=Y0;K.RateLimitError=ev;K.BadRequestError=Q0;K.AuthenticationError=J0;K.InternalServerError=tv;K.PermissionDeniedError=G0;K.UnprocessableEntityError=Z0;K.toFile=ov;K.fileFromPath=V0;K.Completions=Fv;K.Chat=Kl;K.ChatCompletionsPage=Hl;K.Embeddings=Uv;K.Files=Lf;K.FileObjectsPage=Mf;K.Images=Vv;K.Audio=xa;K.Moderations=Hv;K.Models=Hf;K.ModelsPage=Kf;K.FineTuning=hn;K.Graders=Vf;K.VectorStores=mn;K.VectorStoresPage=Yf;K.VectorStoreSearchResponsesPage=Zf;K.Beta=Zs;K.Batches=_f;K.BatchesPage=xf;K.Uploads=Gf;K.Responses=Jf;K.Evals=Ea;K.EvalListResponsesPage=$f;const L2=new K({apiKey:"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",dangerouslyAllowBrowser:!0});async function M2(t){const{venue_name:e,brand_tone:r,past_events:n}=t,s=`You are a brand memory module for The Train Station venue management system.
  
Analyze and create a concise brand memory from the following information:

Venue Name: ${e}
Brand Tone: ${r}
Past Events: ${n.join(", ")}

Your task is to:
1. Create a concise paragraph that captures the essence of the venue's brand identity
2. Extract key distinctive words/phrases that define the brand voice
3. Identify tone attributes that should be consistent across all AI-generated content

Format the response as JSON with these fields:
- summary: A concise paragraph (max 100 words) summarizing the venue's brand identity
- keywords: An array of 5-10 distinctive words or short phrases that define the brand
- tone_attributes: An array of 3-5 tone attributes (e.g. "friendly", "professional", "nostalgic")

This memory will be used to ensure all AI-generated content maintains consistent brand voice.`;try{const a=(await L2.chat.completions.create({model:"gpt-4o",messages:[{role:"user",content:s}],response_format:{type:"json_object"},temperature:.5})).choices[0].message.content;if(!a)return zt();const o=JSON.parse(a);try{await D2(e,o)}catch(l){console.warn("Failed to store brand memory, but continuing with memory in memory:",l)}return o}catch(i){return console.error("Error generating brand memory:",i),zt()}}function zt(){return{summary:"The Train Station is a rustic, authentic music venue with Southern charm, known for intimate live performances and a welcoming atmosphere. Housed in a renovated historic train station, it embraces its railway heritage while offering exceptional acoustic experiences to music lovers and local community.",keywords:["rustic","authentic","intimate","acoustic","heritage","Southern hospitality","railway history","live music","community-focused","welcoming"],tone_attributes:["warm","genuine","nostalgic","conversational","passionate"]}}async function D2(t,e){try{if(!F)throw console.error("Supabase client not initialized"),new Error("Supabase client not initialized");const{data:r}=await F.auth.getSession();if(!r.session){console.warn("No active Supabase session, skipping database store");return}const{error:n}=await F.from("brand_memory").upsert({venue_name:t,memory_data:e,updated_at:new Date().toISOString()},{onConflict:"venue_name"});if(n)throw console.error("Error storing brand memory:",n),n}catch(r){throw console.error("Error in Supabase operation:",r),r}}async function z2(t){if(!t)return console.log("No venue name provided, skipping brand memory retrieval"),zt();try{if(!F)return console.warn("Supabase client not initialized, using default memory"),zt();const{data:e}=await F.auth.getSession();if(!e.session)return console.warn("No active Supabase session, using default memory"),zt();const{data:r,error:n}=await F.from("brand_memory").select("memory_data").eq("venue_name",t).maybeSingle();return n?(console.warn("Error retrieving brand memory, using default:",n),zt()):(r==null?void 0:r.memory_data)||zt()}catch(e){return console.warn("Error in retrieveBrandMemory, using default:",e),zt()}}const F2=()=>({createBrandMemory:async r=>{try{return await M2(r)}catch(n){return console.error("Error in brand memory hook:",n),zt()}},getBrandMemory:async r=>{if(!r)return console.log("No venue name provided to getBrandMemory"),zt();try{return await z2(r)}catch(n){return console.warn("Error retrieving brand memory, using default:",n),zt()}}}),Zv=_.createContext(void 0),hp=new K({apiKey:"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",dangerouslyAllowBrowser:!0}),U2=()=>{const t=_.useContext(Zv);if(t===void 0)throw new Error("useAI must be used within an AIProvider");return t},B2=({children:t})=>{const[e,r]=_.useState(!1),[n,s]=_.useState(null),[i,a]=_.useState([]),[o,l]=_.useState("friendly"),{getBrandMemory:c}=F2();_.useEffect(()=>{(async()=>{try{const A=await c("The Train Station");if(A){const $=`BRAND VOICE: ${A.summary}

KEY BRAND ATTRIBUTES: ${A.tone_attributes.join(", ")}

KEY TERMS: ${A.keywords.join(", ")}`;s($)}}catch(A){console.error("Error loading brand memory:",A)}})()},[]);const d=_.useCallback(()=>{a([])},[]),f=_.useCallback(E=>{let $={professional:"You are Rowan, a professional AI assistant for The Train Station venue management platform. You provide clear, concise, and business-focused responses.",friendly:"You are Rowan, a friendly and enthusiastic AI assistant for The Train Station venue management platform. You're Michelle's personal conductor, helping with warmth and personality.",analytical:"You are Rowan, an analytical AI assistant for The Train Station venue management platform. You focus on data-driven insights and detailed analysis."}[o];return $+=" You know every detail about artists, events, CRM, ticketing, inventory, finances, and overall venue operations.",n&&($+=`

${n}`),E&&($+=`

CONTEXT: ${E}`),$},[o,n]),h=async(E,A={})=>{const{maxTokens:$=500,temperature:O=.7,useContext:M=!0}=A;r(!0);try{const Z=[{role:"system",content:f()}];if(M&&i.length>0){const I=i.slice(-10);Z.push(...I.map(U=>({role:U.role,content:U.content})))}Z.push({role:"user",content:E});const lt=(await hp.chat.completions.create({model:"gpt-4.1-mini",messages:Z,max_tokens:$,temperature:O})).choices[0].message.content||"";return M&&a(I=>[...I,{role:"user",content:E,timestamp:new Date},{role:"assistant",content:lt,timestamp:new Date}]),lt}catch(Z){return console.error("AI content generation error:",Z),Z.status===401?"Authentication failed. Please check your OpenAI API key.":Z.status===429?"Rate limit exceeded. Please try again in a moment.":Z.status===500?"OpenAI service is currently unavailable. Please try again later.":"Sorry, I encountered an error processing your request. Please try again later."}finally{r(!1)}},p=E=>{if(!E)return null;const $=E.match(/Train Station|venue/i)?"The Train Station":"The Venue",O=E.match(/BRAND ATTRIBUTES:\s*([^\n]+)/),M=O?O[1].split(",").map(Z=>Z.trim()):["modern"];return{venueName:$,toneAttributes:M}},w=async(E,A={})=>{var $,O;if(e)return"";r(!0);try{const{size:M="1024x1024",style:Z="vivid",type:ke="general",venue:lt,event:I}=A;let U=E;ke!=="general"?U=await v(E,ke,lt,I):U=`${n?"[Venue Context: The Train Station music venue] ":""}${E}`;const ae=await new K({apiKey:"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",dangerouslyAllowBrowser:!0}).images.generate({model:"gpt-4o",prompt:U,n:1,size:M,style:Z,quality:"hd"});if((O=($=ae.data)==null?void 0:$[0])!=null&&O.url){const ye={role:"user",content:`Generated ${ke} image: ${E}`,timestamp:new Date};return a(Sr=>[...Sr,ye]),ae.data[0].url}throw new Error("No image URL returned")}catch(M){throw console.error("Image generation error:",M),M}finally{r(!1)}},v=async(E,A,$,O)=>{var I,U,W;const M=p(n),Z=($==null?void 0:$.name)||(M==null?void 0:M.venueName)||"The Train Station",ke=($==null?void 0:$.theme)||((I=M==null?void 0:M.toneAttributes)==null?void 0:I[0])||"modern";return{poster:`Create a professional concert poster for "${(O==null?void 0:O.name)||"Live Music Event"}" at ${Z}. 
              ${(U=O==null?void 0:O.artists)!=null&&U.length?`Featuring: ${O.artists.join(", ")}. `:""}
              ${O!=null&&O.date?`Date: ${O.date}. `:""}
              ${O!=null&&O.genre?`Genre: ${O.genre}. `:""}
              Style: ${ke}, vibrant, eye-catching, high-quality typography, concert poster design.
              Include venue branding elements and ticket information prominently.
              ${E}`,banner:`Design a professional venue banner for ${Z}. 
              Theme: ${ke}, wide format, prominent venue name, 
              elegant typography, live music atmosphere, stage lighting effects.
              Perfect for website headers and social media covers.
              ${E}`,ticket:`Create an elegant ticket design for "${(O==null?void 0:O.name)||"Concert"}" at ${Z}.
              ${O!=null&&O.date?`Event date: ${O.date}. `:""}
              ${O!=null&&O.time?`Time: ${O.time}. `:""}
              ${O!=null&&O.ticketPrice?`Price: ${O.ticketPrice}. `:""}
              Include: ticket stub, perforation line, venue logo area, event details, 
              QR code placeholder, professional layout, premium feel.
              ${E}`,flyer:`Design a compact event flyer for "${(O==null?void 0:O.name)||"Live Event"}" at ${Z}.
              ${(W=O==null?void 0:O.artists)!=null&&W.length?`Artists: ${O.artists.join(", ")}. `:""}
              ${O!=null&&O.date?`Date: ${O.date}. `:""}
              Compact layout, essential information only, shareable format,
              eye-catching graphics, venue branding, call-to-action.
              ${E}`,infographic:`Create a professional agenda infographic for ${Z}.
                   Clean layout, timeline format, easy to read typography,
                   professional design, venue branding, clear information hierarchy.
                   Include time slots, activities, and venue information.
                   ${E}`,social:`Design a social media post for ${Z}.
              ${O!=null&&O.name?`Event: ${O.name}. `:""}
              Square format, mobile-optimized, engaging visuals,
              venue branding, hashtag-ready, shareable design.
              ${E}`}[A]||E},b=async(E,A={})=>w("Concert poster featuring bold typography and dynamic stage lighting effects",{...A,type:"poster",size:A.size||"1024x1792",event:E}),g=async(E,A={})=>w("Professional venue banner with stage and audience atmosphere",{...A,type:"banner",size:A.size||"1792x1024",venue:E}),m=async(E,A={})=>w("Elegant concert ticket design with premium aesthetics and clear layout",{...A,type:"ticket",size:A.size||"1792x1024",event:E}),y=async(E,A={})=>w("Compact event flyer with essential information and engaging visuals",{...A,type:"flyer",size:A.size||"1024x1024",event:E}),x=async(E,A={})=>w("Professional timeline infographic with clear information hierarchy and modern design",{...A,type:"infographic",size:A.size||"1024x1792",event:E}),k=async(E,A={})=>w("Engaging social media post with vibrant colors and mobile-optimized design",{...A,type:"social",size:A.size||"1024x1024",event:E}),S=async(E,A,$={})=>{const{analysisType:O="insights"}=$;r(!0);try{const Z=`You are an expert data analyst for The Train Station music venue. ${{summary:"Provide a concise summary of the key findings in this data.",trends:"Identify trends, patterns, and changes over time in this data.",insights:"Generate actionable insights and recommendations based on this data.",recommendations:"Provide specific, actionable recommendations for improvement based on this data."}[O]} Focus on venue operations, financial performance, and customer insights.`;return(await hp.chat.completions.create({model:"gpt-4.1-mini",messages:[{role:"system",content:Z},{role:"user",content:`Data: ${JSON.stringify(E,null,2)}

Question: ${A}`}],max_tokens:800,temperature:.3})).choices[0].message.content||""}catch(M){throw console.error("AI data analysis error:",M),M}finally{r(!1)}},P=async(E,A)=>{r(!0);try{const $={social:`Create an engaging social media post for ${A.eventName||"an event"} at The Train Station. Include hashtags and compelling call-to-action.`,email:`Write a professional email announcing ${A.eventName||"an event"} to our venue newsletter subscribers.`,poster:`Create descriptive text for an event poster for ${A.eventName||"an event"} including key details and visual elements.`,description:`Write a compelling event description for ${A.eventName||"an event"} for our website and promotional materials.`};return await h($[E],{maxTokens:300,temperature:.8,useContext:!1})}finally{r(!1)}},R=async E=>await S(E,"What are the key financial insights and recommendations for venue performance?",{analysisType:"insights"}),T=async(E,A)=>{r(!0);try{const $=`Based on customer preferences: ${JSON.stringify(E)} and event history: ${JSON.stringify(A)}, recommend upcoming events and marketing strategies for The Train Station venue.`;return await h($,{maxTokens:400,temperature:.6,useContext:!1})}finally{r(!1)}};return u.jsx(Zv.Provider,{value:{isProcessing:e,generateContent:h,generateImage:w,generateEventPoster:b,generateVenueBanner:g,generateTicketDesign:m,generateEventFlyer:y,generateAgendaInfographic:x,generateSocialMediaPost:k,analyzeData:S,generateMarketingContent:P,generateFinancialInsights:R,generateEventRecommendations:T,clearConversationHistory:d,conversationHistory:i,aiPersonality:o,setAiPersonality:l},children:t})},ew=()=>{const[t,e]=_.useState({isMobile:!1,isTablet:!1,isDesktop:!0,orientation:"landscape",viewportWidth:typeof window<"u"?window.innerWidth:1024,viewportHeight:typeof window<"u"?window.innerHeight:768,isOnline:typeof navigator<"u"?navigator.onLine:!0,installPrompt:null}),[r,n]=_.useState(!1);return _.useEffect(()=>{const i=()=>{const f=window.innerWidth,h=window.innerHeight;e(p=>({...p,isMobile:f<768,isTablet:f>=768&&f<1024,isDesktop:f>=1024,orientation:f>h?"landscape":"portrait",viewportWidth:f,viewportHeight:h}))},a=()=>{e(f=>({...f,isOnline:navigator.onLine}))},o=f=>{f.preventDefault(),e(h=>({...h,installPrompt:f}))},l=()=>{const f=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");n(f)};i(),l(),window.addEventListener("resize",i),window.addEventListener("orientationchange",i),window.addEventListener("online",a),window.addEventListener("offline",a),window.addEventListener("beforeinstallprompt",o);let c;const d=()=>{clearTimeout(c),c=setTimeout(i,150)};return window.addEventListener("resize",d),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",i),window.removeEventListener("online",a),window.removeEventListener("offline",a),window.removeEventListener("beforeinstallprompt",o),window.removeEventListener("resize",d),clearTimeout(c)}},[]),{...t,showInstallPrompt:async()=>{t.installPrompt&&(await t.installPrompt.prompt(),(await t.installPrompt.userChoice).outcome==="accepted"&&e(a=>({...a,installPrompt:null})))},isInstallable:t.installPrompt!==null,isStandalone:r}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(t,e)=>{const r=_.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>_.createElement("svg",{ref:d,...W2,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${q2(t)}`,o].join(" "),...c},[...e.map(([f,h])=>_.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=V("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=V("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=V("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=V("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=V("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=V("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=V("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=V("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=V("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=V("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=V("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=V("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=V("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=V("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=V("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=V("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=V("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=V("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=V("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=V("SquareUser",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=V("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=V("TramFront",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h0",key:"q9eq1f"}],["path",{d:"M16 15h0",key:"pzrbjg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=V("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=V("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=V("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=V("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),hC=()=>{const{isInstallable:t,showInstallPrompt:e,isStandalone:r,isMobile:n,isOnline:s}=ew(),[i,a]=_.useState(!1),[o,l]=_.useState(!1);_.useEffect(()=>{if(localStorage.getItem("pwa-install-dismissed")){l(!0);return}const p=setTimeout(()=>{t&&!r&&!o&&a(!0)},3e3);return()=>clearTimeout(p)},[t,r,o]);const c=async()=>{try{await e(),a(!1),xe.success("Thanks for installing TrainStation Dashboard!")}catch(h){console.error("Install failed:",h),xe.error("Installation failed. Please try again.")}},d=()=>{a(!1),l(!0),localStorage.setItem("pwa-install-dismissed","true")},f=()=>{a(!1)};return!i||!t||r?null:u.jsxs(u.Fragment,{children:[!s&&u.jsx("div",{className:"fixed top-0 left-0 right-0 bg-amber-600 text-white text-center py-2 px-4 z-50",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(ul,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-medium",children:"You're offline. Some features may be limited."})]})}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:max-w-sm z-40",children:u.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-sm border border-gray-700 rounded-xl shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:n?u.jsx(oC,{className:"h-5 w-5 text-white"}):u.jsx(nC,{className:"h-5 w-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-white",children:"Install App"}),u.jsx("p",{className:"text-xs text-gray-400",children:"Get the best experience"})]})]}),u.jsx("button",{onClick:f,className:"p-1 hover:bg-gray-700 rounded transition-colors",children:u.jsx(qs,{className:"h-4 w-4 text-gray-400"})})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"font-medium text-white mb-2",children:"Why install?"}),u.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Faster loading and offline access"]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Full-screen experience"]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Push notifications"]}),u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Easy access from home screen"]})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:c,className:"flex-1 flex items-center justify-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[u.jsx(G2,{className:"h-4 w-4"}),"Install"]}),u.jsx("button",{onClick:d,className:"px-4 py-2.5 text-gray-400 hover:text-gray-300 transition-colors text-sm",children:"Not now"})]})]}),u.jsx("div",{className:"px-4 pb-3",children:u.jsx("div",{className:"flex items-center gap-2 text-xs",children:s?u.jsxs(u.Fragment,{children:[u.jsx(iw,{className:"h-3 w-3 text-green-400"}),u.jsx("span",{className:"text-green-400",children:"Online"})]}):u.jsxs(u.Fragment,{children:[u.jsx(ul,{className:"h-3 w-3 text-amber-400"}),u.jsx("span",{className:"text-amber-400",children:"Offline"})]})})})]})})]})},mC=()=>{const[t,e]=_.useState(!1),{isOnline:r}=ew();_.useEffect(()=>{const i=()=>{e(!0)};if("serviceWorker"in navigator)return navigator.serviceWorker.addEventListener("controllerchange",i),()=>{navigator.serviceWorker.removeEventListener("controllerchange",i)}},[]);const n=()=>{window.location.reload()},s=()=>{e(!1)};return!t||!r?null:u.jsx("div",{className:"fixed top-4 left-4 right-4 md:left-auto md:right-4 md:max-w-sm z-50",children:u.jsxs("div",{className:"bg-blue-600 text-white rounded-lg shadow-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"font-semibold",children:"Update Available"}),u.jsx("button",{onClick:s,className:"p-1 hover:bg-blue-700 rounded transition-colors",children:u.jsx(qs,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"text-sm mb-3 text-blue-100",children:"A new version of the app is available with improvements and bug fixes."}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:n,className:"flex-1 bg-white text-blue-600 px-3 py-2 rounded font-medium hover:bg-blue-50 transition-colors",children:"Update Now"}),u.jsx("button",{onClick:s,className:"px-3 py-2 text-blue-100 hover:text-white transition-colors",children:"Later"})]})]})})},rh=()=>{const[t,e]=_.useState({loadTime:0,renderTime:0,memoryUsage:0,navigationTiming:null,vitals:{FCP:null,LCP:null,FID:null,CLS:null,TTFB:null},isLoading:!0,score:0}),r=_.useCallback(l=>{const c=performance.now();return()=>{const f=performance.now()-c;console.log(`${l} render time: ${f.toFixed(2)}ms`),e(h=>({...h,renderTime:Math.max(h.renderTime,f)}))}},[]),n=_.useCallback(()=>{const l=new PerformanceObserver(f=>{for(const h of f.getEntries())h.entryType==="paint"&&h.name==="first-contentful-paint"&&e(p=>({...p,vitals:{...p.vitals,FCP:h.startTime}}))});try{l.observe({entryTypes:["paint"]})}catch{console.warn("Performance Observer not supported")}const c=new PerformanceObserver(f=>{const h=f.getEntries(),p=h[h.length-1];e(w=>({...w,vitals:{...w.vitals,LCP:p.startTime}}))});try{c.observe({entryTypes:["largest-contentful-paint"]})}catch{console.warn("LCP Observer not supported")}const d=new PerformanceObserver(f=>{for(const h of f.getEntries()){const p=h;p.processingStart&&e(w=>({...w,vitals:{...w.vitals,FID:p.processingStart-p.startTime}}))}});try{d.observe({entryTypes:["first-input"]})}catch{console.warn("FID Observer not supported")}return()=>{l.disconnect(),c.disconnect(),d.disconnect()}},[]),s=_.useCallback(l=>{let c=100;return l.loadTime>3e3?c-=30:l.loadTime>1500&&(c-=15),l.vitals.FCP&&l.vitals.FCP>2500?c-=20:l.vitals.FCP&&l.vitals.FCP>1500&&(c-=10),l.vitals.LCP&&l.vitals.LCP>4e3?c-=25:l.vitals.LCP&&l.vitals.LCP>2500&&(c-=12),l.memoryUsage>50?c-=15:l.memoryUsage>25&&(c-=8),Math.max(0,c)},[]),i=_.useCallback(()=>{if("memory"in performance){const l=performance.memory;return Math.round(l.usedJSHeapSize/l.jsHeapSizeLimit*100)}return 0},[]);_.useEffect(()=>{performance.now();const l=performance.getEntriesByType("navigation")[0],c=l?l.loadEventEnd-l.fetchStart:0,d=i(),f=l?l.responseStart-l.fetchStart:null;e(w=>{const v={...w,loadTime:c,memoryUsage:d,navigationTiming:l,vitals:{...w.vitals,TTFB:f},isLoading:!1};return{...v,score:s(v)}});const h=n(),p=setInterval(()=>{const w=i();e(v=>({...v,memoryUsage:w}))},1e4);return()=>{h==null||h(),clearInterval(p)}},[s,i,n]),_.useEffect(()=>{const l=s(t);e(c=>({...c,score:l}))},[t.loadTime,t.vitals,t.memoryUsage,s]);const a=_.useCallback(l=>{const c=performance.now();return()=>{const f=performance.now()-c;console.log(`Page transition to ${l}: ${f.toFixed(2)}ms`)}},[]),o=_.useCallback(()=>{performance.clearMarks&&performance.clearMarks(),performance.clearMeasures&&performance.clearMeasures()},[]);return{...t,measureRenderTime:r,measurePageTransition:a,clearMeasurements:o,getMemoryUsage:i}},pC=()=>u.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:u.jsxs("div",{className:"flex flex-col items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"text-sm text-gray-400",children:"Loading..."})]})}),gC=({componentName:t})=>{const{measureRenderTime:e}=rh();return da.useEffect(()=>e(`${t}-loading`),[t,e]),u.jsx("div",{className:"flex items-center justify-center min-h-[200px] bg-gray-900/50 backdrop-blur-sm rounded-lg",children:u.jsxs("div",{className:"flex flex-col items-center gap-4 p-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-12 h-12 border-3 border-blue-600/30 rounded-full"}),u.jsx("div",{className:"absolute inset-0 w-12 h-12 border-3 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("p",{className:"text-sm font-medium text-white mb-1",children:["Loading ",t]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Optimizing performance..."})]})]})})},yC=({type:t="card"})=>{const e="animate-pulse bg-gray-700 rounded";switch(t){case"card":return u.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700",children:[u.jsx("div",{className:`h-4 ${e} mb-4 w-3/4`}),u.jsx("div",{className:`h-3 ${e} mb-2 w-full`}),u.jsx("div",{className:`h-3 ${e} mb-2 w-5/6`}),u.jsx("div",{className:`h-3 ${e} w-2/3`})]});case"table":return u.jsx("div",{className:"space-y-3",children:[...Array(5)].map((r,n)=>u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:`h-4 ${e} w-1/4`}),u.jsx("div",{className:`h-4 ${e} w-1/3`}),u.jsx("div",{className:`h-4 ${e} w-1/6`}),u.jsx("div",{className:`h-4 ${e} w-1/4`})]},n))});case"chart":return u.jsxs("div",{className:"p-6 bg-gray-800 rounded-lg border border-gray-700",children:[u.jsx("div",{className:`h-4 ${e} mb-6 w-1/3`}),u.jsx("div",{className:"flex items-end gap-2 h-32",children:[...Array(8)].map((r,n)=>u.jsx("div",{className:`${e} w-8`,style:{height:`${Math.random()*80+20}%`}},n))})]});case"text":return u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:`h-4 ${e} w-full`}),u.jsx("div",{className:`h-4 ${e} w-5/6`}),u.jsx("div",{className:`h-4 ${e} w-4/5`}),u.jsx("div",{className:`h-4 ${e} w-3/4`})]});default:return u.jsx(pC,{})}},vC=({children:t,fallback:e,componentName:r="Component"})=>{const{measureRenderTime:n}=rh();return da.useEffect(()=>n(r),[r,n]),u.jsx(_.Suspense,{fallback:e||u.jsx(gC,{componentName:r}),children:t})},wC=()=>{const[t,e]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(!1),[a,o]=_.useState(!1),[l,c]=_.useState({}),{signIn:d}=wa(),f=Pl(),h=()=>{const w={};return t?/\S+@\S+\.\S+/.test(t)||(w.email="Please enter a valid email address"):w.email="Email is required",r?r.length<6&&(w.password="Password must be at least 6 characters"):w.password="Password is required",c(w),Object.keys(w).length===0},p=async w=>{if(w.preventDefault(),!!h()){o(!0),c({});try{const{data:v,error:b}=await d(t,r);if(b){b.message.includes("Invalid login credentials")?c({general:"Invalid email or password. Please try again."}):b.message.includes("Email not confirmed")?c({general:"Please check your email and click the confirmation link before signing in."}):c({general:b.message||"An error occurred during sign in"});return}v.user&&(xe.success("Welcome back!"),f("/dashboard"))}catch(v){console.error("Login error:",v),c({general:"An unexpected error occurred. Please try again."})}finally{o(!1)}}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-black p-4",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto h-12 w-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mb-4",children:u.jsx(yp,{className:"h-6 w-6 text-white"})}),u.jsx("h2",{className:"text-3xl font-bold text-white",children:"Welcome Back"}),u.jsx("p",{className:"mt-2 text-gray-400",children:"Sign in to your Train Station Dashboard"})]}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[u.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50",children:[l.general&&u.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:u.jsx("p",{className:"text-red-400 text-sm",children:l.general})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(rw,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:w=>e(w.target.value),className:`
                      block w-full pl-10 pr-3 py-3 bg-gray-700/50 border rounded-lg text-white placeholder-gray-400
                      focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                      ${l.email?"border-red-500 focus:ring-red-500":"border-gray-600"}
                    `,placeholder:"Enter your email"})]}),l.email&&u.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.email})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(ll,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:w=>n(w.target.value),className:`
                      block w-full pl-10 pr-10 py-3 bg-gray-700/50 border rounded-lg text-white placeholder-gray-400
                      focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                      ${l.password?"border-red-500 focus:ring-red-500":"border-gray-600"}
                    `,placeholder:"Enter your password"}),u.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!s),children:s?u.jsx(md,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):u.jsx(al,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]}),l.password&&u.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.password})]})]}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{type:"submit",disabled:a,className:`\r
                  group relative w-full flex justify-center py-3 px-4 border border-transparent \r
                  text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-500 to-purple-600 \r
                  hover:from-blue-600 hover:to-purple-700 focus:outline-none focus:ring-2 \r
                  focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\r
                  transition-all duration-200\r
                `,children:a?u.jsx(ol,{className:"h-5 w-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(yp,{className:"h-5 w-5 mr-2"}),"Sign In"]})})}),u.jsxs("div",{className:"mt-6 flex items-center justify-between text-sm",children:[u.jsx(Yo,{to:"/forgot-password",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Forgot your password?"}),u.jsx(Yo,{to:"/signup",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Create account"})]})]}),u.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-4 border border-gray-700/30",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Demo Credentials"}),u.jsxs("div",{className:"space-y-1 text-xs text-gray-400",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Admin:"})," admin@trainstation.com / password123"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Manager:"})," manager@trainstation.com / password123"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Staff:"})," staff@trainstation.com / password123"]})]})]})]})]})})},_C=()=>{const[t,e]=_.useState({email:"",password:"",confirmPassword:"",fullName:"",role:"admin"}),[r,n]=_.useState(!1),[s,i]=_.useState(!1),[a,o]=_.useState(!1),[l,c]=_.useState({}),{signUp:d}=wa(),f=Pl(),h=()=>{const v={};return t.fullName.trim()||(v.fullName="Full name is required"),t.email?/\S+@\S+\.\S+/.test(t.email)||(v.email="Please enter a valid email address"):v.email="Email is required",t.password?t.password.length<8?v.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(t.password)||(v.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):v.password="Password is required",t.confirmPassword?t.password!==t.confirmPassword&&(v.confirmPassword="Passwords do not match"):v.confirmPassword="Please confirm your password",c(v),Object.keys(v).length===0},p=v=>{const{name:b,value:g}=v.target;e(m=>({...m,[b]:g}))},w=async v=>{if(v.preventDefault(),!!h()){o(!0),c({});try{const{data:b,error:g}=await d(t.email,t.password,{full_name:t.fullName,role:t.role});if(g){g.message.includes("already registered")?c({email:"An account with this email already exists"}):g.message.includes("weak password")?c({password:"Password is too weak. Please choose a stronger password."}):c({general:g.message||"An error occurred during registration"});return}b.user&&(xe.success("Account created successfully! Please check your email to verify your account."),f("/login",{state:{message:"Please check your email to verify your account before signing in."}}))}catch(b){console.error("Signup error:",b),c({general:"An unexpected error occurred. Please try again."})}finally{o(!1)}}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-black p-4",children:u.jsxs("div",{className:"max-w-md w-full space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto h-12 w-12 bg-gradient-to-r from-green-500 to-blue-600 rounded-lg flex items-center justify-center mb-4",children:u.jsx(wp,{className:"h-6 w-6 text-white"})}),u.jsx("h2",{className:"text-3xl font-bold text-white",children:"Create Account"}),u.jsx("p",{className:"mt-2 text-gray-400",children:"Join the Train Station Dashboard"})]}),u.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[u.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50",children:[l.general&&u.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:u.jsx("p",{className:"text-red-400 text-sm",children:l.general})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Full Name"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Eo,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,value:t.fullName,onChange:p,className:`
                      block w-full pl-10 pr-3 py-3 bg-gray-700/50 border rounded-lg text-white placeholder-gray-400
                      focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                      ${l.fullName?"border-red-500 focus:ring-red-500":"border-gray-600"}
                    `,placeholder:"Enter your full name"})]}),l.fullName&&u.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.fullName})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(rw,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:p,className:`
                      block w-full pl-10 pr-3 py-3 bg-gray-700/50 border rounded-lg text-white placeholder-gray-400
                      focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                      ${l.email?"border-red-500 focus:ring-red-500":"border-gray-600"}
                    `,placeholder:"Enter your email"})]}),l.email&&u.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.email})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-300 mb-1",children:"Role"}),u.jsxs("select",{id:"role",name:"role",value:t.role,onChange:p,className:"block w-full px-3 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[u.jsx("option",{value:"admin",children:"Admin - Full system access"}),u.jsx("option",{value:"manager",children:"Manager - Management access"}),u.jsx("option",{value:"staff",children:"Staff - Basic operations access"}),u.jsx("option",{value:"viewer",children:"Viewer - View only access"})]}),u.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Choose the appropriate role for your responsibilities"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(ll,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,value:t.password,onChange:p,className:`
                      block w-full pl-10 pr-10 py-3 bg-gray-700/50 border rounded-lg text-white placeholder-gray-400
                      focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                      ${l.password?"border-red-500 focus:ring-red-500":"border-gray-600"}
                    `,placeholder:"Create a password"}),u.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?u.jsx(md,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):u.jsx(al,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]}),l.password&&u.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.password})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(ll,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:s?"text":"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:p,className:`
                      block w-full pl-10 pr-10 py-3 bg-gray-700/50 border rounded-lg text-white placeholder-gray-400
                      focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                      ${l.confirmPassword?"border-red-500 focus:ring-red-500":"border-gray-600"}
                    `,placeholder:"Confirm your password"}),u.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!s),children:s?u.jsx(md,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):u.jsx(al,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]}),l.confirmPassword&&u.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.confirmPassword})]})]}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{type:"submit",disabled:a,className:`\r
                  group relative w-full flex justify-center py-3 px-4 border border-transparent \r
                  text-sm font-medium rounded-lg text-white bg-gradient-to-r from-green-500 to-blue-600 \r
                  hover:from-green-600 hover:to-blue-700 focus:outline-none focus:ring-2 \r
                  focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed\r
                  transition-all duration-200\r
                `,children:a?u.jsx(ol,{className:"h-5 w-5 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(wp,{className:"h-5 w-5 mr-2"}),"Create Account"]})})}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-gray-400",children:["Already have an account?"," ",u.jsx(Yo,{to:"/login",className:"text-blue-400 hover:text-blue-300 transition-colors font-medium",children:"Sign in here"})]})})]}),u.jsx("div",{className:"bg-gray-800/30 rounded-lg p-4 border border-gray-700/30",children:u.jsx("p",{className:"text-xs text-gray-400 text-center",children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})})]})]})})},Vu=({children:t,requireAuth:e=!0,allowedRoles:r=[],redirectTo:n="/login"})=>{const{user:s,userProfile:i,loading:a}=wa(),o=cn(),[l,c]=_.useState(!1);return _.useEffect(()=>{if(s&&!i&&!a){const d=setTimeout(()=>{c(!0)},3e3);return()=>clearTimeout(d)}else c(!1)},[s,i,a]),a?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:u.jsxs("div",{className:"text-center",children:[u.jsx(ol,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-400",children:"Checking authentication..."})]})}):e&&!s?u.jsx(Fc,{to:n,state:{from:o},replace:!0}):!e&&!s?u.jsx(u.Fragment,{children:t}):s&&!i&&!l?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:u.jsxs("div",{className:"text-center",children:[u.jsx(ol,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-400",children:"Loading user profile..."})]})}):(s&&!i&&l&&console.warn("Profile loading timeout, using minimal profile"),r.length>0&&i&&!r.includes(i.role)?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:u.jsx("div",{className:"max-w-md mx-auto text-center",children:u.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-8 border border-gray-700/50",children:[u.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ll,{className:"h-8 w-8 text-red-400"})}),u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-400 mb-4",children:"You don't have permission to access this page."}),u.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Required role: ",r.join(" or "),u.jsx("br",{}),"Your role: ",i==null?void 0:i.role]}),u.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})]})})}):u.jsx(u.Fragment,{children:t}))},wt=({to:t,icon:e,label:r,onClick:n})=>u.jsxs(Q1,{to:t,onClick:n,className:({isActive:s})=>`
      flex items-center px-4 py-3 text-sm font-medium rounded-lg
      transition-all duration-200 ease-in-out group
      ${s?"bg-amber-600 text-white shadow-lg":"text-gray-300 hover:bg-zinc-700 hover:text-white hover:shadow-md"}
    `,children:[u.jsx("span",{className:"mr-3 transition-transform group-hover:scale-110",children:e}),u.jsx("span",{className:"font-medium",children:r})]}),xC=({open:t,onToggle:e,isMobile:r})=>{const[n,s]=_.useState(!1),i=r??n;_.useEffect(()=>{const l=()=>{s(window.innerWidth<768)};return window.addEventListener("resize",l),l(),()=>window.removeEventListener("resize",l)},[]);const a=()=>{i&&e()},o=`
    fixed top-0 left-0 z-50 h-screen w-64 bg-zinc-900 
    transition-transform duration-300 ease-in-out
    ${t?"translate-x-0":"-translate-x-full"}
    ${i?"shadow-2xl":"shadow-lg"}
    border-r border-zinc-700/50
  `;return u.jsxs(u.Fragment,{children:[i&&!t&&u.jsx("button",{onClick:e,className:"fixed top-4 left-4 z-40 p-2 bg-zinc-800 text-white rounded-lg shadow-lg hover:bg-zinc-700 transition-colors","aria-label":"Open sidebar",children:u.jsx(nw,{size:20})}),u.jsxs("aside",{className:o,children:[u.jsxs("div",{className:"flex h-16 items-center justify-between border-b border-zinc-700/50 px-4 bg-zinc-900/95 backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"p-1.5 bg-amber-600 rounded-lg",children:u.jsx(dC,{className:"h-5 w-5 text-white"})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-playfair text-lg font-bold tracking-tight text-white",children:"Train Station"}),u.jsx("div",{className:"text-xs text-amber-400 font-medium",children:"Dashboard"})]})]}),u.jsx("button",{onClick:e,className:"rounded-full p-2 text-gray-400 hover:bg-zinc-800 hover:text-white transition-colors","aria-label":"Toggle sidebar",children:u.jsx(qs,{size:18})})]}),u.jsxs("div",{className:"flex flex-col p-4 space-y-1 h-[calc(100vh-8rem)] overflow-y-auto scrollbar-thin scrollbar-thumb-zinc-700 scrollbar-track-transparent",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"px-2 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Main"}),u.jsx(wt,{to:"/",icon:u.jsx(Z2,{size:18}),label:"Dashboard",onClick:a}),u.jsx(wt,{to:"/artists",icon:u.jsx(th,{size:18}),label:"Artists",onClick:a}),u.jsx(wt,{to:"/ticketing",icon:u.jsx(cC,{size:18}),label:"Events & Tickets",onClick:a})]}),u.jsxs("div",{className:"pt-4 space-y-1",children:[u.jsx("div",{className:"px-2 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Business"}),u.jsx(wt,{to:"/finances",icon:u.jsx(tw,{size:18}),label:"Finances",onClick:a}),u.jsx(wt,{to:"/marketing",icon:u.jsx(sw,{size:18}),label:"Marketing",onClick:a}),u.jsx(wt,{to:"/customers",icon:u.jsx(uC,{size:18}),label:"Customers",onClick:a}),u.jsx(wt,{to:"/customer-loyalty",icon:u.jsx(V2,{size:18}),label:"Loyalty Program",onClick:a})]}),u.jsxs("div",{className:"pt-4 space-y-1",children:[u.jsx("div",{className:"px-2 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Operations"}),u.jsx(wt,{to:"/inventory",icon:u.jsx(aC,{size:18}),label:"Inventory",onClick:a}),u.jsx(wt,{to:"/documents",icon:u.jsx(X2,{size:18}),label:"Documents",onClick:a}),u.jsx(wt,{to:"/projects",icon:u.jsx(eC,{size:18}),label:"Projects",onClick:a})]}),u.jsxs("div",{className:"pt-4 space-y-1",children:[u.jsx("div",{className:"px-2 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Tools"}),u.jsx(wt,{to:"/ai-tools",icon:u.jsx(aw,{size:18}),label:"AI Assistant",onClick:a}),u.jsx(wt,{to:"/settings",icon:u.jsx(eh,{size:18}),label:"Settings",onClick:a})]})]}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-zinc-700/50 bg-zinc-900/95 backdrop-blur-sm",children:u.jsxs("div",{className:"rounded-lg bg-gradient-to-r from-zinc-800 to-zinc-700 p-3 text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[u.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"The Train Station"})]}),u.jsx("div",{className:"text-xs text-gray-300",children:"4671 5th Street, Corbin, KY"}),u.jsx("div",{className:"text-xs text-amber-400 mt-1",children:"Live Dashboard"})]})})]})]})},bC=({username:t,onMenuClick:e,onAIAssistantToggle:r,searchOpen:n,onSearchToggle:s})=>{const{user:i,signOut:a}=wa(),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[f,h]=_.useState(!1),[p,w]=_.useState(""),v=_.useRef(null),b=_.useRef(null),g=_.useRef(null),m=_.useRef(null),[y,x]=_.useState([{id:"1",title:"Event Alert",message:"Tonight's concert has reached 90% capacity",type:"warning",timestamp:new Date(Date.now()-30*60*1e3),read:!1},{id:"2",title:"Payment Received",message:"Artist payment of $2,500 processed successfully",type:"success",timestamp:new Date(Date.now()-2*60*60*1e3),read:!0},{id:"3",title:"System Update",message:"New features available in the marketing dashboard",type:"info",timestamp:new Date(Date.now()-24*60*60*1e3),read:!1}]),k=y.filter($=>!$.read).length;_.useEffect(()=>{n&&v.current&&v.current.focus()},[n]),_.useEffect(()=>{const $=O=>{b.current&&!b.current.contains(O.target)&&l(!1),g.current&&!g.current.contains(O.target)&&d(!1),m.current&&!m.current.contains(O.target)&&h(!1)};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[]);const S=$=>{x(O=>O.map(M=>M.id===$?{...M,read:!0}:M))},P=()=>{x($=>$.map(O=>({...O,read:!0})))},R=$=>{switch($){case"super_admin":return u.jsx(J2,{className:"h-3 w-3 text-yellow-400"});case"admin":return u.jsx(iC,{className:"h-3 w-3 text-red-400"});case"manager":return u.jsx(th,{className:"h-3 w-3 text-blue-400"});case"staff":return u.jsx(gp,{className:"h-3 w-3 text-green-400"});case"viewer":return u.jsx(al,{className:"h-3 w-3 text-gray-400"});default:return u.jsx(Eo,{className:"h-3 w-3 text-gray-400"})}},T=$=>{switch($){case"super_admin":return"Super Admin";case"admin":return"Admin";case"manager":return"Manager";case"staff":return"Staff";case"viewer":return"Viewer";default:return"User"}},E=$=>{$.preventDefault(),p.trim()&&console.log("Searching for:",p)},A=[{key:"Ctrl + B",action:"Toggle Sidebar"},{key:"Ctrl + K",action:"Open AI Assistant"},{key:"Ctrl + /",action:"Global Search"},{key:"Esc",action:"Close Overlays"}];return u.jsx("header",{className:"sticky top-0 z-40 bg-zinc-900/95 backdrop-blur-sm border-b border-zinc-700/50 shadow-lg transition-all duration-300",children:u.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("button",{onClick:e,className:"rounded-lg p-2 text-gray-300 hover:bg-zinc-800 hover:text-white focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all duration-200","aria-label":"Toggle menu",children:u.jsx(nw,{size:18})}),u.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[u.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-sm",children:"TS"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"font-playfair text-lg font-semibold text-white leading-none",children:"Train Station"}),u.jsx("p",{className:"text-xs text-gray-400",children:"Venue Management"})]})]})]}),u.jsx("div",{className:"flex-1 max-w-md mx-4",children:n?u.jsx("form",{onSubmit:E,className:"relative",children:u.jsxs("div",{className:"relative",children:[u.jsx(vp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),u.jsx("input",{ref:v,type:"text",value:p,onChange:$=>w($.target.value),placeholder:"Search events, artists, customers...",className:"w-full pl-10 pr-4 py-2 bg-zinc-800/50 border border-zinc-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all"}),u.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-1 text-xs text-gray-400",children:[u.jsx(qu,{size:10}),u.jsx("span",{children:"/"})]})]})}):u.jsxs("button",{onClick:s,className:"w-full flex items-center px-3 py-2 bg-zinc-800/30 border border-zinc-700 rounded-lg text-gray-400 hover:text-white hover:bg-zinc-800/50 transition-all text-sm",children:[u.jsx(vp,{size:14,className:"mr-3"}),u.jsx("span",{children:"Search..."}),u.jsxs("div",{className:"ml-auto flex items-center space-x-1 text-xs",children:[u.jsx(qu,{size:10}),u.jsx("span",{children:"/"})]})]})}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("button",{onClick:r,className:"flex items-center rounded-lg bg-gradient-to-r from-amber-500 to-orange-600 px-3 py-2 text-sm font-medium text-white transition-all hover:from-amber-600 hover:to-orange-700 hover:shadow-lg hover:scale-105 focus:outline-none focus:ring-2 focus:ring-amber-500","aria-label":"AI Assistant",children:[u.jsx(aw,{size:14,className:"mr-1.5"}),u.jsx("span",{className:"hidden sm:inline",children:"Rowan AI"}),u.jsxs("div",{className:"ml-1.5 hidden sm:flex items-center space-x-1 text-xs opacity-75",children:[u.jsx(qu,{size:8}),u.jsx("span",{children:"K"})]})]}),u.jsxs("div",{className:"relative",ref:b,children:[u.jsxs("button",{onClick:()=>l(!o),className:"relative rounded-lg p-2 text-gray-300 hover:bg-zinc-800 hover:text-white focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all","aria-label":"Notifications",children:[u.jsx(pp,{size:16}),k>0&&u.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-red-500 text-xs text-white flex items-center justify-center animate-pulse",children:k})]}),o&&u.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-zinc-800 rounded-lg shadow-xl border border-zinc-700 py-2 z-50",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-zinc-700",children:[u.jsx("h3",{className:"font-medium text-white",children:"Notifications"}),k>0&&u.jsx("button",{onClick:P,className:"text-xs text-amber-400 hover:text-amber-300",children:"Mark all read"})]}),u.jsx("div",{className:"max-h-64 overflow-y-auto",children:y.length>0?y.map($=>u.jsx("div",{onClick:()=>S($.id),className:`px-4 py-3 hover:bg-zinc-700/50 cursor-pointer border-l-4 ${$.read?"border-transparent opacity-70":$.type==="error"?"border-red-500":$.type==="warning"?"border-yellow-500":$.type==="success"?"border-green-500":"border-blue-500"}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-white",children:$.title}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:$.message}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:$.timestamp.toLocaleTimeString()})]}),!$.read&&u.jsx("div",{className:"h-2 w-2 rounded-full bg-amber-500 mt-1"})]})},$.id)):u.jsxs("div",{className:"px-4 py-6 text-center text-gray-400",children:[u.jsx(pp,{size:24,className:"mx-auto mb-2 opacity-50"}),u.jsx("p",{className:"text-sm",children:"No notifications"})]})})]})]}),u.jsxs("div",{className:"relative",ref:m,children:[u.jsx("button",{onClick:()=>h(!f),className:"rounded-lg p-2 text-gray-300 hover:bg-zinc-800 hover:text-white focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all","aria-label":"Help",children:u.jsx(Y2,{size:16})}),f&&u.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-zinc-800 rounded-lg shadow-xl border border-zinc-700 py-2 z-50",children:[u.jsx("div",{className:"px-4 py-2 border-b border-zinc-700",children:u.jsx("h3",{className:"font-medium text-white",children:"Keyboard Shortcuts"})}),u.jsx("div",{className:"px-4 py-2",children:A.map(($,O)=>u.jsxs("div",{className:"flex justify-between items-center py-1",children:[u.jsx("span",{className:"text-sm text-gray-400",children:$.action}),u.jsx("kbd",{className:"px-2 py-1 bg-zinc-700 rounded text-xs text-gray-300 font-mono",children:$.key})]},O))}),u.jsx("div",{className:"border-t border-zinc-700 px-4 py-2",children:u.jsx("button",{className:"text-sm text-amber-400 hover:text-amber-300",children:"View Documentation"})})]})]}),u.jsxs("div",{className:"relative",ref:g,children:[u.jsxs("button",{onClick:()=>d(!c),className:"flex items-center space-x-2 rounded-lg p-2 text-gray-300 hover:bg-zinc-800 hover:text-white focus:outline-none focus:ring-2 focus:ring-amber-500 transition-all",children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-amber-600 to-orange-600 flex items-center justify-center",children:u.jsx(Eo,{size:14,className:"text-white"})}),u.jsxs("div",{className:"hidden md:block text-left",children:[u.jsx("p",{className:"text-sm font-medium text-white leading-none",children:t}),u.jsxs("div",{className:"flex items-center space-x-1 mt-0.5",children:[R((i==null?void 0:i.role)||""),u.jsx("span",{className:"text-xs text-gray-400",children:T((i==null?void 0:i.role)||"")})]})]})]}),c&&u.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-zinc-800 rounded-lg shadow-xl border border-zinc-700 py-2 z-50",children:[u.jsx("div",{className:"px-4 py-3 border-b border-zinc-700",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-amber-600 to-orange-600 flex items-center justify-center",children:u.jsx(Eo,{size:16,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-white",children:t}),u.jsxs("div",{className:"flex items-center space-x-1",children:[R((i==null?void 0:i.role)||""),u.jsx("span",{className:"text-xs text-gray-400",children:T((i==null?void 0:i.role)||"")})]})]})]})}),u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-zinc-700 hover:text-white",children:[u.jsx(gp,{size:14,className:"mr-3"}),"Profile Settings"]}),u.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-zinc-700 hover:text-white",children:[u.jsx(eh,{size:14,className:"mr-3"}),"Preferences"]})]}),u.jsx("div",{className:"border-t border-zinc-700 py-1",children:u.jsxs("button",{onClick:()=>a(),className:"flex items-center w-full px-4 py-2 text-sm text-red-400 hover:bg-red-600/10 hover:text-red-300",children:[u.jsx(tC,{size:14,className:"mr-3"}),"Sign Out"]})})]})]})]})]})})},kC=({open:t,onClose:e})=>{const[r,n]=_.useState([{id:"1",content:"Hello! I'm Rowan, your Train Station venue assistant. I can help with analytics, event planning, financial insights, and much more. How can I assist you today?",sender:"ai",timestamp:new Date,type:"text"}]),[s,i]=_.useState(""),[a,o]=_.useState(!1),[l,c]=_.useState(null),d=_.useRef(null),{generateContent:f,isProcessing:h,aiPersonality:p,setAiPersonality:w,clearConversationHistory:v,conversationHistory:b,generateFinancialInsights:g,generateMarketingContent:m}=U2(),[y,x]=_.useState(!1),[k,S]=_.useState(null),P=[{id:"financial-summary",label:"Financial Summary",prompt:"Give me a quick financial overview of the venue including revenue trends and recommendations.",icon:u.jsx(tw,{className:"h-4 w-4"}),category:"analysis"},{id:"event-analysis",label:"Event Performance",prompt:"Analyze recent event performance and suggest improvements for upcoming events.",icon:u.jsx(mp,{className:"h-4 w-4"}),category:"analysis"},{id:"marketing-ideas",label:"Marketing Ideas",prompt:"Generate creative marketing ideas for our upcoming events and social media campaigns.",icon:u.jsx(lC,{className:"h-4 w-4"}),category:"content"},{id:"customer-insights",label:"Customer Insights",prompt:"Provide insights about our customer base and recommendations for improving customer experience.",icon:u.jsx(th,{className:"h-4 w-4"}),category:"insights"},{id:"revenue-optimization",label:"Revenue Tips",prompt:"What are the best strategies to optimize revenue for our venue?",icon:u.jsx(sw,{className:"h-4 w-4"}),category:"insights"},{id:"event-planning",label:"Event Planning",prompt:"Help me plan an upcoming event with budget considerations and marketing strategies.",icon:u.jsx(H2,{className:"h-4 w-4"}),category:"content"}];_.useEffect(()=>{const M=()=>{x(window.innerWidth<768)};return window.addEventListener("resize",M),M(),()=>window.removeEventListener("resize",M)},[]),_.useEffect(()=>{var M;(M=d.current)==null||M.scrollIntoView({behavior:"smooth"})},[r]);const R=async(M,Z="text")=>{const ke=M||s;if(!ke.trim()||h)return;const lt={id:Date.now().toString(),content:ke,sender:"user",timestamp:new Date,type:Z};n(I=>[...I,lt]),i(""),S(null);try{const I=await f(ke,{maxTokens:800,temperature:.7,useContext:!0}),U={id:(Date.now()+1).toString(),content:I,sender:"ai",timestamp:new Date,type:Z==="analysis"?"analysis":"text"};n(W=>[...W,U])}catch(I){console.error("Error getting AI response:",I);const U={id:(Date.now()+1).toString(),content:"I'm sorry, I couldn't process your request. Please try again.",sender:"ai",timestamp:new Date,type:"text"};n(W=>[...W,U]),S("An error occurred while processing your request. Please check your OpenAI API key configuration.")}},T=M=>{R(M.prompt,M.category==="analysis"?"analysis":"recommendation")},E=()=>{n([{id:"1",content:"Conversation cleared! I'm ready to help you with a fresh start. What would you like to know?",sender:"ai",timestamp:new Date,type:"text"}]),v()},A=async(M,Z)=>{try{await navigator.clipboard.writeText(M),c(Z),setTimeout(()=>c(null),2e3)}catch(ke){console.error("Failed to copy text: ",ke)}},$=y?"w-full":"w-96",O=t?"translate-x-0 shadow-2xl":"translate-x-full";return u.jsxs("div",{className:`fixed right-0 top-0 z-50 h-screen ${$} bg-gradient-to-b from-zinc-900 to-zinc-800 transition-transform duration-300 ease-in-out ${O} border-l border-zinc-700`,children:[u.jsxs("div",{className:"flex h-16 items-center justify-between border-b border-zinc-700 px-4 bg-zinc-900/90 backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"rounded-full bg-gradient-to-r from-amber-500 to-orange-500 p-1.5",children:u.jsx(hd,{size:16,className:"text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-playfair text-lg font-semibold text-white",children:"Rowan AI"}),u.jsxs("p",{className:"text-xs text-gray-400 capitalize",children:[p," mode"]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>o(!a),className:"rounded-full p-1.5 text-gray-400 hover:bg-zinc-800 hover:text-white transition-colors","aria-label":"AI Settings",children:u.jsx(eh,{size:14})}),u.jsx("button",{onClick:e,className:"rounded-full p-1.5 text-gray-400 hover:bg-zinc-800 hover:text-white transition-colors","aria-label":"Close AI Assistant",children:u.jsx(qs,{size:14})})]})]}),a&&u.jsxs("div",{className:"border-b border-zinc-700 bg-zinc-800/50 p-4",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"AI Personality"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:["professional","friendly","analytical"].map(M=>u.jsx("button",{onClick:()=>w(M),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${p===M?"bg-amber-600 text-white":"bg-zinc-700 text-gray-300 hover:bg-zinc-600"}`,children:M.charAt(0).toUpperCase()+M.slice(1)},M))})]}),u.jsxs("button",{onClick:E,className:"flex items-center justify-center w-full px-3 py-2 bg-red-600/20 border border-red-500/30 rounded-lg text-red-400 hover:bg-red-600/30 transition-colors text-sm",children:[u.jsx(fC,{size:12,className:"mr-2"}),"Clear History"]})]}),u.jsxs("div",{className:"border-b border-zinc-700 bg-zinc-800/30 p-3",children:[u.jsx("h3",{className:"text-xs font-medium text-gray-400 mb-2",children:"Quick Actions"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:P.slice(0,4).map(M=>u.jsxs("button",{onClick:()=>T(M),disabled:h,className:"flex items-center justify-center p-2 bg-zinc-700/50 hover:bg-zinc-600/50 rounded-lg text-xs font-medium text-gray-300 hover:text-white transition-colors disabled:opacity-50",children:[M.icon,u.jsx("span",{className:"ml-1 truncate",children:M.label})]},M.id))})]}),u.jsxs("div",{className:"flex h-[calc(100%-12rem)] flex-col overflow-y-auto p-4 space-y-4",children:[r.map(M=>u.jsx("div",{className:`group flex ${M.sender==="user"?"justify-end":"justify-start"}`,children:u.jsx("div",{className:`max-w-[85%] ${M.sender==="user"?"order-2":"order-1"}`,children:u.jsxs("div",{className:`rounded-lg p-3 ${M.sender==="user"?"bg-gradient-to-r from-amber-600 to-orange-600 text-white":M.type==="analysis"?"bg-gradient-to-r from-blue-600/20 to-indigo-600/20 border border-blue-500/30 text-white":"bg-zinc-800 text-white border border-zinc-700"}`,children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsx("p",{className:"break-words text-sm leading-relaxed flex-1",children:M.content}),M.sender==="ai"&&u.jsx("button",{onClick:()=>A(M.content,M.id),className:"ml-2 opacity-0 group-hover:opacity-100 transition-opacity",children:l===M.id?u.jsx(K2,{size:12,className:"text-green-400"}):u.jsx(Q2,{size:12,className:"text-gray-400 hover:text-white"})})]}),u.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[u.jsx("div",{className:"text-xs opacity-70",children:M.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),M.type==="analysis"&&u.jsxs("div",{className:"flex items-center text-xs text-blue-400",children:[u.jsx(mp,{size:10,className:"mr-1"}),"Analysis"]})]})]})})},M.id)),h&&u.jsx("div",{className:"flex justify-start",children:u.jsx("div",{className:"bg-zinc-800 border border-zinc-700 rounded-lg p-3 max-w-[85%]",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(pd,{size:14,className:"animate-spin text-amber-500"}),u.jsx("span",{className:"text-sm text-gray-300",children:"Rowan is thinking..."})]})})}),k&&u.jsx("div",{className:"mx-4",children:u.jsxs("div",{className:"rounded-lg bg-red-900/20 border border-red-800/50 p-3 text-center",children:[u.jsx("p",{className:"text-sm text-red-400",children:k}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Check your .env file configuration for VITE_OPENAI_API_KEY"})]})}),u.jsx("div",{ref:d})]}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 border-t border-zinc-700 bg-zinc-900/90 backdrop-blur-sm p-4",children:u.jsxs("form",{onSubmit:M=>{M.preventDefault(),R()},className:"space-y-3",children:[b.length>0&&u.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[u.jsx(rC,{size:10,className:"mr-1"}),u.jsxs("span",{children:[b.length," messages in context"]})]}),u.jsxs("div",{className:"flex items-end space-x-2",children:[u.jsx("div",{className:"flex-1",children:u.jsx("textarea",{value:s,onChange:M=>i(M.target.value),placeholder:"Ask me anything about the venue...",className:"w-full resize-none rounded-lg border-0 bg-zinc-800 px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500 max-h-20",disabled:h,rows:1,onKeyDown:M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),R())}})}),u.jsx("button",{type:"submit",disabled:h||!s.trim(),className:"flex items-center justify-center rounded-lg bg-gradient-to-r from-amber-600 to-orange-600 px-3 py-2 text-white hover:from-amber-700 hover:to-orange-700 focus:outline-none disabled:opacity-50 transition-all","aria-label":"Send message",children:h?u.jsx(pd,{size:14,className:"animate-spin"}):u.jsx(sC,{size:14})})]})]})})]})},SC=()=>u.jsx("div",{className:"flex items-center justify-center h-full bg-zinc-800",children:u.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"h-12 w-12 rounded-full border-4 border-zinc-600 border-t-amber-500 animate-spin"}),u.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:u.jsx("div",{className:"h-3 w-3 rounded-full bg-amber-500 animate-pulse"})})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-white font-medium",children:"Loading Train Station Dashboard"}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Preparing your venue management tools..."})]})]})});class EC extends da.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("App Error:",e,r)}render(){return this.state.hasError?u.jsx("div",{className:"flex items-center justify-center h-screen bg-zinc-900",children:u.jsxs("div",{className:"text-center p-8 max-w-md",children:[u.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),u.jsx("h2",{className:"text-white text-xl font-semibold mb-2",children:"Something went wrong"}),u.jsx("p",{className:"text-gray-400 mb-4",children:"We're sorry, but something unexpected happened. Please refresh the page or contact support."}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}const CC=()=>{const[t,e]=_.useState(navigator.onLine);return _.useEffect(()=>{const r=()=>e(navigator.onLine);return window.addEventListener("online",r),window.addEventListener("offline",r),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",r)}},[]),t},jC=t=>{const e=t.split("/").filter(Boolean),r=[{label:"Dashboard",path:"/"}],n={artists:"Artists",ticketing:"Ticketing",finances:"Finances",marketing:"Marketing",projects:"Projects",crm:"CRM",inventory:"Inventory",staff:"Staff",settings:"Settings",documents:"Documents"};return e.forEach((s,i)=>{n[s]&&r.push({label:n[s],path:i===e.length-1?void 0:`/${e.slice(0,i+1).join("/")}`})}),r},PC=({breadcrumbs:t})=>u.jsx("nav",{className:"flex items-center space-x-2 text-sm text-gray-400 mb-4",children:t.map((e,r)=>u.jsxs(da.Fragment,{children:[r>0&&u.jsx("span",{className:"text-gray-600",children:"/"}),e.path?u.jsx("a",{href:e.path,className:"hover:text-white transition-colors",children:e.label}):u.jsx("span",{className:"text-white font-medium",children:e.label})]},r))}),TC=()=>{const{user:t,userProfile:e}=wa(),r=cn(),n=CC(),[s,i]=_.useState(!1),[a,o]=_.useState(!1),[l,c]=_.useState(!1),[d,f]=_.useState(!0),[h,p]=_.useState(!1),[w,v]=_.useState(!1);_.useEffect(()=>{(async()=>{await new Promise(S=>setTimeout(S,1e3)),f(!1),localStorage.getItem("hasSeenRowanIntro")||setTimeout(()=>{v(!0)},2e3)})()},[]);const b=()=>{i(!s),"vibrate"in navigator&&l&&navigator.vibrate(10)};_.useEffect(()=>{let x;const k=()=>{clearTimeout(x),x=setTimeout(()=>{const S=window.innerWidth<1024;c(S),S&&s&&i(!1),!S&&!s&&!localStorage.getItem("sidebarState")&&i(!0)},100)};try{const S=localStorage.getItem("sidebarState");S?i(S==="open"):window.innerWidth>=1024&&i(!0)}catch(S){console.warn("Failed to load sidebar state from localStorage:",S)}return window.addEventListener("resize",k),k(),()=>{window.removeEventListener("resize",k),clearTimeout(x)}},[]),_.useEffect(()=>{try{localStorage.setItem("sidebarState",s?"open":"closed")}catch(x){console.warn("Failed to save sidebar state to localStorage:",x)}},[s]),_.useEffect(()=>(l&&s?(document.body.style.overflow="hidden",document.body.style.touchAction="none"):(document.body.style.overflow="auto",document.body.style.touchAction="auto"),()=>{document.body.style.overflow="auto",document.body.style.touchAction="auto"}),[l,s]),_.useEffect(()=>{const x=k=>{(k.ctrlKey||k.metaKey)&&k.key==="b"&&(k.preventDefault(),b()),(k.ctrlKey||k.metaKey)&&k.key==="k"&&(k.preventDefault(),o(!a)),(k.ctrlKey||k.metaKey)&&k.key==="/"&&(k.preventDefault(),p(!0)),k.key==="Escape"&&(h&&p(!1),a&&o(!1),l&&s&&i(!1))};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[s,a,h,l]);const g=jC(r.pathname),m=`
    flex-1 flex flex-col overflow-hidden transition-all duration-300 ease-out
    ${s&&!l?"lg:ml-64 transform-gpu":"ml-0 transform-gpu"}
  `,y=()=>{v(!1),localStorage.setItem("hasSeenRowanIntro","true")};return d?u.jsx(SC,{}):u.jsx(EC,{children:u.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900 text-white",children:[u.jsx(xC,{open:s,onToggle:b}),l&&s&&u.jsx("div",{className:"fixed inset-0 z-30 bg-black/60 backdrop-blur-sm transition-all duration-300 ease-out",onClick:b,style:{opacity:s?1:0,visibility:s?"visible":"hidden"},"aria-hidden":"true"}),u.jsxs("div",{className:m,children:[u.jsx(bC,{username:(t==null?void 0:t.email)||(e==null?void 0:e.full_name)||"User",onMenuClick:b,onAIAssistantToggle:()=>o(!a),searchOpen:h,onSearchToggle:()=>p(!h)}),!n&&u.jsxs("div",{className:"bg-red-600/90 backdrop-blur-sm px-4 py-2 text-center text-sm font-medium flex items-center justify-center space-x-2",children:[u.jsx(ul,{size:14}),u.jsx("span",{children:"You're currently offline. Some features may be limited."})]}),u.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gradient-to-b from-zinc-800/50 to-zinc-900/80 backdrop-blur-sm",children:u.jsx("div",{className:"p-4 md:p-6",children:u.jsxs("div",{className:"mx-auto max-w-7xl",children:[u.jsx(PC,{breadcrumbs:g}),u.jsx(_.Suspense,{fallback:u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(pd,{className:"h-6 w-6 animate-spin text-amber-500"}),u.jsx("span",{className:"text-gray-400",children:"Loading page content..."})]})}),children:u.jsx("div",{className:"animate-in fade-in-0 slide-in-from-bottom-4 duration-300",children:u.jsx($1,{})})})]})})}),u.jsx("div",{className:"fixed bottom-4 right-4 flex items-center space-x-2 z-20",children:n?u.jsxs("div",{className:"flex items-center space-x-1 bg-green-600/20 backdrop-blur-sm border border-green-500/30 rounded-full px-3 py-1 text-xs text-green-400",children:[u.jsx(iw,{size:10}),u.jsx("span",{children:"Online"})]}):u.jsxs("div",{className:"flex items-center space-x-1 bg-red-600/20 backdrop-blur-sm border border-red-500/30 rounded-full px-3 py-1 text-xs text-red-400",children:[u.jsx(ul,{size:10}),u.jsx("span",{children:"Offline"})]})}),u.jsxs("button",{onClick:()=>o(!a),className:`
              fixed 
              ${l?"bottom-16 right-4":"bottom-20 right-4"} 
              z-30 
              w-14 h-14 
              bg-gradient-to-r from-amber-500 to-orange-600 
              hover:from-amber-600 hover:to-orange-700 
              text-white rounded-full shadow-lg 
              hover:shadow-xl hover:scale-110 
              transition-all duration-300 ease-out
              flex items-center justify-center
              group
              ${a?"rotate-180 scale-95":"rotate-0 scale-100"}
              backdrop-blur-sm
            `,"aria-label":"Chat with Rowan AI Assistant",title:"Chat with Rowan AI Assistant (Ctrl+K)",children:[a?u.jsx(qs,{size:20,className:"transition-transform duration-300"}):u.jsxs("div",{className:"relative",children:[u.jsx(hd,{size:20,className:"transition-transform duration-300 group-hover:scale-110"}),u.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-pulse shadow-sm"}),u.jsx("div",{className:"absolute -bottom-1 -left-1 text-xs font-bold bg-white text-amber-600 rounded-full w-4 h-4 flex items-center justify-center shadow-sm",children:"AI"})]}),!l&&u.jsx("div",{className:"absolute right-16 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:u.jsxs("div",{className:"bg-zinc-800 text-white text-sm px-3 py-2 rounded-lg shadow-lg whitespace-nowrap border border-zinc-700",children:["Chat with Rowan AI",u.jsx("div",{className:"absolute top-1/2 -right-1 transform -translate-y-1/2 w-2 h-2 bg-zinc-800 border-r border-b border-zinc-700 rotate-45"})]})})]}),w&&u.jsx("div",{className:"fixed bottom-36 right-4 z-40 max-w-xs",children:u.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 text-white p-4 rounded-lg shadow-xl border border-amber-400/20 animate-in slide-in-from-bottom-5 duration-500",children:[u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(hd,{size:20,className:"text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Meet Rowan AI! "}),u.jsx("p",{className:"text-xs text-white/90 mb-3",children:"Your intelligent venue assistant is ready to help with analytics, planning, and insights. Click the AI button to get started!"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>{y(),o(!0)},className:"bg-white/20 hover:bg-white/30 text-white text-xs px-3 py-1 rounded-full transition-colors",children:"Try it now"}),u.jsx("button",{onClick:y,className:"bg-white/10 hover:bg-white/20 text-white text-xs px-3 py-1 rounded-full transition-colors",children:"Later"})]})]}),u.jsx("button",{onClick:y,className:"flex-shrink-0 text-white/70 hover:text-white",children:u.jsx(qs,{size:14})})]}),u.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 bg-gradient-to-r from-amber-500 to-orange-600 rotate-45 border-r border-b border-amber-400/20"})]})})]}),u.jsx(kC,{open:a,onClose:()=>o(!1)})]})})},NC=_.lazy(()=>ie(()=>import("./Dashboard-BDoyTeN2.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),AC=_.lazy(()=>ie(()=>import("./Artists--UHPmizb.js"),__vite__mapDeps([25,26,5,3,12,27,28,29,30,31,17,32,33,34,23,35,36,24,11,37,38,39,40,10]))),RC=_.lazy(()=>ie(()=>import("./ArtistDetail-BjbCbOO8.js"),__vite__mapDeps([41,26,5,3,31,17,42,43,28,30,33,38,24,12,44,39,45]))),OC=_.lazy(()=>ie(()=>import("./Customers-DmV5PJ5a.js"),__vite__mapDeps([46,31,17,47,5,48,12,49,38,24,30,10,50,11,51,36,52,37,53,22]))),IC=_.lazy(()=>ie(()=>import("./CustomerDetail-Wdw3SYiA.js"),__vite__mapDeps([54,31,17,47,5,48,12,49,38,24,30,10,52,42,43,28,23]))),$C=_.lazy(()=>ie(()=>import("./CustomerLoyalty-C9nAHZZj.js"),__vite__mapDeps([55,47,5,31,17,7,56,40,23,44,53,10]))),LC=_.lazy(()=>ie(()=>import("./Inventory-CFVs__HP.js"),__vite__mapDeps([57,6,5,2,3,31,17,49,12,58,20,50,36,43]))),MC=_.lazy(()=>ie(()=>import("./InventoryDetail-BPtKgfQu.js"),__vite__mapDeps([59,6,5,2,3,31,17,49,12,58,30,42,43,28,20,13,14,60,61,10]))),DC=_.lazy(()=>ie(()=>import("./Marketing-BRSZqADO.js"),__vite__mapDeps([62,63,5,31,17,12,64,37,51,11,23,34,35,36,65,45,39,10]))),zC=_.lazy(()=>ie(()=>import("./CreateCampaign-CCnWbVF9.js"),__vite__mapDeps([66,63,5,1,2,3,42,45,39,30]))),FC=_.lazy(()=>ie(()=>import("./Ticketing-BuNiV28l.js"),__vite__mapDeps([67,68,31,17,30,69,1,2,3,4,5,42,40,43,28,23,33,52,29,65,10,70,71,14,12,72,32,13,15,16,11,24,37,50,22,8,9]))),UC=_.lazy(()=>ie(()=>import("./EventReviews-D5oxTZGP.js"),__vite__mapDeps([73,31,17,1,2,3,5,40,10,61,12,30,35,74,42,52]))),BC=_.lazy(()=>ie(()=>import("./Finances-DRlTOmtx.js"),__vite__mapDeps([75,4,5,2,3,1,26,30,10,31,17,12,18,56,76,9,13,14,15,16,19,50]))),WC=_.lazy(()=>ie(()=>import("./Documents-DasKZnA6.js"),__vite__mapDeps([77,31,17,12,78,40,52,64,79,80,11,13,14,15,16,19,23,43,27,33]))),qC=_.lazy(()=>ie(()=>import("./Projects-TsrMiKyV.js"),__vite__mapDeps([81,71,13,14,5,1,2,3,26,12,49,30,31,17,78,23,15,16,19,37,34,11,35,36,52,80,40,22,10]))),VC=_.lazy(()=>ie(()=>import("./Settings-DP6G_MXM.js"),__vite__mapDeps([82,30]))),HC=_.lazy(()=>ie(()=>import("./AITools-ehpcizXk.js"),__vite__mapDeps([83,74,33,61,20,34,52,49,12,30,80,23,31,17,27,79]))),KC=_.lazy(()=>ie(()=>import("./StaffManagement-CCxAmULV.js"),__vite__mapDeps([84,31,17,74,5,9,10,76,44,23,40,52,38,43,13,14,60,16,11,37,21,19,56,34]))),QC=_.lazy(()=>ie(()=>import("./CalendarView-CYeUKtGt.js"),__vite__mapDeps([70,71,14,31,17,12,42,72]))),JC=_.lazy(()=>ie(()=>import("./CreateEvent-DS-gte9A.js"),__vite__mapDeps([68,31,17,30]))),GC=_.lazy(()=>ie(()=>import("./EventDetail-Dcds3GGk.js"),__vite__mapDeps([69,1,2,3,4,5,31,17,42,40,43,28,30,23,33,52,29,65,10]))),XC=_.lazy(()=>ie(()=>import("./ArtistRoyalties-C_6pAgJv.js"),__vite__mapDeps([85,31,17,12,35,34,43,23]))),YC=new _b({defaultOptions:{queries:{staleTime:1e3*60*5,retry:(t,e)=>t<2,refetchOnWindowFocus:!1}}}),ZC=()=>u.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center z-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 border-3 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"TrainStation Dashboard"}),u.jsx("p",{className:"text-gray-400",children:"Loading your workspace..."})]})}),ve=({component:t,componentName:e,fallbackType:r="card"})=>u.jsx(vC,{componentName:e,fallback:u.jsx(yC,{type:r}),children:u.jsx(t,{})}),ej=()=>{const[t,e]=_.useState(!0),{measurePageTransition:r}=rh();return _.useEffect(()=>{const n=r("App-Initial-Load"),s=setTimeout(()=>{e(!1);const i=document.querySelector(".app-loading");i&&i.remove(),n()},1500);return()=>{clearTimeout(s),n()}},[r]),t?u.jsx(ZC,{}):u.jsx(xb,{client:YC,children:u.jsx(PE,{children:u.jsx(B2,{children:u.jsx(V1,{children:u.jsxs("div",{className:"App",children:[u.jsxs(M1,{children:[u.jsx(se,{path:"/login",element:u.jsx(Vu,{requireAuth:!1,children:u.jsx(wC,{})})}),u.jsx(se,{path:"/signup",element:u.jsx(Vu,{requireAuth:!1,children:u.jsx(_C,{})})}),u.jsxs(se,{path:"/*",element:u.jsx(Vu,{children:u.jsx(TC,{})}),children:[u.jsx(se,{path:"dashboard",element:u.jsx(ve,{component:NC,componentName:"Dashboard",fallbackType:"chart"})}),u.jsx(se,{path:"",element:u.jsx(Fc,{to:"/dashboard",replace:!0})}),u.jsx(se,{path:"calendar",element:u.jsx(ve,{component:QC,componentName:"CalendarView",fallbackType:"chart"})}),u.jsx(se,{path:"events/create",element:u.jsx(ve,{component:JC,componentName:"CreateEvent",fallbackType:"card"})}),u.jsx(se,{path:"events/:id",element:u.jsx(ve,{component:GC,componentName:"EventDetail",fallbackType:"card"})}),u.jsx(se,{path:"artists",element:u.jsx(ve,{component:AC,componentName:"Artists",fallbackType:"table"})}),u.jsx(se,{path:"artists/:id",element:u.jsx(ve,{component:RC,componentName:"ArtistDetail",fallbackType:"card"})}),u.jsx(se,{path:"customers",element:u.jsx(ve,{component:OC,componentName:"Customers",fallbackType:"table"})}),u.jsx(se,{path:"customers/:id",element:u.jsx(ve,{component:IC,componentName:"CustomerDetail",fallbackType:"card"})}),u.jsx(se,{path:"customer-loyalty",element:u.jsx(ve,{component:$C,componentName:"CustomerLoyalty",fallbackType:"chart"})}),u.jsx(se,{path:"inventory",element:u.jsx(ve,{component:LC,componentName:"Inventory",fallbackType:"table"})}),u.jsx(se,{path:"inventory/:id",element:u.jsx(ve,{component:MC,componentName:"InventoryDetail",fallbackType:"card"})}),u.jsx(se,{path:"marketing",element:u.jsx(ve,{component:DC,componentName:"Marketing",fallbackType:"chart"})}),u.jsx(se,{path:"marketing/create",element:u.jsx(ve,{component:zC,componentName:"CreateCampaign",fallbackType:"card"})}),u.jsx(se,{path:"ticketing",element:u.jsx(ve,{component:FC,componentName:"Ticketing",fallbackType:"table"})}),u.jsx(se,{path:"reviews",element:u.jsx(ve,{component:UC,componentName:"EventReviews",fallbackType:"card"})}),u.jsx(se,{path:"finances",element:u.jsx(ve,{component:BC,componentName:"Finances",fallbackType:"chart"})}),u.jsx(se,{path:"finances/royalties",element:u.jsx(ve,{component:XC,componentName:"ArtistRoyalties",fallbackType:"table"})}),u.jsx(se,{path:"documents",element:u.jsx(ve,{component:WC,componentName:"Documents",fallbackType:"table"})}),u.jsx(se,{path:"projects",element:u.jsx(ve,{component:qC,componentName:"Projects",fallbackType:"card"})}),u.jsx(se,{path:"settings",element:u.jsx(ve,{component:VC,componentName:"Settings",fallbackType:"card"})}),u.jsx(se,{path:"ai-tools",element:u.jsx(ve,{component:HC,componentName:"AITools",fallbackType:"card"})}),u.jsx(se,{path:"staff",element:u.jsx(ve,{component:KC,componentName:"StaffManagement",fallbackType:"table"})}),u.jsx(se,{path:"*",element:u.jsx(Fc,{to:"/dashboard",replace:!0})})]})]}),u.jsx(hC,{}),u.jsx(mC,{}),u.jsx(dk,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#374151",color:"#fff",border:"1px solid #4B5563",borderRadius:"8px",fontSize:"14px",maxWidth:"90vw"},success:{style:{background:"#065f46",border:"1px solid #059669"}},error:{style:{background:"#7f1d1d",border:"1px solid #dc2626"}}}})]})})})})})};By(document.getElementById("root")).render(u.jsx(ej,{}));export{Ow as $,V2 as A,mp as B,H2 as C,tw as D,al as E,X2 as F,Cj as G,K2 as H,Y2 as I,Pp as J,Uy as K,pd as L,nC as M,oj as N,Sj as O,F as P,wa as Q,da as R,aC as S,cC as T,th as U,iC as V,L2 as W,qs as X,Q2 as Y,aw as Z,F2 as _,Pl as a,Ct as a0,kj as a1,Nl as a2,lb as a3,tb as a4,uj as a5,bm as a6,Rt as a7,Al as a8,Z1 as a9,eb as aa,r0 as ab,hb as ac,nb as ad,Ge as ae,na as af,yb as ag,cj as ah,cn as ai,Yo as aj,Z2 as ak,wp as b,V as c,hd as d,sw as e,vp as f,rw as g,xe as h,J2 as i,u as j,lC as k,lj as l,fC as m,sC as n,G2 as o,Eo as p,pp as q,_ as r,dj as s,Ej as t,U2 as u,eh as v,rC as w,bj as x,M1 as y,se as z};
